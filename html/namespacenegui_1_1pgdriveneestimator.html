<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Popgen GUI: negui.pgdriveneestimator Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Popgen GUI
   </div>
   <div id="projectbrief">GUI Front end with refactoring of population genetics programming provided by Tiago Antao&#39;s AgeStructureNe code, with some outside dependancies (chiefly simuPop and NeEstimator)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>negui</b></li><li class="navelem"><a class="el" href="namespacenegui_1_1pgdriveneestimator.html">pgdriveneestimator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">negui.pgdriveneestimator Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnegui_1_1pgdriveneestimator_1_1ArgSet.html">ArgSet</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnegui_1_1pgdriveneestimator_1_1Counter.html">Counter</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnegui_1_1pgdriveneestimator_1_1DebugMode.html">DebugMode</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a59077d0d79daf6f8b1e39172a12b5a34"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a59077d0d79daf6f8b1e39172a12b5a34"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>set_indices_ne_estimator_output_fields_to_skip</b> ()</td></tr>
<tr class="separator:a59077d0d79daf6f8b1e39172a12b5a34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c40584a0a1685f8175c6034422adf4c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7c40584a0a1685f8175c6034422adf4c"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_datetime_as_string</b> ()</td></tr>
<tr class="separator:a7c40584a0a1685f8175c6034422adf4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b44aee684d792b951e5787db7b69189"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2b44aee684d792b951e5787db7b69189"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>set_debug_mode</b> (s_arg)</td></tr>
<tr class="separator:a2b44aee684d792b951e5787db7b69189"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8972bdaeb431f941619300e9e63a0732"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgdriveneestimator.html#a8972bdaeb431f941619300e9e63a0732">get_invalid_file_names</a> (ls_file_names)</td></tr>
<tr class="separator:a8972bdaeb431f941619300e9e63a0732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bbea10cf2e57b63cac6fffdbabd2f37"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3bbea10cf2e57b63cac6fffdbabd2f37"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>file_name_list_is_all_strings</b> (ls_files)</td></tr>
<tr class="separator:a3bbea10cf2e57b63cac6fffdbabd2f37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0c4544bb6ce5bc184615cfade0f8495"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgdriveneestimator.html#ad0c4544bb6ce5bc184615cfade0f8495">get_genepop_file_list</a> (s_genepop_files_arg)</td></tr>
<tr class="separator:ad0c4544bb6ce5bc184615cfade0f8495"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a014177779b9f1991ca67336bd39160fa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a014177779b9f1991ca67336bd39160fa"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>parse_args</b> (args)</td></tr>
<tr class="separator:a014177779b9f1991ca67336bd39160fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b74086907fdc54d2dbb0f9d797ec678"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0b74086907fdc54d2dbb0f9d797ec678"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>write_parms_to_file</b> (lv_params)</td></tr>
<tr class="separator:a0b74086907fdc54d2dbb0f9d797ec678"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85f2f02c06f18fb4888a00d40ffa9361"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a85f2f02c06f18fb4888a00d40ffa9361"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_sample_val_and_rep_number_from_sample_name</b> (s_sample_name, s_sample_scheme)</td></tr>
<tr class="separator:a85f2f02c06f18fb4888a00d40ffa9361"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4551e387ca20ed229183818ac8ce733c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgdriveneestimator.html#a4551e387ca20ed229183818ac8ce733c">raise_exception_if_non_single_pop_file</a> (o_genepopfile)</td></tr>
<tr class="separator:a4551e387ca20ed229183818ac8ce733c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06645f9b380f736368e27585331ec22f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgdriveneestimator.html#a06645f9b380f736368e27585331ec22f">get_pops_in_file_outside_valid_size_range</a> (o_genepopfile, i_min_pop_size, i_max_pop_size)</td></tr>
<tr class="separator:a06645f9b380f736368e27585331ec22f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7df54bcca5c33c80e648c440527a85ce"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgdriveneestimator.html#a7df54bcca5c33c80e648c440527a85ce">get_string_values_ldne_ratio_and_bias_adjustment</a> (o_ne_estimator, lv_results_list, f_nbne_ratio)</td></tr>
<tr class="separator:a7df54bcca5c33c80e648c440527a85ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94131d79681342c10290d15abb65c696"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a94131d79681342c10290d15abb65c696"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_nbne_ratio_from_genepop_file_header</b> (o_genepopfile)</td></tr>
<tr class="separator:a94131d79681342c10290d15abb65c696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99dfc5e3dc217054199cd4f693e26236"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgdriveneestimator.html#a99dfc5e3dc217054199cd4f693e26236">do_ldne_bias_adjustment</a> (f_ldne_estimate, f_nbne_ratio)</td></tr>
<tr class="separator:a99dfc5e3dc217054199cd4f693e26236"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb13bee850fbafd8116a6b7e8048b98c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgdriveneestimator.html#aeb13bee850fbafd8116a6b7e8048b98c">do_estimate</a> (xxx_todo_changeme)</td></tr>
<tr class="separator:aeb13bee850fbafd8116a6b7e8048b98c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2d5e050f9a707ed67728913d3ac620f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af2d5e050f9a707ed67728913d3ac620f"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>write_results</b> (ds_results, o_main_outfile, o_secondary_outfile)</td></tr>
<tr class="separator:af2d5e050f9a707ed67728913d3ac620f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4185236461b3f8636d0ca816a84f28f8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4185236461b3f8636d0ca816a84f28f8"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>update_indiv_list</b> (dddli_indiv_list, dv_indiv_info_for_replicate, lv_sample_vals)</td></tr>
<tr class="separator:a4185236461b3f8636d0ca816a84f28f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a22ddf30dc8ad29107131c4d4ca9be6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2a22ddf30dc8ad29107131c4d4ca9be6"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>make_indiv_table_name</b> ()</td></tr>
<tr class="separator:a2a22ddf30dc8ad29107131c4d4ca9be6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5764313a499a7eb9fc99db74768cd10d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5764313a499a7eb9fc99db74768cd10d"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_indiv_table_header</b> (lf_proportions)</td></tr>
<tr class="separator:a5764313a499a7eb9fc99db74768cd10d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a263379187199613b753db847b3105160"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a263379187199613b753db847b3105160"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>write_indiv_table</b> (dddli_indiv_list, s_file_name, lf_proportions)</td></tr>
<tr class="separator:a263379187199613b753db847b3105160"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9f7e28c15ac7902cb795cb27997648e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad9f7e28c15ac7902cb795cb27997648e"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>print_test_list_replicate_selection_indices</b> (o_genepopfile, s_sample_scheme, s_indiv_subsample_tag, s_loci_sample_value, s_loci_replicate_number, o_secondary_outfile, s_population_subsample_tag)</td></tr>
<tr class="separator:ad9f7e28c15ac7902cb795cb27997648e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8918df5a619173d4baa530e79dfe2385"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgdriveneestimator.html#a8918df5a619173d4baa530e79dfe2385">parse_sampling_list_that_uses_indiv_id_fields</a> (ls_sampling_list_items)</td></tr>
<tr class="separator:a8918df5a619173d4baa530e79dfe2385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7cb1ccdd969e3d2cd3ba2b8dadaa4d9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab7cb1ccdd969e3d2cd3ba2b8dadaa4d9"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_field_names_from_criteria_test</b> (ls_field_names, s_test)</td></tr>
<tr class="separator:ab7cb1ccdd969e3d2cd3ba2b8dadaa4d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08185cf9c5aff8db21ee0eefa04cd237"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a08185cf9c5aff8db21ee0eefa04cd237"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_criteria_sampling_params</b> (lv_sample_values)</td></tr>
<tr class="separator:a08185cf9c5aff8db21ee0eefa04cd237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5418cd5138d005dae534383305be65e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac5418cd5138d005dae534383305be65e"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_cohorts_sampling_params</b> (lv_sample_values)</td></tr>
<tr class="separator:ac5418cd5138d005dae534383305be65e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab57b50b97d036e0ac3cd5d62728312ba"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab57b50b97d036e0ac3cd5d62728312ba"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_relateds_sampling_params</b> (lv_sample_values)</td></tr>
<tr class="separator:ab57b50b97d036e0ac3cd5d62728312ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74f962e4a6815d8acc2e23c9ad146d0d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgdriveneestimator.html#a74f962e4a6815d8acc2e23c9ad146d0d">do_sample</a> (o_genepopfile, i_min_pop_range, i_max_pop_range, i_min_pop_size, i_max_pop_size, s_sample_scheme, lv_sample_values, i_replicates, s_loci_sampling_scheme, v_loci_sampling_scheme_param, i_min_loci_position, i_max_loci_position, i_min_total_loci, i_max_total_loci, i_loci_replicates)</td></tr>
<tr class="separator:a74f962e4a6815d8acc2e23c9ad146d0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa663cfeded8b8a3710d1a11192f12581"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgdriveneestimator.html#aa663cfeded8b8a3710d1a11192f12581">do_sample_individuals</a> (o_genepopfile, i_min_pop_range, i_max_pop_range, i_min_pop_size, i_max_pop_size, s_sample_scheme, lv_sample_values, i_replicates)</td></tr>
<tr class="separator:aa663cfeded8b8a3710d1a11192f12581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a408b2c39ad32bd720e35f2eace94509c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgdriveneestimator.html#a408b2c39ad32bd720e35f2eace94509c">do_sample_loci</a> (o_genepopfile, s_loci_sampling_scheme, v_loci_sampling_scheme_param, i_min_loci_position, i_max_loci_position, i_min_total_loci, i_max_total_loci, li_population_list, i_loci_replicates=1)</td></tr>
<tr class="separator:a408b2c39ad32bd720e35f2eace94509c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af559a2d83516e3fb3fcebbfcdc96881b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgdriveneestimator.html#af559a2d83516e3fb3fcebbfcdc96881b">get_subsample_genepop_file_name</a> (s_original_genepop_file_name, s_loci_subsample_tag, s_this_pop_sample_name, s_temporary_directory)</td></tr>
<tr class="separator:af559a2d83516e3fb3fcebbfcdc96881b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c650be4ed8ae5fa5e599523c22273bd"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgdriveneestimator.html#a9c650be4ed8ae5fa5e599523c22273bd">make_subsample_genepop_file_name</a> (s_original_genepop_file, s_temporary_directory, i_genepop_file_count, i_indiv_sample_count, i_loci_subsample_count)</td></tr>
<tr class="separator:a9c650be4ed8ae5fa5e599523c22273bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f589286698490f5054d972daa7c9160"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgdriveneestimator.html#a0f589286698490f5054d972daa7c9160">add_to_set_of_calls_to_do_estimate</a> (o_genepopfile, s_sample_scheme, f_min_allele_freq, i_min_pop_size, i_max_pop_size, o_debug_mode, llv_args_each_process, IDX_NE_ESTIMATOR_OUTPUT_FIELDS_TO_SKIP, o_secondary_outfile, f_nbne_ratio, s_temporary_directory, i_genepop_file_count)</td></tr>
<tr class="separator:a0f589286698490f5054d972daa7c9160"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6e046ac333dcd975329026d752ea2d9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgdriveneestimator.html#ac6e046ac333dcd975329026d752ea2d9">get_loci_sample_val_and_rep_number_from_loci_sample_tag</a> (s_loci_subsample_tag)</td></tr>
<tr class="separator:ac6e046ac333dcd975329026d752ea2d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ad4e94d91a0c1c1757084b9cfe6f3af"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3ad4e94d91a0c1c1757084b9cfe6f3af"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_loci_subsample_tags_for_this_indiv_subsample</b> (o_genepopfile, s_indiv_sample_tag)</td></tr>
<tr class="separator:a3ad4e94d91a0c1c1757084b9cfe6f3af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9664c63b7ac063e43774e89e7c9674c2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9664c63b7ac063e43774e89e7c9674c2"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>write_result_sets</b> (lds_results, lv_sample_values, o_debug_mode, o_main_outfile, o_secondary_outfile)</td></tr>
<tr class="separator:a9664c63b7ac063e43774e89e7c9674c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09b9b97dd438ce3e0f4fcf0206e6b22"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad09b9b97dd438ce3e0f4fcf0206e6b22"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>execute_ne_for_each_sample</b> (llv_args_each_process, o_process_pool, o_debug_mode, o_multiprocessing_event)</td></tr>
<tr class="separator:ad09b9b97dd438ce3e0f4fcf0206e6b22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a547e55a4d06bc1d5edf1b9d254dd34ca"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a547e55a4d06bc1d5edf1b9d254dd34ca"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>write_header_main_table</b> (IDX_NE_ESTIMATOR_OUTPUT_FIELDS_TO_SKIP, o_main_outfile)</td></tr>
<tr class="separator:a547e55a4d06bc1d5edf1b9d254dd34ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b7ada08342688dc19f3be50db30ad0b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0b7ada08342688dc19f3be50db30ad0b"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_sample_abbrevs_for_criteria</b> (lds_results)</td></tr>
<tr class="separator:a0b7ada08342688dc19f3be50db30ad0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75b4a299d8030d8bbca11e01fd3211da"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a75b4a299d8030d8bbca11e01fd3211da"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>drive_estimator</b> (args)</td></tr>
<tr class="separator:a75b4a299d8030d8bbca11e01fd3211da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d449c8ab43f1e25695a00307cc55862"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5d449c8ab43f1e25695a00307cc55862"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>set_mod_level_var_to_ldne2_executable_path</b> ()</td></tr>
<tr class="separator:a5d449c8ab43f1e25695a00307cc55862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18217c273c60b3009f24ab642d00bae5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a18217c273c60b3009f24ab642d00bae5"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>did_find_ne_estimator_executable</b> ()</td></tr>
<tr class="separator:a18217c273c60b3009f24ab642d00bae5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4010f65f71a1bce539c5e15317632be2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgdriveneestimator.html#a4010f65f71a1bce539c5e15317632be2">mymainlongfilelist</a> (q_args)</td></tr>
<tr class="separator:a4010f65f71a1bce539c5e15317632be2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54013fc419eb559e07a5d278baa3fc6d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgdriveneestimator.html#a54013fc419eb559e07a5d278baa3fc6d">set_messaging_procedures</a> (s_gui_flag)</td></tr>
<tr class="separator:a54013fc419eb559e07a5d278baa3fc6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8344146a59d84da02da349abd68723ad"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgdriveneestimator.html#a8344146a59d84da02da349abd68723ad">mymain</a> (q_args)</td></tr>
<tr class="separator:a8344146a59d84da02da349abd68723ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a093ecb7ad7eaff69fd621e066fcdc29d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a093ecb7ad7eaff69fd621e066fcdc29d"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_ranges_for_list_slices</b> (i_length_of_list, i_slice_size=POOL_BATCH_SIZE)</td></tr>
<tr class="separator:a093ecb7ad7eaff69fd621e066fcdc29d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a810fb4b95084358f69aafdc1e048451d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgdriveneestimator.html#a810fb4b95084358f69aafdc1e048451d">get_mean_het_based_on_allele_freqs</a> (o_genepopfile, s_pop_subsample_tag=None, s_individual_subsample_tag=None, s_loci_subsample_tag=None)</td></tr>
<tr class="separator:a810fb4b95084358f69aafdc1e048451d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d13e12b51231deb46355be190102cbc"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgdriveneestimator.html#a4d13e12b51231deb46355be190102cbc">add_to_set_of_calls_to_do_estimate</a> (o_genepopfile, s_sample_scheme, f_min_allele_freq, i_min_pop_size, i_max_pop_size, i_min_loci_position, i_max_loci_position, o_debug_mode, llv_args_each_process, IDX_NE_ESTIMATOR_OUTPUT_FIELDS_TO_SKIP, o_secondary_outfile, f_nbne_ratio, s_temporary_directory, i_genepop_file_count)</td></tr>
<tr class="separator:a4d13e12b51231deb46355be190102cbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf461586686c9d7f0bf90188ab241dcc"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgdriveneestimator.html#aaf461586686c9d7f0bf90188ab241dcc">get_count_estimator_fields</a> ()</td></tr>
<tr class="separator:aaf461586686c9d7f0bf90188ab241dcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab41c87e91be7262bc61207e9e987fcd2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab41c87e91be7262bc61207e9e987fcd2"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_total_bytes_needed_for_genepop_object</b> (s_filename)</td></tr>
<tr class="separator:ab41c87e91be7262bc61207e9e987fcd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae85cd0fbf1a18d081c098a7f31a340d2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae85cd0fbf1a18d081c098a7f31a340d2"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_total_ram_usage_for_this_file</b> (s_filename, o_debug_mode, i_total_processes)</td></tr>
<tr class="separator:ae85cd0fbf1a18d081c098a7f31a340d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac52a11ee572f6b104b8b2af3076b6479"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac52a11ee572f6b104b8b2af3076b6479"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>file_can_be_added_to_current_set</b> (s_filename, o_total_bytes_currently_used_for_gp_objects, i_total_processes, o_debug_mode, i_bytes_available_virtual_memory)</td></tr>
<tr class="separator:ac52a11ee572f6b104b8b2af3076b6479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae45071494b5c39165cac87c992d6e5cd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae45071494b5c39165cac87c992d6e5cd"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>add_file_to_current_set</b> (s_filename, i_min_pop_range, i_max_pop_range, i_min_pop_size, i_max_pop_size, s_sample_scheme, lv_sample_values, i_total_replicates, s_loci_sampling_scheme, v_loci_sampling_scheme_param, i_min_loci_position, i_max_loci_position, i_min_total_loci, i_max_total_loci, i_loci_replicates, llv_args_each_process, b_do_nb_bias_adjustment, f_nbne_ratio, f_min_allele_freq, o_debug_mode, IDX_NE_ESTIMATOR_OUTPUT_FIELDS_TO_SKIP, i_genepop_file_count, s_temporary_directory, o_secondary_outfile)</td></tr>
<tr class="separator:ae45071494b5c39165cac87c992d6e5cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a2864d554435ebb337c4c519511d93e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4a2864d554435ebb337c4c519511d93e"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>raise_exception_file_size_limit</b> (s_filename, o_debug_mode, i_total_processes)</td></tr>
<tr class="separator:a4a2864d554435ebb337c4c519511d93e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6abd32b781a8d2d442ae8b140b6b2c30"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6abd32b781a8d2d442ae8b140b6b2c30"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>process_current_set_of_gp_files</b> (llv_args_each_process, s_filename, o_debug_mode, i_total_processes, o_multiprocessing_event, s_sample_scheme, lv_sample_values, o_main_outfile, o_secondary_outfile, o_total_calls_to_do_estimate, IDX_NE_ESTIMATOR_OUTPUT_FIELDS_TO_SKIP, s_all_interrupt_messages)</td></tr>
<tr class="separator:a6abd32b781a8d2d442ae8b140b6b2c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1fff696a30e4f191608d9ab8333f68e5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1fff696a30e4f191608d9ab8333f68e5"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>VERBOSE</b> = False</td></tr>
<tr class="separator:a1fff696a30e4f191608d9ab8333f68e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeead01603a5ef9c29a3f7cd3cfb8dfce"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeead01603a5ef9c29a3f7cd3cfb8dfce"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>VERY_VERBOSE</b> = False</td></tr>
<tr class="separator:aeead01603a5ef9c29a3f7cd3cfb8dfce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d259b1af1d5cf6385db6b499c6488cb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1d259b1af1d5cf6385db6b499c6488cb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ACTIVATE_GUI_MESSAGING</b> = None</td></tr>
<tr class="separator:a1d259b1af1d5cf6385db6b499c6488cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ee6d86b2aa6effad38fe001b81243a7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6ee6d86b2aa6effad38fe001b81243a7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>GUIERR</b> = None</td></tr>
<tr class="separator:a6ee6d86b2aa6effad38fe001b81243a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8d363e31b05edc13b445663ee3ab01c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad8d363e31b05edc13b445663ee3ab01c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>GUIINFO</b> = None</td></tr>
<tr class="separator:ad8d363e31b05edc13b445663ee3ab01c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae82abb35ceeccb8108458b21eacd93ce"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae82abb35ceeccb8108458b21eacd93ce"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>NEESTIMATOR</b> = pgne.NEESTIMATOR</td></tr>
<tr class="separator:ae82abb35ceeccb8108458b21eacd93ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafc38c434d06f90cae059ec1bfb55906"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aafc38c434d06f90cae059ec1bfb55906"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>LDNE2</b> = pgne.LDNE_ESTIMATION</td></tr>
<tr class="separator:aafc38c434d06f90cae059ec1bfb55906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac84cd9a16546927d64f69d5d8e666eac"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac84cd9a16546927d64f69d5d8e666eac"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ESTIMATOR_TO_USE</b> = LDNE2</td></tr>
<tr class="separator:ac84cd9a16546927d64f69d5d8e666eac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9d9edfba4ccb35868fcc92a0121ff77"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af9d9edfba4ccb35868fcc92a0121ff77"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>PATH_TO_LDNE2</b> = None</td></tr>
<tr class="separator:af9d9edfba4ccb35868fcc92a0121ff77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a783795e063ad4c9d423fdb51c16ef2d2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a783795e063ad4c9d423fdb51c16ef2d2"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>spacer</b> = &quot; &quot;</td></tr>
<tr class="separator:a783795e063ad4c9d423fdb51c16ef2d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67dd1eeed8a1a30f704b56250ccce873"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a67dd1eeed8a1a30f704b56250ccce873"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>spacer2</b> = &quot; &quot;</td></tr>
<tr class="separator:a67dd1eeed8a1a30f704b56250ccce873"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea4fce536a2ded454b3545a03bf9ea69"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aea4fce536a2ded454b3545a03bf9ea69"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>spacer3</b> = &quot; &quot;</td></tr>
<tr class="separator:aea4fce536a2ded454b3545a03bf9ea69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae439ccd49f1eb54994fba6301243d0c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aae439ccd49f1eb54994fba6301243d0c"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>LS_FLAGS_SHORT_REQUIRED</b> = [ &quot;-f&quot;, &quot;-s&quot;, &quot;-p&quot;, &quot;-m&quot;, &quot;-a&quot;, &quot;-r&quot;, &quot;-e&quot;, &quot;-c&quot;, &quot;-l&quot;, &quot;-i&quot;, &quot;-n&quot;, &quot;-x&quot;, &quot;-g&quot;,&quot;-q&quot; ]</td></tr>
<tr class="separator:aae439ccd49f1eb54994fba6301243d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b1f5775794f7d387dedf1887a26c4ba"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><b>LS_FLAGS_LONG_REQUIRED</b></td></tr>
<tr class="separator:a8b1f5775794f7d387dedf1887a26c4ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a724a8227b1b9d47cf4cc6079615ac6f2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a724a8227b1b9d47cf4cc6079615ac6f2"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>LS_ARGS_HELP_REQUIRED</b></td></tr>
<tr class="separator:a724a8227b1b9d47cf4cc6079615ac6f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8adf3309d69b960bd35c1516501e5b71"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8adf3309d69b960bd35c1516501e5b71"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>LS_FLAGS_SHORT_OPTIONAL</b> = [ &quot;-o&quot;, &quot;-d&quot;, &quot;-b&quot;, &quot;-j&quot; ]</td></tr>
<tr class="separator:a8adf3309d69b960bd35c1516501e5b71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae135a1fb66d7c2ac6a85b5f1a515e918"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae135a1fb66d7c2ac6a85b5f1a515e918"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>LS_FLAGS_LONG_OPTIONAL</b> = [ &quot;--processes&quot;, &quot;--mode&quot;, &quot;--nbneratio&quot;, &quot;--donbbiasadjust&quot; ]</td></tr>
<tr class="separator:ae135a1fb66d7c2ac6a85b5f1a515e918"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad14f2792e801804d0cd77aa3f72631e4"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><b>LS_ARGS_HELP_OPTIONAL</b></td></tr>
<tr class="separator:ad14f2792e801804d0cd77aa3f72631e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0e9eab0cba1678dbe8702c8638b22b2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab0e9eab0cba1678dbe8702c8638b22b2"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_GENEPOP_FILES</b> = 0</td></tr>
<tr class="separator:ab0e9eab0cba1678dbe8702c8638b22b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31f8fcb68429a538163ab80b51c4ce8a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a31f8fcb68429a538163ab80b51c4ce8a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_SAMPLE_SCHEME</b> = 1</td></tr>
<tr class="separator:a31f8fcb68429a538163ab80b51c4ce8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1fbe668ed6bb196e7247ae8d6358c92"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad1fbe668ed6bb196e7247ae8d6358c92"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_SAMPLE_VALUE_LIST</b> = 2</td></tr>
<tr class="separator:ad1fbe668ed6bb196e7247ae8d6358c92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f7b02c2dab3acd91ba217a6cbdef4d8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0f7b02c2dab3acd91ba217a6cbdef4d8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_MIN_POP_SIZE</b> = 3</td></tr>
<tr class="separator:a0f7b02c2dab3acd91ba217a6cbdef4d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a779c3b4f3e5fd8db0224fd3fbdeba7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3a779c3b4f3e5fd8db0224fd3fbdeba7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_MAX_POP_SIZE</b> = 4</td></tr>
<tr class="separator:a3a779c3b4f3e5fd8db0224fd3fbdeba7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a488e146036273d300b7f528cf22ad017"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a488e146036273d300b7f528cf22ad017"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_POP_RANGE</b> = 5</td></tr>
<tr class="separator:a488e146036273d300b7f528cf22ad017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac03385eb1adea263a4ac8eb0ba30af74"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac03385eb1adea263a4ac8eb0ba30af74"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_MIN_ALLELE_FREQ</b> = 6</td></tr>
<tr class="separator:ac03385eb1adea263a4ac8eb0ba30af74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a510a047ec241b52adde698c284dd9c01"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a510a047ec241b52adde698c284dd9c01"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_REPLICATES</b> = 7</td></tr>
<tr class="separator:a510a047ec241b52adde698c284dd9c01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7261063d4a5ff2ffd7bd7d90d71eeb68"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7261063d4a5ff2ffd7bd7d90d71eeb68"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_LOCI_SAMPLING_SCHEME</b> = 8</td></tr>
<tr class="separator:a7261063d4a5ff2ffd7bd7d90d71eeb68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1d60673bf39741f3214e383a7e90d8c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac1d60673bf39741f3214e383a7e90d8c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_LOCI_SCHEME_PARAM</b> = 9</td></tr>
<tr class="separator:ac1d60673bf39741f3214e383a7e90d8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafd567651957807eb1b986b1617fe8ee"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aafd567651957807eb1b986b1617fe8ee"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_LOCI_MIN_TOTAL</b> = 10</td></tr>
<tr class="separator:aafd567651957807eb1b986b1617fe8ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa93c875ccfead4ec9c863057783227a6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa93c875ccfead4ec9c863057783227a6"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_LOCI_MAX_TOTAL</b> = 11</td></tr>
<tr class="separator:aa93c875ccfead4ec9c863057783227a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cd2524d305c83a248b30e600cc0b1d8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7cd2524d305c83a248b30e600cc0b1d8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_LOCI_RANGE</b> = 12</td></tr>
<tr class="separator:a7cd2524d305c83a248b30e600cc0b1d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b479f5812e7feccdbf7edba5468b29e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3b479f5812e7feccdbf7edba5468b29e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_LOCI_SAMPLE_REPLICATES</b> = 13</td></tr>
<tr class="separator:a3b479f5812e7feccdbf7edba5468b29e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ae0fc5b19216f144e69c43d980891fb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7ae0fc5b19216f144e69c43d980891fb"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_PROCESSES</b> = 14</td></tr>
<tr class="separator:a7ae0fc5b19216f144e69c43d980891fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa97a6de3c44f3552c26677ebda76de39"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa97a6de3c44f3552c26677ebda76de39"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_DEBUG_MODE</b> = 15</td></tr>
<tr class="separator:aa97a6de3c44f3552c26677ebda76de39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac916bebf37a7e5e42748fcd7878cdeb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac916bebf37a7e5e42748fcd7878cdeb"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_NBNE_RATIO</b> = 16</td></tr>
<tr class="separator:aac916bebf37a7e5e42748fcd7878cdeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedc0eed694d87f02a969994934f884d6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aedc0eed694d87f02a969994934f884d6"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_DO_BIAS_ADJUST</b> = 17</td></tr>
<tr class="separator:aedc0eed694d87f02a969994934f884d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66f16a5072c0e1dbaacd9e24b6c3eada"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a66f16a5072c0e1dbaacd9e24b6c3eada"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_MAIN_OUTFILE</b> = 18</td></tr>
<tr class="separator:a66f16a5072c0e1dbaacd9e24b6c3eada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39d10174aedd519ee696e3ff689d611f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a39d10174aedd519ee696e3ff689d611f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_SECONDARY_OUTFILE</b> = 19</td></tr>
<tr class="separator:a39d10174aedd519ee696e3ff689d611f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a372bf29aaa0656694ac089902f5b4a60"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a372bf29aaa0656694ac089902f5b4a60"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_MULTIPROCESSING_EVENT</b> = 20</td></tr>
<tr class="separator:a372bf29aaa0656694ac089902f5b4a60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af19da5657c153c4214b53f5cad68be3c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af19da5657c153c4214b53f5cad68be3c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_TEMPORARY_DIRECTORY</b> = 21</td></tr>
<tr class="separator:af19da5657c153c4214b53f5cad68be3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f0371fe88418d9b181d7235ca747e73"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9f0371fe88418d9b181d7235ca747e73"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_USE_GUI_MESSAGING</b> = 22</td></tr>
<tr class="separator:a9f0371fe88418d9b181d7235ca747e73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1060cbbc63450dda6b048c88965edadd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1060cbbc63450dda6b048c88965edadd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>IDX_LAST_CONSOLE_ARG</b> = IDX_DO_BIAS_ADJUST</td></tr>
<tr class="separator:a1060cbbc63450dda6b048c88965edadd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45abba7d5f3257469b6cbfd7392eba09"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><b>HIDDEN_ARGS</b></td></tr>
<tr class="separator:a45abba7d5f3257469b6cbfd7392eba09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a725197609b22aa42422547cba22744d5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a725197609b22aa42422547cba22744d5"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_NUM_PROCESSES</b> = &quot;1&quot;</td></tr>
<tr class="separator:a725197609b22aa42422547cba22744d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a652b7622c1e97a7f7b199266ef9c6f01"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a652b7622c1e97a7f7b199266ef9c6f01"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_DEBUG_MODE</b> = &quot;no_debug&quot;</td></tr>
<tr class="separator:a652b7622c1e97a7f7b199266ef9c6f01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c995df3f6af3302739c307f3c744bac"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4c995df3f6af3302739c307f3c744bac"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_NBNE_VAL</b> = &quot;None&quot;</td></tr>
<tr class="separator:a4c995df3f6af3302739c307f3c744bac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3d0878b3846d376f070b3c94105ae27"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af3d0878b3846d376f070b3c94105ae27"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_GENEPOP_FILE_NAME_LENGTH</b> = 310</td></tr>
<tr class="separator:af3d0878b3846d376f070b3c94105ae27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1913968722f6b6ec924ec220421cc2d2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1913968722f6b6ec924ec220421cc2d2"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>SECONDS_TO_SLEEP</b> = 1.00</td></tr>
<tr class="separator:a1913968722f6b6ec924ec220421cc2d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadadcf84aaf075e62f2a0720ef29ea11"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aadadcf84aaf075e62f2a0720ef29ea11"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>POOL_BATCH_SIZE</b> = 100</td></tr>
<tr class="separator:aadadcf84aaf075e62f2a0720ef29ea11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89e1e433a1e13de143a0ba9eb5f67c4e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a89e1e433a1e13de143a0ba9eb5f67c4e"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>PROP_TOTAL_FILE_BYTES_USED_BY_GP_MANAGER</b> = 0.12</td></tr>
<tr class="separator:a89e1e433a1e13de143a0ba9eb5f67c4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3cf3c0a3d4e6985fa514fd4a5f31462"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad3cf3c0a3d4e6985fa514fd4a5f31462"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_MEGABYTES_ALLOWED_FOR_GP_OBJECTS</b> = 3000</td></tr>
<tr class="separator:ad3cf3c0a3d4e6985fa514fd4a5f31462"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4907a8a6c190c39d4a349740c1ba54e5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4907a8a6c190c39d4a349740c1ba54e5"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>SAMPLE_BY_NONE</b> = &quot;none&quot;</td></tr>
<tr class="separator:a4907a8a6c190c39d4a349740c1ba54e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad560d78f911e3ffb994db493a2ab89b2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad560d78f911e3ffb994db493a2ab89b2"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>SAMPLE_BY_PERCENTAGES</b> = &quot;percent&quot;</td></tr>
<tr class="separator:ad560d78f911e3ffb994db493a2ab89b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fa91319aa849a007dd7cfd4e22213f9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3fa91319aa849a007dd7cfd4e22213f9"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>SAMPLE_BY_REMOVAL</b> = &quot;remove&quot;</td></tr>
<tr class="separator:a3fa91319aa849a007dd7cfd4e22213f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3732dae3a6f631c08a94fd98ca308e84"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3732dae3a6f631c08a94fd98ca308e84"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>SAMPLE_BY_CRITERIA</b> = &quot;criteria&quot;</td></tr>
<tr class="separator:a3732dae3a6f631c08a94fd98ca308e84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5cd7cf71765d0fd1ace691d10631239"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab5cd7cf71765d0fd1ace691d10631239"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>SAMPLE_BY_COHORT</b> = &quot;cohorts&quot;</td></tr>
<tr class="separator:ab5cd7cf71765d0fd1ace691d10631239"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf385f828ea73fe77218cc695ed31ca6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abf385f828ea73fe77218cc695ed31ca6"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>SAMPLE_BY_COHORT_PERCENTAGE</b> = &quot;cohortsperc&quot;</td></tr>
<tr class="separator:abf385f828ea73fe77218cc695ed31ca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5867272ead84c59e21ac0db9bf0a08f7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5867272ead84c59e21ac0db9bf0a08f7"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>SAMPLE_BY_RELATEDS</b> = &quot;relateds&quot;</td></tr>
<tr class="separator:a5867272ead84c59e21ac0db9bf0a08f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb33149c6f4e36493056d012e2029270"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><b>SAMPLE_SCHEMES_NON_CRITERIA</b></td></tr>
<tr class="separator:adb33149c6f4e36493056d012e2029270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dfd8edb967f95bb041e347135a33547"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8dfd8edb967f95bb041e347135a33547"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>SAMPLE_LOCI_SCHEME_NONE</b> = &quot;none&quot;</td></tr>
<tr class="separator:a8dfd8edb967f95bb041e347135a33547"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a142c5458e517f1c3bcfcc990b04bb025"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a142c5458e517f1c3bcfcc990b04bb025"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>SAMPLE_LOCI_SCHEME_PERCENT</b> = &quot;percent&quot;</td></tr>
<tr class="separator:a142c5458e517f1c3bcfcc990b04bb025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0086ffbe3400aa8ef6234dd375701bd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af0086ffbe3400aa8ef6234dd375701bd"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>SAMPLE_LOCI_CONSTANT_TOTAL</b> = &quot;total&quot;</td></tr>
<tr class="separator:af0086ffbe3400aa8ef6234dd375701bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcd9551489a7ca0281f03b3b0236e8e2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abcd9551489a7ca0281f03b3b0236e8e2"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>OUTPUT_DELIMITER</b> = &quot;\t&quot;</td></tr>
<tr class="separator:abcd9551489a7ca0281f03b3b0236e8e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5de353f2cfacdd1ffb10c1eae6ccdd8c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5de353f2cfacdd1ffb10c1eae6ccdd8c"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>ENDLINE_SEQ</b> = &quot;\n&quot;</td></tr>
<tr class="separator:a5de353f2cfacdd1ffb10c1eae6ccdd8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa40c91635517374f437b206fa5c12070"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa40c91635517374f437b206fa5c12070"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>OUTPUT_ENDLINE</b> = &quot;\n&quot;</td></tr>
<tr class="separator:aa40c91635517374f437b206fa5c12070"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1193fcffbc197c97223fc41a886901f5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1193fcffbc197c97223fc41a886901f5"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>REPLICATE_DELIMITER</b> = &quot;,&quot;</td></tr>
<tr class="separator:a1193fcffbc197c97223fc41a886901f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb91e259587f0231f20d658ce5cc6039"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afb91e259587f0231f20d658ce5cc6039"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>SAMPLE_SCHEME_PARAM_DELIMITER</b> = &quot;,&quot;</td></tr>
<tr class="separator:afb91e259587f0231f20d658ce5cc6039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8a64dd815aff6a97f4651a4525c449e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae8a64dd815aff6a97f4651a4525c449e"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>NE_ESTIMATOR_OUTPUT_FIELDS_TO_SKIP</b> = [ &quot;case_number&quot; ]</td></tr>
<tr class="separator:ae8a64dd815aff6a97f4651a4525c449e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1849dccaf78707bab233fa6a57a29fe0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1849dccaf78707bab233fa6a57a29fe0"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>NE_ESTIMATOR_AND_LDNE_OUTPUT_FILE_TAGS</b> = [ &quot;NoDat.txt&quot;, &quot;xTp.txt&quot;, &quot;ne_run.txt&quot;, &quot;x.txt&quot; ]</td></tr>
<tr class="separator:a1849dccaf78707bab233fa6a57a29fe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2476a4171478c9b09a27a1287121a7cc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2476a4171478c9b09a27a1287121a7cc"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>NE_ESTIMATOR_AND_LDNE_OUTPUT_FILES_GENERAL_TAG</b> = &quot;_g_[0-9]&quot;</td></tr>
<tr class="separator:a2476a4171478c9b09a27a1287121a7cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1d8c4de97e82bc6f70762621e961790"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae1d8c4de97e82bc6f70762621e961790"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>GLOB_INTERMEDIATE_GENEPOP_FILE_TAGS</b> = &quot;*_r_*_g_*&quot;</td></tr>
<tr class="separator:ae1d8c4de97e82bc6f70762621e961790"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefc749d7448354bfc67a0db4e559934e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aefc749d7448354bfc67a0db4e559934e"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>INPUT_FILE_DOT_CHAR_REPLACEMENT</b> = &quot;_&quot;</td></tr>
<tr class="separator:aefc749d7448354bfc67a0db4e559934e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d21ac3784419638647683e99b085cc0"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><b>MAIN_TABLE_RUN_INFO_COLS</b></td></tr>
<tr class="separator:a7d21ac3784419638647683e99b085cc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32fa9f2d3c5f9ddea3310478836c4be3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a32fa9f2d3c5f9ddea3310478836c4be3"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>COL_NAME_NBNE_RATIO_FOR_BIAS_ADJUST</b> = &quot;nbne&quot;</td></tr>
<tr class="separator:a32fa9f2d3c5f9ddea3310478836c4be3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b3f5bb6283c6e9d280f6be70e7a594f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7b3f5bb6283c6e9d280f6be70e7a594f"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>COL_NAME_BIAS_ADJUSTED_LDNE</b> = &quot;ne_est_adj&quot;</td></tr>
<tr class="separator:a7b3f5bb6283c6e9d280f6be70e7a594f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25446e91c2df65da0b18fa46f83eec48"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a25446e91c2df65da0b18fa46f83eec48"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>COL_NAME_NEESTIMATOR_NE_ESTIMATE</b> = &quot;est_ne&quot;</td></tr>
<tr class="separator:a25446e91c2df65da0b18fa46f83eec48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d5b194ec442b286efc83303817a8123"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1d5b194ec442b286efc83303817a8123"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>RELTOL</b> = 1</td></tr>
<tr class="separator:a1d5b194ec442b286efc83303817a8123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d6d3756a8ddff6ece719654fb970636"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5d6d3756a8ddff6ece719654fb970636"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>o_parser</b> = ap.ArgumentParser()</td></tr>
<tr class="separator:a5d6d3756a8ddff6ece719654fb970636"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22a84c6d9023007cf69fd2e3d62dcb86"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a22a84c6d9023007cf69fd2e3d62dcb86"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>o_arglist</b> = o_parser.add_argument_group( &quot;args&quot; )</td></tr>
<tr class="separator:a22a84c6d9023007cf69fd2e3d62dcb86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4e6982ff99236ac13e0af4c4d6e8839"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa4e6982ff99236ac13e0af4c4d6e8839"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>i_total_nonopt</b> = len( LS_FLAGS_SHORT_REQUIRED )</td></tr>
<tr class="separator:aa4e6982ff99236ac13e0af4c4d6e8839"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad407ca10f30961eabc0630c21fe8da45"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad407ca10f30961eabc0630c21fe8da45"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>help</b></td></tr>
<tr class="separator:ad407ca10f30961eabc0630c21fe8da45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5c3d005ba8659dc07a5f3171c7214df"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab5c3d005ba8659dc07a5f3171c7214df"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>required</b></td></tr>
<tr class="separator:ab5c3d005ba8659dc07a5f3171c7214df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c6b1b9d9500e05eca62433ac13c8692"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3c6b1b9d9500e05eca62433ac13c8692"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>i_total_opt</b> = len( LS_FLAGS_SHORT_OPTIONAL )</td></tr>
<tr class="separator:a3c6b1b9d9500e05eca62433ac13c8692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abff5b751b69197ab0c78f53cf34e3a05"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abff5b751b69197ab0c78f53cf34e3a05"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>o_args</b> = o_parser.parse_args()</td></tr>
<tr class="separator:abff5b751b69197ab0c78f53cf34e3a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bd374d85a2f54f7d6086c3560fba734"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8bd374d85a2f54f7d6086c3560fba734"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><b>ls_args_passed</b> = []</td></tr>
<tr class="separator:a8bd374d85a2f54f7d6086c3560fba734"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8fac37bc1806ab9f054b8c4754e669e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af8fac37bc1806ab9f054b8c4754e669e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>s_argname</b> = s_flag.replace( &quot;--&quot;, &quot;&quot; )</td></tr>
<tr class="separator:af8fac37bc1806ab9f054b8c4754e669e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a801907b0dbfc713d2a817781f2b3c7d4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a801907b0dbfc713d2a817781f2b3c7d4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>s_val</b> = getattr( o_args, s_argname )</td></tr>
<tr class="separator:a801907b0dbfc713d2a817781f2b3c7d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a660fa9f1c3276022986893efbe9a3c76"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a660fa9f1c3276022986893efbe9a3c76"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>s_temp_dir</b> = pgut.get_temporary_directory()</td></tr>
<tr class="separator:a660fa9f1c3276022986893efbe9a3c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a167b017a9b7a41a2002208686cc6955e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a167b017a9b7a41a2002208686cc6955e"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>s_msg</b> = &quot;In pgdriveneestimator main section, &quot;</td></tr>
<tr class="separator:a167b017a9b7a41a2002208686cc6955e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac0c88c001b2a957689cba925d9de85a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac0c88c001b2a957689cba925d9de85a"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>PROPORTION_FILE_BYTES_USED_BY_OBJECT</b> = 0.12</td></tr>
<tr class="separator:aac0c88c001b2a957689cba925d9de85a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a257f80975601ec1f262e61da94aab595"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a257f80975601ec1f262e61da94aab595"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>PROPORTION_GP_OBJECTS_PER_ADDITIONAL_PROCESS</b> = 0.3</td></tr>
<tr class="separator:a257f80975601ec1f262e61da94aab595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20fbee9f220ed1031975161c1f2a679e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a20fbee9f220ed1031975161c1f2a679e"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>PERC_AVAIL_RAM_TO_ACCESS</b> = 0.7</td></tr>
<tr class="separator:a20fbee9f220ed1031975161c1f2a679e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40ebaca8593fd1dbd1ad94f1718f4e28"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a40ebaca8593fd1dbd1ad94f1718f4e28"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>SAMPLE_BY_COHORT_COUNT</b> = &quot;cohortscount&quot;</td></tr>
<tr class="separator:a40ebaca8593fd1dbd1ad94f1718f4e28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8fc9fdec47a0df16a055fdf4a9f693f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae8fc9fdec47a0df16a055fdf4a9f693f"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>SAMPLE_BY_COHORT_COUNT_MAX</b> = &quot;cohortsmax&quot;</td></tr>
<tr class="separator:ae8fc9fdec47a0df16a055fdf4a9f693f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dcfc49c319774f0b7850d01d806781b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8dcfc49c319774f0b7850d01d806781b"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>COL_NAME_HET_VALUE</b> = &quot;mean_het&quot;</td></tr>
<tr class="separator:a8dcfc49c319774f0b7850d01d806781b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Description

given 
    --&gt;a list of genepop files, 
    --&gt;a list of percentages of the total indiv
       to subsample
    --&gt; a number giving a minimum pop size 
       after subsampling
    --&gt;a minimum allele frequency (single float)
    --&gt; a number giving the total replicate NeEstimator runs 
to be executed on each file at each subsample percentage 

    subsamples and then runs the Ne estimator for each combination of 
    genepop_file,percentage,replicate_number. 
    
    As of Fri May 13 19:01:06 MDT 2016, still not sure
    how best to get the results to file or stream.

Mon Aug 15 20:04:00 MDT 2016
    revised so that now args list includes
    --&gt;a list of genepop files, 
    --&gt;one of [percent|remove] (names a subsampling scheme, to be enlarged)
    --&gt;a list of percentages, for percent samplin, or N-values for removing N
from the individuals    
    --&gt; a number giving a minimum pop size 
       after subsampling (fewer than the min count of indiv, and the pop is skipped)
    --&gt;a minimum allele frequency (single float)
    --&gt; a number giving the total replicate NeEstimator runs 
to be executed on each file at each subsample percentage 
    --&gt;optional the number of processes to create in performing the
estimates in parallele, on process for each population (as divided up inside a file,
or as given by a signle genepop file with only one population listed)
    
    Also revised to allow the improtation of this mod, so that the same operations
    can be intitiated by a call to "mymain".  The importation method allows for 
    passing in two file objects, open for writing.  The console method, that satisfies
    "if __name__== "__main__", does not allow the file object args and prints to stdout and stderr.

Wed Sep  7 18:12:26 MDT 2016
    revised so that now args list includes
    --&gt;a list of genepop files, 
    --&gt;one of [percent|remove|criteria] (names a subsampling scheme, to be enlarged)
    --&gt;a list of comma-delimited percentages, for percent samplin, or N-values for removing N
from the individuals, or, for criteria, a comma-delimited list consisting of:
        1. list of semicolong-delimited genepop indiv id fields (example "numberage;sex;parent")
        2. list of python types corresponding to each field (example "int;int;string")
        3. one or more test expressions using field names 
            surrounded by percentage signs.  For example, to include 
            2 criteria: "%age%&gt;3 and %age%&lt;6 and %sex% == 3","%parent% &lt;= "3992"
    --&gt; a number giving a minimum pop size 
       after subsampling (fewer than the min count of indiv, and the pop is skipped)
    --&gt;a hypnated pair of numbers giving the minimum and maximum i where
i gives the ith population listed in any one of the genepop files. For
example to run the estimator only on the 2nd through the 10th population,
the arg would be: "2-10" (all subject to minimum pop size).  
Using "all" for this arg will result in all pops being included.
    --&gt;a minimum allele frequency (single float)
    --&gt; a number giving the total replicate NeEstimator runs 
to be executed on each file at each subsample percentage 
    --&gt;optional the number of processes to create in performing the
estimates in parallele, on process for each population (as divided up inside a file,
or as given by a signle genepop file with only one population listed)

2016_09_24
    Revisions to add new sampling schemes (No-subsampling, and AgeStructureNe schemes to get
    cohorts and siblings (Relateds).  In addition to the percent, remove, and
    criteria schemes, we add "none", "cohorts", and "relateds" as options for arg 2.
    For arg 3 we now add, if cohorts is the second arg value, comma-delimited
    fields (see mod genepopfilesampler.py, class 
    GenepopFileSamplerParamsAgeStructureCohorts):
    --&gt; int, max individual age
    And, if "relateds" is the 2nd arg value (see mod genepopfilesampler.py, class
    GenepopFileSamplerIndividualsAgeStructureRelateds):
    1. float, percent of relateds each gen
    Also added max pop size as new arg, now arg #
2016_10_20
    Adding to Loci scheme "percent," to subsample a percentage
    of the loci (as circumscribed by existing params min loci 
    position and max loci position.
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0f589286698490f5054d972daa7c9160"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgdriveneestimator.add_to_set_of_calls_to_do_estimate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o_genepopfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_sample_scheme</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>f_min_allele_freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_min_pop_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_max_pop_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o_debug_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>llv_args_each_process</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>IDX_NE_ESTIMATOR_OUTPUT_FIELDS_TO_SKIP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o_secondary_outfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>f_nbne_ratio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_temporary_directory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_genepop_file_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This def creates ne-estimator caller object and adds it to list of args for a single call
to def do_estimate.  The call is then appended to llv_args_each_process
</pre> 
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l02041">2041</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>
<div class="fragment"><div class="line"><a name="l02041"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html#a0f589286698490f5054d972daa7c9160"> 2041</a></span>&#160;                                            i_genepop_file_count ):</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;     </span></div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;<span class="stringliteral">    This def creates ne-estimator caller object and adds it to list of args for a single call</span></div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;<span class="stringliteral">    to def do_estimate.  The call is then appended to llv_args_each_process</span></div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    <span class="comment">#all these GenepopFileManager objects should now have</span></div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    <span class="comment">#a single population sample name:</span></div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    s_population_sample_name=o_genepopfile.population_subsample_tags[ 0 ]</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    ls_indiv_sample_names=o_genepopfile.indiv_subsample_tags</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    li_population_numbers=o_genepopfile.getListPopulationNumbers( s_population_sample_name )</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    <span class="comment">#for each sample (i.e. for each replicate of a sampling with a given set of params:</span></div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <span class="comment">#Added this to help create a unique, temporary gp file name</span></div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    <span class="comment">#using file number individ sample, and loci sample counts:</span></div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    i_individ_sample_count=0</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    <span class="keywordflow">for</span> s_indiv_sample <span class="keywordflow">in</span> ls_indiv_sample_names:</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;        i_individ_sample_count+=1</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;        <span class="comment">#we also check that at least one pop has at least one individual</span></div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;        <span class="comment">#listed for this subsample</span></div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;        li_indiv_counts_for_this_sample=o_genepopfile.getIndividualCounts( s_indiv_subsample_tag=s_indiv_sample )</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;        <span class="keywordflow">if</span> sum( li_indiv_counts_for_this_sample ) == 0:</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;            s_sample_value, i_replicate_count=get_sample_val_and_rep_number_from_sample_name( \</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;                                            s_indiv_sample, s_sample_scheme )</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;            <span class="comment">#we only want to report the first replicate</span></div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;            <span class="comment">#(by inference of course all replicates will be skipped):</span></div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;            <span class="keywordflow">if</span> i_replicate_count == 0:</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;                s_msg=<span class="stringliteral">&quot;Skipping samples from: &quot;</span> \</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;                        + o_genepopfile.original_file_name \</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;                        + <span class="stringliteral">&quot;.  In pgdriveneestimator.py, all populations &quot;</span> \</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;                        + <span class="stringliteral">&quot;have zero individuals when sampled using &quot;</span> \</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;                        + <span class="stringliteral">&quot;scheme: &quot;</span> + s_sample_scheme \</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;                        + <span class="stringliteral">&quot;, and with sample parameter, &quot;</span> + s_sample_value + <span class="stringliteral">&quot;.&quot;</span></div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;                o_secondary_outfile.write( s_msg + <span class="stringliteral">&quot;\n&quot;</span> )</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;            <span class="comment">#end if first replicate, report</span></div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;            <span class="keywordflow">continue</span></div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;        <span class="comment">#end skip this subsample if no pops have any individuals</span></div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;<span class="stringliteral">        For percent and remove-N schemes, the min/max pop size params are not </span></div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;<span class="stringliteral">        enforced in the sampler, and, as of 2016_09_27, are to be applied</span></div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;<span class="stringliteral">        before sampling.  Thus, for these scheme we skip populations if their </span></div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;<span class="stringliteral">        original, un-subsampled size is outside the pop size range.  Other schemes</span></div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;<span class="stringliteral">        should have applied the criteria when subsampling.  For the latter, this</span></div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;<span class="stringliteral">        would not be an appropriate test::</span></div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;        li_pops_with_invalid_size=[]</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;        </div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;        <span class="keywordflow">if</span> s_sample_scheme <span class="keywordflow">in</span> SAMPLE_SCHEMES_NON_CRITERIA:</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;            li_pops_with_invalid_size=<a class="code" href="namespacenegui_1_1pgdriveneestimator.html#a06645f9b380f736368e27585331ec22f">get_pops_in_file_outside_valid_size_range</a>( o_genepopfile, </div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;                                                                                i_min_pop_size,</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;                                                                                i_max_pop_size )</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;        <span class="comment">#end if we need to check original (non-sampled) pop sizes</span></div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;        ls_loci_subsample_tags_associated_with_this_indiv_sample= \</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;                get_loci_subsample_tags_for_this_indiv_subsample( o_genepopfile,</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;                                                                    s_indiv_sample )</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    </div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;        i_loci_subsample_count=0</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;        <span class="keywordflow">for</span> s_loci_subsample_tag <span class="keywordflow">in</span> ls_loci_subsample_tags_associated_with_this_indiv_sample:</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;            <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;<span class="stringliteral">            To most-efficiently use multi-processes, that is, to assign many</span></div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;<span class="stringliteral">            processes a single file with many populations, we do an</span></div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;<span class="stringliteral">            estimate on each pop in the file separately, and divvy</span></div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;<span class="stringliteral">            the pops up among processes:</span></div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;<span class="stringliteral">            &#39;&#39;&#39;</span></div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;            <span class="keywordflow">for</span> i_population_number <span class="keywordflow">in</span> li_population_numbers:</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;                i_loci_subsample_count+=1</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;                <span class="keywordflow">if</span> i_population_number <span class="keywordflow">in</span> li_pops_with_invalid_size:</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;                    s_msg= <span class="stringliteral">&quot;In pgdriveneestimator.py, def add_to_set_of_calls_to_do_estimate, &quot;</span> \</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;                                    + <span class="stringliteral">&quot; in file, &quot;</span> + o_genepopfile.original_file_name \</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;                                    + <span class="stringliteral">&quot;, skipping pop number, &quot;</span>  + str( i_population_number ) \</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;                                    + <span class="stringliteral">&quot;.  It has an indiv count outside of valid &quot;</span> \</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;                                    + <span class="stringliteral">&quot;range, &quot;</span> + str( i_min_pop_size ) \</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;                                    + <span class="stringliteral">&quot; - &quot;</span> + str( i_max_pop_size ) + <span class="stringliteral">&quot;.&quot;</span></div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;                    o_secondary_outfile.write( s_msg + <span class="stringliteral">&quot;\n&quot;</span> )</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;                    <span class="keywordflow">continue</span></div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;                <span class="comment">#end if i_population_number is</span></div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;                <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;<span class="stringliteral">                We send to def do_estimate the genepop file object, o_genepopfile, and the subsample tag</span></div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;<span class="stringliteral">                that identifies the correct subsample calculated and stored in the object, so we can write</span></div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;<span class="stringliteral">                each subsample genepop file in the same process that will use it as input to the the estimator.</span></div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;<span class="stringliteral">                This should limit the number of input files existing concurrenty in the directory to the </span></div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;<span class="stringliteral">                number of processes in use.  We also send allele freq, and the original genepop file name </span></div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;<span class="stringliteral">                inside the genepop file manager object):</span></div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;<span class="stringliteral">                &#39;&#39;&#39;</span></div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;                s_sample_value, s_replicate_number = \</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;                        get_sample_val_and_rep_number_from_sample_name( s_indiv_sample, s_sample_scheme )</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;                s_loci_sample_value, s_loci_replicate_number = \</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;                        <a class="code" href="namespacenegui_1_1pgdriveneestimator.html#ac6e046ac333dcd975329026d752ea2d9">get_loci_sample_val_and_rep_number_from_loci_sample_tag</a>( s_loci_subsample_tag )</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;                </div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;                i_tot_indivs_this_subsample=o_genepopfile.getIndividualCount( i_population_number, </div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;                                                                                        s_indiv_sample )</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;                <span class="keywordflow">if</span> i_tot_indivs_this_subsample == 0:</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;                    s_msg= <span class="stringliteral">&quot;In pgdriveneestimator.py, def add_to_set_of_calls_to_do_estimate, &quot;</span> \</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;                                    + <span class="stringliteral">&quot; in file, &quot;</span> + o_genepopfile.original_file_name \</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;                                    + <span class="stringliteral">&quot;, with sample value: &quot;</span> + s_sample_value \</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;                                    + <span class="stringliteral">&quot;, and loci sample value: &quot;</span> + s_loci_sample_value \</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;                                    + <span class="stringliteral">&quot;, skipping pop number, &quot;</span>  + str( i_population_number ) \</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;                                    + <span class="stringliteral">&quot;.  It has a zero indiv count.&quot;</span></div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;                    o_secondary_outfile.write( s_msg + <span class="stringliteral">&quot;\n&quot;</span> )</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;                    <span class="keywordflow">continue</span></div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;                <span class="comment"># end if this sample for this pop has zero individuals</span></div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;                <span class="comment">#for downstream analysis, we get the census of total indiv</span></div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;                <span class="comment">#non-sampled, for this pop section:</span></div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;                s_census=str( o_genepopfile.getIndividualCount( i_population_number ) )</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;                <span class="comment">#we make population subsample list consisting of only this populations number:</span></div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;                s_this_pop_number=str( i_population_number ) </div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;                o_genepopfile.subsamplePopulationsByList( [ i_population_number ], s_this_pop_number )</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;                <span class="keywordflow">if</span> o_debug_mode.isSet( DebugMode.PRINT_REPLICATE_SELECTIONS ):</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;                    print_test_list_replicate_selection_indices( o_genepopfile, </div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;                                            s_sample_scheme,    </div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;                                            s_indiv_sample, </div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;                                            s_loci_sample_value,</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;                                            s_loci_replicate_number,</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;                                            o_secondary_outfile, </div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;                                            s_population_subsample_tag=s_this_pop_number )</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;                <span class="comment">#end if we&#39;re testing, print </span></div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;                <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;<span class="stringliteral">                2017_04_03.  A Windows limit on path length motivates new, shorter names</span></div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;<span class="stringliteral">                for the intermediate genepop files.  Now we simply use the i_genepop_file_count</span></div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;<span class="stringliteral">                number passed to this def from def drive_estimator, and the subsample count</span></div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;<span class="stringliteral">                to get a uniq identifier for this genepop file vs. all others in this run.</span></div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;<span class="stringliteral">                For now we retain the original code remm&#39;d out, and construct the shorter</span></div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;<span class="stringliteral">                name in a new def:</span></div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;<span class="stringliteral">                &#39;&#39;&#39;</span></div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;                <span class="comment">#in naming a the genepop file for the subsampled pop,</span></div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;                <span class="comment">#some processing is needed to avoid NeEstimator file naming errors, and</span></div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;                <span class="comment">#path mangling, so we made a separate def:</span></div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;<span class="comment">#               s_genepop_file_subsample=get_subsample_genepop_file_name( o_genepopfile.original_file_name, </span></div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;<span class="comment">#                                                       s_loci_subsample_tag, </span></div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;<span class="comment">#                                                       s_this_pop_number,</span></div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;<span class="comment">#                                                       s_temporary_directory )</span></div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;                </div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;                s_genepop_file_subsample=<a class="code" href="namespacenegui_1_1pgdriveneestimator.html#a9c650be4ed8ae5fa5e599523c22273bd">make_subsample_genepop_file_name</a>( o_genepopfile.original_file_name,</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;                                                                                            s_temporary_directory, </div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;                                                                                            i_genepop_file_count, </div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;                                                                                                i_individ_sample_count,</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;                                                                                                i_loci_subsample_count )</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;                s_run_output_file=s_genepop_file_subsample + <span class="stringliteral">&quot;_ne_run.txt&quot;</span></div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;                o_neinput=pgin.PGInputNeEstimator( s_genepop_file_subsample )</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;                o_neinput.run_params={ <span class="stringliteral">&quot;crits&quot;</span>:[ f_min_allele_freq ]  }</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;                o_neoutput=pgout.PGOutputNeEstimator( s_genepop_file_subsample, </div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;                                                        s_run_output_file, </div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;                                                        s_estimator_to_use=ESTIMATOR_TO_USE )   </div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;                </div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;                o_ne_estimator=pgne.PGOpNeEstimator( o_neinput, </div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;                                                        o_neoutput, </div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;                                                        s_estimator_name=ESTIMATOR_TO_USE,</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;                                                        s_parent_dir_for_workspace=s_temporary_directory ) </div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;                </div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;                <span class="keywordflow">if</span> ESTIMATOR_TO_USE == LDNE2 <span class="keywordflow">and</span> PATH_TO_LDNE2 <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;                    o_ne_estimator.ldne_path=PATH_TO_LDNE2</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;                <span class="comment">#end if we are using LDNe2 and we have a path to the executable</span></div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;                lv_these_args = [ o_genepopfile,  </div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;                                    o_ne_estimator, </div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;                                    s_sample_value, </div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;                                    s_loci_sample_value,</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;                                    f_min_allele_freq, </div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;                                    s_indiv_sample, </div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;                                    s_loci_subsample_tag,</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;                                    s_this_pop_number, </div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;                                    s_census,</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;                                    s_replicate_number, </div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;                                    s_loci_replicate_number,</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;                                    o_debug_mode,</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;                                    IDX_NE_ESTIMATOR_OUTPUT_FIELDS_TO_SKIP,</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;                                    f_nbne_ratio ]</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;                llv_args_each_process.append( lv_these_args )</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;            <span class="comment">#end for each population</span></div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;        <span class="comment">#end for each loci sample name assoc with this indiv sample name</span></div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    <span class="comment">#end for each indiv sample name</span></div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;<span class="comment">#end add_to_set_of_calls_to_do_estimate</span></div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_a9c650be4ed8ae5fa5e599523c22273bd"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#a9c650be4ed8ae5fa5e599523c22273bd">negui.pgdriveneestimator.make_subsample_genepop_file_name</a></div><div class="ttdeci">def make_subsample_genepop_file_name(s_original_genepop_file, s_temporary_directory, i_genepop_file_count, i_indiv_sample_count, i_loci_subsample_count)</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8experimental_8py_source.html#l02005">pgdriveneestimator.experimental.py:2005</a></div></div>
<div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_a06645f9b380f736368e27585331ec22f"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#a06645f9b380f736368e27585331ec22f">negui.pgdriveneestimator.get_pops_in_file_outside_valid_size_range</a></div><div class="ttdeci">def get_pops_in_file_outside_valid_size_range(o_genepopfile, i_min_pop_size, i_max_pop_size)</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8experimental_8py_source.html#l01015">pgdriveneestimator.experimental.py:1015</a></div></div>
<div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_ac6e046ac333dcd975329026d752ea2d9"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#ac6e046ac333dcd975329026d752ea2d9">negui.pgdriveneestimator.get_loci_sample_val_and_rep_number_from_loci_sample_tag</a></div><div class="ttdeci">def get_loci_sample_val_and_rep_number_from_loci_sample_tag(s_loci_subsample_tag)</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8experimental_8py_source.html#l02242">pgdriveneestimator.experimental.py:2242</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4d13e12b51231deb46355be190102cbc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgdriveneestimator.add_to_set_of_calls_to_do_estimate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o_genepopfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_sample_scheme</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>f_min_allele_freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_min_pop_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_max_pop_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_min_loci_position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_max_loci_position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o_debug_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>llv_args_each_process</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>IDX_NE_ESTIMATOR_OUTPUT_FIELDS_TO_SKIP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o_secondary_outfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>f_nbne_ratio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_temporary_directory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_genepop_file_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This def creates ne-estimator caller object and adds it to list of args for a single call
to def do_estimate.  The call is then appended to llv_args_each_process
</pre> 
<p>Definition at line <a class="el" href="pgdriveneestimator_8py_source.html#l02333">2333</a> of file <a class="el" href="pgdriveneestimator_8py_source.html">pgdriveneestimator.py</a>.</p>
<div class="fragment"><div class="line"><a name="l02333"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html#a4d13e12b51231deb46355be190102cbc"> 2333</a></span>&#160;                                            i_genepop_file_count ):</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;     </span></div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;<span class="stringliteral">    This def creates ne-estimator caller object and adds it to list of args for a single call</span></div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;<span class="stringliteral">    to def do_estimate.  The call is then appended to llv_args_each_process</span></div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    <span class="comment">#all these GenepopFileManager objects should now have</span></div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;    <span class="comment">#a single population sample name:</span></div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    s_population_sample_name=o_genepopfile.population_subsample_tags[ 0 ]</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    ls_indiv_sample_names=o_genepopfile.indiv_subsample_tags</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;    li_population_numbers=o_genepopfile.getListPopulationNumbers( s_population_sample_name )</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;    <span class="comment">#for each sample (i.e. for each replicate of a sampling with a given set of params:</span></div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;    <span class="comment">#Added this to help create a unique, temporary gp file name</span></div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;    <span class="comment">#using file number individ sample, and loci sample counts:</span></div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;    i_individ_sample_count=0</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;    <span class="keywordflow">for</span> s_indiv_sample <span class="keywordflow">in</span> ls_indiv_sample_names:</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;        i_individ_sample_count+=1</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;        <span class="comment">#we also check that at least one pop has at least one individual</span></div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;        <span class="comment">#listed for this subsample</span></div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;        li_indiv_counts_for_this_sample=o_genepopfile.getIndividualCounts( s_indiv_subsample_tag=s_indiv_sample )</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;        <span class="keywordflow">if</span> sum( li_indiv_counts_for_this_sample ) == 0:</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;            s_sample_value, i_replicate_count=get_sample_val_and_rep_number_from_sample_name( \</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;                                            s_indiv_sample, s_sample_scheme )</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;            <span class="comment">#we only want to report the first replicate</span></div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;            <span class="comment">#(by inference of course all replicates will be skipped):</span></div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;            <span class="keywordflow">if</span> i_replicate_count == 0:</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;                s_msg=<span class="stringliteral">&quot;Skipping samples from: &quot;</span> \</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;                        + o_genepopfile.original_file_name \</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;                        + <span class="stringliteral">&quot;.  In pgdriveneestimator.py, all populations &quot;</span> \</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;                        + <span class="stringliteral">&quot;have zero individuals when sampled using &quot;</span> \</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;                        + <span class="stringliteral">&quot;scheme: &quot;</span> + s_sample_scheme \</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;                        + <span class="stringliteral">&quot;, and with sample parameter, &quot;</span> + s_sample_value + <span class="stringliteral">&quot;.&quot;</span></div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;                o_secondary_outfile.write( s_msg + <span class="stringliteral">&quot;\n&quot;</span> )</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;            <span class="comment">#end if first replicate, report</span></div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;            <span class="keywordflow">continue</span></div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;        <span class="comment">#end skip this subsample if no pops have any individuals</span></div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;<span class="stringliteral">        For percent and remove-N schemes, the min/max pop size params are not </span></div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;<span class="stringliteral">        enforced in the sampler, and, as of 2016_09_27, are to be applied</span></div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;<span class="stringliteral">        before sampling.  Thus, for these scheme we skip populations if their </span></div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;<span class="stringliteral">        original, un-subsampled size is outside the pop size range.  Other schemes</span></div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;<span class="stringliteral">        should have applied the criteria when subsampling.  For the latter, this</span></div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;<span class="stringliteral">        would not be an appropriate test::</span></div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;        li_pops_with_invalid_size=[]</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;        </div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;        <span class="keywordflow">if</span> s_sample_scheme <span class="keywordflow">in</span> SAMPLE_SCHEMES_NON_CRITERIA:</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;            li_pops_with_invalid_size=<a class="code" href="namespacenegui_1_1pgdriveneestimator.html#a06645f9b380f736368e27585331ec22f">get_pops_in_file_outside_valid_size_range</a>( o_genepopfile, </div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;                                                                                i_min_pop_size,</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;                                                                                i_max_pop_size )</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;        <span class="comment">#end if we need to check original (non-sampled) pop sizes</span></div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;        ls_loci_subsample_tags_associated_with_this_indiv_sample= \</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;                get_loci_subsample_tags_for_this_indiv_subsample( o_genepopfile,</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;                                                                    s_indiv_sample )</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;    </div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;        i_loci_subsample_count=0</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;        <span class="keywordflow">for</span> s_loci_subsample_tag <span class="keywordflow">in</span> ls_loci_subsample_tags_associated_with_this_indiv_sample:</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;            <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;<span class="stringliteral">            To most-efficiently use multi-processes, that is, to assign many</span></div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;<span class="stringliteral">            processes a single file with many populations, we do an</span></div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;<span class="stringliteral">            estimate on each pop in the file separately, and divvy</span></div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;<span class="stringliteral">            the pops up among processes:</span></div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;<span class="stringliteral">            &#39;&#39;&#39;</span></div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;            <span class="keywordflow">for</span> i_population_number <span class="keywordflow">in</span> li_population_numbers:</div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;</div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;                i_loci_subsample_count+=1</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;                <span class="keywordflow">if</span> i_population_number <span class="keywordflow">in</span> li_pops_with_invalid_size:</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;                    s_msg= <span class="stringliteral">&quot;In pgdriveneestimator.py, def add_to_set_of_calls_to_do_estimate, &quot;</span> \</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;                                    + <span class="stringliteral">&quot; in file, &quot;</span> + o_genepopfile.original_file_name \</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;                                    + <span class="stringliteral">&quot;, skipping pop number, &quot;</span>  + str( i_population_number ) \</div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;                                    + <span class="stringliteral">&quot;.  It has an indiv count outside of valid &quot;</span> \</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;                                    + <span class="stringliteral">&quot;range, &quot;</span> + str( i_min_pop_size ) \</div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;                                    + <span class="stringliteral">&quot; - &quot;</span> + str( i_max_pop_size ) + <span class="stringliteral">&quot;.&quot;</span></div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;                    o_secondary_outfile.write( s_msg + <span class="stringliteral">&quot;\n&quot;</span> )</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;                    <span class="keywordflow">continue</span></div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;                <span class="comment">#end if i_population_number is</span></div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;                <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;<span class="stringliteral">                We send to def do_estimate the genepop file object, o_genepopfile, and the subsample tag</span></div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;<span class="stringliteral">                that identifies the correct subsample calculated and stored in the object, so we can write</span></div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;<span class="stringliteral">                each subsample genepop file in the same process that will use it as input to the the estimator.</span></div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;<span class="stringliteral">                This should limit the number of input files existing concurrenty in the directory to the </span></div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;<span class="stringliteral">                number of processes in use.  We also send allele freq, and the original genepop file name </span></div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;<span class="stringliteral">                inside the genepop file manager object):</span></div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;<span class="stringliteral">                &#39;&#39;&#39;</span></div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;                s_sample_value, s_replicate_number = \</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;                        get_sample_val_and_rep_number_from_sample_name( s_indiv_sample, s_sample_scheme )</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;                s_loci_sample_value, s_loci_replicate_number = \</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;                        <a class="code" href="namespacenegui_1_1pgdriveneestimator.html#ac6e046ac333dcd975329026d752ea2d9">get_loci_sample_val_and_rep_number_from_loci_sample_tag</a>( s_loci_subsample_tag )</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;                </div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;                i_tot_indivs_this_subsample=o_genepopfile.getIndividualCount( i_population_number, </div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;                                                                                        s_indiv_sample )</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;                <span class="keywordflow">if</span> i_tot_indivs_this_subsample == 0:</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;                    s_msg= <span class="stringliteral">&quot;In pgdriveneestimator.py, def add_to_set_of_calls_to_do_estimate, &quot;</span> \</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;                                    + <span class="stringliteral">&quot; no estimation was done on pop section number &quot;</span>  \</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;                                    + str( i_population_number ) \</div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;                                    + <span class="stringliteral">&quot; in file, &quot;</span> + o_genepopfile.original_file_name \</div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;                                    + <span class="stringliteral">&quot;.  The parameters for population or loci &quot;</span> \</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;                                    + <span class="stringliteral">&quot;resulted in no individuals being sampled.&quot;</span></div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;                    o_secondary_outfile.write( s_msg + <span class="stringliteral">&quot;\n&quot;</span> )</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;                    <span class="keywordflow">continue</span></div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;                <span class="comment"># end if this sample for this pop has zero individuals</span></div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;                <span class="comment">#for downstream analysis, we get the census of total indiv</span></div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;                <span class="comment">#non-sampled, for this pop section:</span></div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;                s_census=str( o_genepopfile.getIndividualCount( i_population_number ) )</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;                <span class="comment">#we make population subsample list consisting of only this populations number:</span></div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;                s_this_pop_number=str( i_population_number ) </div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;                o_genepopfile.subsamplePopulationsByList( [ i_population_number ], s_this_pop_number )</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;                <span class="keywordflow">if</span> o_debug_mode.isSet( DebugMode.PRINT_REPLICATE_SELECTIONS ):</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;                    print_test_list_replicate_selection_indices( o_genepopfile, </div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;                                            s_sample_scheme,    </div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;                                            s_indiv_sample, </div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;                                            s_loci_sample_value,</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;                                            s_loci_replicate_number,</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;                                            o_secondary_outfile, </div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;                                            s_population_subsample_tag=s_this_pop_number )</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;                <span class="comment">#end if we&#39;re testing, print </span></div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;                <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;<span class="stringliteral">                2017_04_03.  A Windows limit on path length motivates new, shorter names</span></div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;<span class="stringliteral">                for the intermediate genepop files.  Now we simply use the i_genepop_file_count</span></div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;<span class="stringliteral">                number passed to this def from def drive_estimator, and the subsample count</span></div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;<span class="stringliteral">                to get a uniq identifier for this genepop file vs. all others in this run.</span></div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;<span class="stringliteral">                For now we retain the original code remm&#39;d out, and construct the shorter</span></div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;<span class="stringliteral">                name in a new def:</span></div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;<span class="stringliteral">                &#39;&#39;&#39;</span></div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;                <span class="comment">#in naming a the genepop file for the subsampled pop,</span></div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;                <span class="comment">#some processing is needed to avoid NeEstimator file naming errors, and</span></div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;                <span class="comment">#path mangling, so we made a separate def:</span></div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;<span class="comment">#               s_genepop_file_subsample=get_subsample_genepop_file_name( o_genepopfile.original_file_name, </span></div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;<span class="comment">#                                                       s_loci_subsample_tag, </span></div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;<span class="comment">#                                                       s_this_pop_number,</span></div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;<span class="comment">#                                                       s_temporary_directory )</span></div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;                </div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;                s_genepop_file_subsample=<a class="code" href="namespacenegui_1_1pgdriveneestimator.html#a9c650be4ed8ae5fa5e599523c22273bd">make_subsample_genepop_file_name</a>( o_genepopfile.original_file_name,</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;                                                                                            s_temporary_directory, </div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;                                                                                                i_genepop_file_count, </div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;                                                                                                    i_individ_sample_count,</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;                                                                                                        i_loci_subsample_count )</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;                s_run_output_file=s_genepop_file_subsample + <span class="stringliteral">&quot;_ne_run.txt&quot;</span></div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;                o_neinput=pgin.PGInputNeEstimator( s_genepop_file_subsample )</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;                o_neinput.run_params={ <span class="stringliteral">&quot;crits&quot;</span>:[ f_min_allele_freq ]  }</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;                o_neoutput=pgout.PGOutputNeEstimator( s_genepop_file_subsample, </div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;                                                        s_run_output_file, </div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;                                                        s_estimator_to_use=ESTIMATOR_TO_USE )   </div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;                </div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;                o_ne_estimator=pgne.PGOpNeEstimator( o_neinput, </div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;                                                        o_neoutput, </div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;                                                        s_estimator_name=ESTIMATOR_TO_USE,</div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;                                                        s_parent_dir_for_workspace=s_temporary_directory ) </div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;                </div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;                <span class="keywordflow">if</span> ESTIMATOR_TO_USE == LDNE2 <span class="keywordflow">and</span> PATH_TO_LDNE2 <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;                    o_ne_estimator.ldne_path=PATH_TO_LDNE2</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;                <span class="comment">#end if we are using LDNe2 and we have a path to the executable</span></div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;                lv_these_args = [ o_genepopfile,  </div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;                                    o_ne_estimator, </div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;                                    s_sample_value, </div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;                                    s_loci_sample_value,</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;                                    f_min_allele_freq, </div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;                                    s_indiv_sample, </div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;                                    s_loci_subsample_tag,</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;                                    s_this_pop_number, </div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;                                    s_census,</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;                                    s_replicate_number, </div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;                                    s_loci_replicate_number,</div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;                                    o_debug_mode,</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;                                    IDX_NE_ESTIMATOR_OUTPUT_FIELDS_TO_SKIP,</div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;                                    f_nbne_ratio,</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;                                    i_min_loci_position,</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;                                    i_max_loci_position ]</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;                llv_args_each_process.append( lv_these_args )</div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;            <span class="comment">#end for each population</span></div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;        <span class="comment">#end for each loci sample name assoc with this indiv sample name</span></div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;    <span class="comment">#end for each indiv sample name</span></div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;<span class="comment">#end add_to_set_of_calls_to_do_estimate</span></div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_a9c650be4ed8ae5fa5e599523c22273bd"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#a9c650be4ed8ae5fa5e599523c22273bd">negui.pgdriveneestimator.make_subsample_genepop_file_name</a></div><div class="ttdeci">def make_subsample_genepop_file_name(s_original_genepop_file, s_temporary_directory, i_genepop_file_count, i_indiv_sample_count, i_loci_subsample_count)</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8experimental_8py_source.html#l02005">pgdriveneestimator.experimental.py:2005</a></div></div>
<div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_a06645f9b380f736368e27585331ec22f"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#a06645f9b380f736368e27585331ec22f">negui.pgdriveneestimator.get_pops_in_file_outside_valid_size_range</a></div><div class="ttdeci">def get_pops_in_file_outside_valid_size_range(o_genepopfile, i_min_pop_size, i_max_pop_size)</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8experimental_8py_source.html#l01015">pgdriveneestimator.experimental.py:1015</a></div></div>
<div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_ac6e046ac333dcd975329026d752ea2d9"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#ac6e046ac333dcd975329026d752ea2d9">negui.pgdriveneestimator.get_loci_sample_val_and_rep_number_from_loci_sample_tag</a></div><div class="ttdeci">def get_loci_sample_val_and_rep_number_from_loci_sample_tag(s_loci_subsample_tag)</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8experimental_8py_source.html#l02242">pgdriveneestimator.experimental.py:2242</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeb13bee850fbafd8116a6b7e8048b98c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgdriveneestimator.do_estimate </td>
          <td>(</td>
          <td class="paramtype">xxx_todo_changeme&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">2017_07_07.  The paramaters min_loci_position
and max_loci_position are added to the arglist,
so that this def can compute the heterozygosity
only using the loci in the range specified by the
caller.
</pre> 
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l01105">1105</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01105"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html#aeb13bee850fbafd8116a6b7e8048b98c"> 1105</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgdriveneestimator.html#aeb13bee850fbafd8116a6b7e8048b98c">do_estimate</a>(xxx_todo_changeme ):</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    ( o_genepopfile, o_ne_estimator, </div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                    s_sample_param_val, s_loci_sample_value,</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                    f_min_allele_freq, s_subsample_tag, </div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                    s_loci_sample_tag, s_population_number, </div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                    s_census, i_replicate_number, </div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                    s_loci_replicate_number, o_debug_mode, </div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                        IDX_NE_ESTIMATOR_OUTPUT_FIELDS_TO_SKIP,</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                        f_nbne_ratio ) = xxx_todo_changeme</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <span class="keywordflow">try</span>:</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        s_genepop_file_subsample=o_ne_estimator.input.genepop_file</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        o_genepopfile.writeGenePopFile( s_genepop_file_subsample, </div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                                s_indiv_subsample_tag=s_subsample_tag,</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                                s_pop_subsample_tag=s_population_number,</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                                s_loci_subsample_tag=s_loci_sample_tag ) </div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        o_ne_estimator.doOp()</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        llv_output=o_ne_estimator.deliverResults()</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        li_sample_indiv_count=o_genepopfile.getIndividualCounts( s_indiv_subsample_tag = s_subsample_tag, </div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                                                                    s_pop_subsample_tag = s_population_number )</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        s_sample_indiv_count = str( li_sample_indiv_count[ 0 ] )</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        ls_runinfo=[ o_genepopfile.original_file_name, </div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                                    s_population_number, </div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                                    s_census,</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                                    s_sample_indiv_count, </div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                                    s_sample_param_val, </div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                                    str( i_replicate_number), </div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                                    s_loci_sample_value,</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                                    s_loci_replicate_number,</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                                    str( f_min_allele_freq ) ]</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        </div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        ls_stdout=[]</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <span class="keywordflow">for</span> lv_output <span class="keywordflow">in</span> llv_output:</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            ls_fields_to_report=[]  </div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;            ls_output_vals_as_strings=[ str( v_val ) <span class="keywordflow">for</span> v_val <span class="keywordflow">in</span> lv_output ]</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;            <span class="keywordflow">for</span> idx <span class="keywordflow">in</span> range( len( ls_output_vals_as_strings ) ):</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                <span class="keywordflow">if</span> idx <span class="keywordflow">not</span> <span class="keywordflow">in</span> IDX_NE_ESTIMATOR_OUTPUT_FIELDS_TO_SKIP:</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                    ls_fields_to_report.append( ls_output_vals_as_strings[ idx ] )</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                <span class="comment">#end if idx is not for a field we&#39;re skipping</span></div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;            <span class="comment">#end for each field&#39;s index</span></div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;            <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;<span class="stringliteral">            2017_04_17.  The bias adjustment code in this def is now simplified,</span></div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="stringliteral">            so that it is passed an f_nbne_ratio, that is either None, or a float,</span></div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;<span class="stringliteral">            so that this def can simply pass it and the objects needed to get the</span></div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;<span class="stringliteral">            un-adjusted estimate.  Formerly, we passed the genepop file object to a</span></div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;<span class="stringliteral">            allow the called def to search  the header for a ratio, if a flag</span></div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;<span class="stringliteral">            (also used to be passed to this def) was true.  Now this ratio finding</span></div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;<span class="stringliteral">            is done on a per-original-genepop file basis in def run_estimator.</span></div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="stringliteral">            &#39;&#39;&#39;</span></div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;            s_ratio_used_for_adjustment, s_bias_adjusted_value=\</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                        <a class="code" href="namespacenegui_1_1pgdriveneestimator.html#a7df54bcca5c33c80e648c440527a85ce">get_string_values_ldne_ratio_and_bias_adjustment</a>( \</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                                                                o_ne_estimator,</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                                                                lv_output,</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                                                                f_nbne_ratio )</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;            </div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;            ls_fields_to_report.append( s_ratio_used_for_adjustment )</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;            ls_fields_to_report.append( s_bias_adjusted_value )</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;            ls_stdout.append( OUTPUT_DELIMITER.join(  ls_runinfo + ls_fields_to_report )  )</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;        <span class="comment">#end for each line of parsed NeEstimator Output</span></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        </div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        <span class="comment">#Make one long string, endline-delimited, for the stdout.</span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        <span class="comment">#Note:  if the inpout genepop file had only one</span></div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        <span class="comment">#population, this should be a single line of text.</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        s_stdout=ENDLINE_SEQ.join( ls_stdout )</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        s_stderr=<span class="keywordtype">None</span></div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        ls_indiv_list=<span class="keywordtype">None</span></div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;        s_nodat_file=o_ne_estimator.output.getNoDatFileName()</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        <span class="keywordflow">if</span> o_debug_mode.isSet( DebugMode.MAKE_INDIV_TABLE ):</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;            ls_indiv_list = o_genepopfile.getListIndividuals( </div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                    i_pop_number=int( s_population_number ), </div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                    s_indiv_subsample_tag = s_subsample_tag )   </div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        <span class="comment">#end if return list indiv</span></div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        </div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        <span class="keywordflow">if</span> not( o_debug_mode.isSet( DebugMode.KEEP_ESTIMATOR_FILES) ):</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;            <span class="keywordflow">if</span> os.path.exists( o_ne_estimator.output.run_output_file ):</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                os.remove( o_ne_estimator.output.run_output_file )</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;            <span class="comment">#end if NeEstimator&#39;s orig output file exists, delete it</span></div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        <span class="comment">#end if flag to keep output file is false</span></div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        <span class="keywordflow">if</span> not( o_debug_mode.isSet( DebugMode.KEEP_REPLICATE_GENEPOP_FILES ) ):</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;            <span class="keywordflow">if</span> os.path.exists( o_ne_estimator.output.run_input_file ):</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                os.remove( o_ne_estimator.output.run_input_file )</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;            <span class="comment">#end if subsample genepop file exists, delete it</span></div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;        <span class="comment">#end if flag to keep input file is false</span></div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        <span class="keywordflow">if</span> not( o_debug_mode.isSet( DebugMode.KEEP_NODAT_FILES ) ):</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;            s_nodat_file=o_ne_estimator.output.getNoDatFileName()</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;            <span class="keywordflow">if</span> s_nodat_file <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                os.remove( s_nodat_file )</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;            <span class="comment">#end for each nodatfile</span></div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        <span class="comment">#end if debug mode says remove nodats</span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        <span class="keywordflow">if</span> not( o_debug_mode.isSet( DebugMode.KEEP_NE_EXTRA_FILES) ):</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;            ls_extra_files=glob.glob( \</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                    o_ne_estimator.output.run_output_file \</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                    + <span class="stringliteral">&quot;*x??.txt&quot;</span> )</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;            <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="stringliteral">            2017_03_21. To accomodate the use of the  LDNe2 estimator, </span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<span class="stringliteral">            to cleanup we add to glob the LDNe2 tabular output</span></div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;<span class="stringliteral">            file extention, &quot;x.txt&quot;.</span></div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;<span class="stringliteral">            &#39;&#39;&#39;</span></div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;            ls_extra_files+=glob.glob( \</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                    o_ne_estimator.output.run_output_file \</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;                    + <span class="stringliteral">&quot;x.txt&quot;</span> )</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;            <span class="keywordflow">for</span> o_extra_file <span class="keywordflow">in</span> ls_extra_files:</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                os.remove( o_extra_file )</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;            <span class="comment">#end for each nextpfile</span></div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        <span class="comment">#end if debug mode says remove nodats</span></div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        </div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <span class="keywordflow">except</span> Exception <span class="keyword">as</span> oex:</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        o_traceback=sys.exc_info()[ 2 ]</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        s_trace_msg=pgut.get_traceback_info_about_offending_code( o_traceback ) </div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        <span class="keywordflow">raise</span> Exception( <span class="stringliteral">&quot;An exception was raised in &quot;</span> \</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;                             + <span class="stringliteral">&quot;module pgdriveneestimator.py, &quot;</span> \</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;                             + <span class="stringliteral">&quot;def do_estimate, with message: &quot;</span> \</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                             + str( oex ) + <span class="stringliteral">&quot;\n&quot;</span> + <span class="stringliteral">&quot;Exeption origin from &quot;</span> \</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;                             + s_trace_msg )</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <span class="comment">#end try...except</span></div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="keywordflow">return</span> { <span class="stringliteral">&quot;for_stdout&quot;</span> : s_stdout, <span class="stringliteral">&quot;for_stderr&quot;</span> : s_stderr, </div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;            <span class="stringliteral">&quot;for_indiv_table&quot;</span>: <span class="keywordtype">None</span> <span class="keywordflow">if</span> ls_indiv_list <span class="keywordflow">is</span> <span class="keywordtype">None</span> \</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                    <span class="keywordflow">else</span> { <span class="stringliteral">&quot;file&quot;</span> : o_genepopfile.original_file_name, </div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;                        <span class="stringliteral">&quot;sample_val&quot;</span>: s_sample_param_val,</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                        <span class="stringliteral">&quot;loci_val&quot;</span>:s_loci_sample_value,</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                        <span class="stringliteral">&quot;rep&quot;</span> : i_replicate_number,</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;                        <span class="stringliteral">&quot;loci_rep&quot;</span>:s_loci_replicate_number,</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;                        <span class="stringliteral">&quot;list&quot;</span> : ls_indiv_list,</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                        <span class="stringliteral">&quot;pop&quot;</span> : s_population_number } }</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;<span class="comment">#end do_estimate</span></div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_a7df54bcca5c33c80e648c440527a85ce"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#a7df54bcca5c33c80e648c440527a85ce">negui.pgdriveneestimator.get_string_values_ldne_ratio_and_bias_adjustment</a></div><div class="ttdeci">def get_string_values_ldne_ratio_and_bias_adjustment(o_ne_estimator, lv_results_list, f_nbne_ratio)</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8experimental_8py_source.html#l01043">pgdriveneestimator.experimental.py:1043</a></div></div>
<div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_aeb13bee850fbafd8116a6b7e8048b98c"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#aeb13bee850fbafd8116a6b7e8048b98c">negui.pgdriveneestimator.do_estimate</a></div><div class="ttdeci">def do_estimate(xxx_todo_changeme)</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8experimental_8py_source.html#l01105">pgdriveneestimator.experimental.py:1105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a99dfc5e3dc217054199cd4f693e26236"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgdriveneestimator.do_ldne_bias_adjustment </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>f_ldne_estimate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>f_nbne_ratio</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">2017_02_11. Implements, through the LDNENbBiasAdjustor
class, the bias adjustment to LDNE estimates
via eq (8) in Waples 2014 (see class description).
</pre> 
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l01095">1095</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01095"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html#a99dfc5e3dc217054199cd4f693e26236"> 1095</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgdriveneestimator.html#a99dfc5e3dc217054199cd4f693e26236">do_ldne_bias_adjustment</a>( f_ldne_estimate, f_nbne_ratio ):</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;<span class="stringliteral">    2017_02_11. Implements, through the LDNENbBiasAdjustor</span></div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;<span class="stringliteral">    class, the bias adjustment to LDNE estimates</span></div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;<span class="stringliteral">    via eq (8) in Waples 2014 (see class description).</span></div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    o_adjustor=LDNENbBiasAdjustor( f_ldne_estimate, f_nbne_ratio )</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordflow">return</span> o_adjustor.adjusted_nb</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="comment">#end def do_ldne_bias_adjustment</span></div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_a99dfc5e3dc217054199cd4f693e26236"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#a99dfc5e3dc217054199cd4f693e26236">negui.pgdriveneestimator.do_ldne_bias_adjustment</a></div><div class="ttdeci">def do_ldne_bias_adjustment(f_ldne_estimate, f_nbne_ratio)</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8experimental_8py_source.html#l01095">pgdriveneestimator.experimental.py:1095</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a74f962e4a6815d8acc2e23c9ad146d0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgdriveneestimator.do_sample </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o_genepopfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_min_pop_range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_max_pop_range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_min_pop_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_max_pop_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_sample_scheme</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lv_sample_values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_replicates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_loci_sampling_scheme</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>v_loci_sampling_scheme_param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_min_loci_position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_max_loci_position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_min_total_loci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_max_total_loci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_loci_replicates</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">2017_05_29.  We add a return value, so that the calling
def (drive_estimator), will know whether any pops were
sampled. If the call to do_sample_individuals has no
pops in range we return 0, otherwise, we do the loci
sampling and return the value returned, which will be
the pop list length, or zero if no loci are in range,
as given by min_loci_number and max_loci_number.
</pre> 
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l01556">1556</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01556"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html#a74f962e4a6815d8acc2e23c9ad146d0d"> 1556</a></span>&#160;                i_loci_replicates ):</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;<span class="stringliteral">    2017_05_29.  We add a return value, so that the calling</span></div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;<span class="stringliteral">    def (drive_estimator), will know whether any pops were</span></div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;<span class="stringliteral">    sampled. If the call to do_sample_individuals has no</span></div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;<span class="stringliteral">    pops in range we return 0, otherwise, we do the loci</span></div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;<span class="stringliteral">    sampling and return the value returned, which will be</span></div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;<span class="stringliteral">    the pop list length, or zero if no loci are in range,</span></div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;<span class="stringliteral">    as given by min_loci_number and max_loci_number.</span></div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    li_population_list=<a class="code" href="namespacenegui_1_1pgdriveneestimator.html#aa663cfeded8b8a3710d1a11192f12581">do_sample_individuals</a>( o_genepopfile, </div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;                    i_min_pop_range,</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;                    i_max_pop_range,</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;                    i_min_pop_size,</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                    i_max_pop_size,</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                    s_sample_scheme, </div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                    lv_sample_values, </div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;                    i_replicates )</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="keywordflow">if</span> li_population_list <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;        <span class="keywordflow">return</span> 0</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    <span class="comment">#end if no pops were sampled (i.e. min pop &gt; total pops).  </span></div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    <span class="comment">#we also want to sample loci one loci sampling</span></div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    <span class="comment">#replicate for each each individual replicate,</span></div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <span class="comment">#the latter now included in the genepopfile object:</span></div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    i_total_pops_sampled=<a class="code" href="namespacenegui_1_1pgdriveneestimator.html#a408b2c39ad32bd720e35f2eace94509c">do_sample_loci</a>( o_genepopfile,</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;                    s_loci_sampling_scheme,</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;                    v_loci_sampling_scheme_param,</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                    i_min_loci_position,</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;                    i_max_loci_position,</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;                    i_min_total_loci,</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;                    i_max_total_loci,</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;                    li_population_list,</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;                    i_loci_replicates )</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <span class="keywordflow">return</span> i_total_pops_sampled</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;<span class="comment">#end do_sample</span></div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_a408b2c39ad32bd720e35f2eace94509c"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#a408b2c39ad32bd720e35f2eace94509c">negui.pgdriveneestimator.do_sample_loci</a></div><div class="ttdeci">def do_sample_loci(o_genepopfile, s_loci_sampling_scheme, v_loci_sampling_scheme_param, i_min_loci_position, i_max_loci_position, i_min_total_loci, i_max_total_loci, li_population_list, i_loci_replicates=1)</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8experimental_8py_source.html#l01791">pgdriveneestimator.experimental.py:1791</a></div></div>
<div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_aa663cfeded8b8a3710d1a11192f12581"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#aa663cfeded8b8a3710d1a11192f12581">negui.pgdriveneestimator.do_sample_individuals</a></div><div class="ttdeci">def do_sample_individuals(o_genepopfile, i_min_pop_range, i_max_pop_range, i_min_pop_size, i_max_pop_size, s_sample_scheme, lv_sample_values, i_replicates)</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8experimental_8py_source.html#l01603">pgdriveneestimator.experimental.py:1603</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa663cfeded8b8a3710d1a11192f12581"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgdriveneestimator.do_sample_individuals </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o_genepopfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_min_pop_range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_max_pop_range</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_min_pop_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_max_pop_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_sample_scheme</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lv_sample_values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_replicates</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">do_sample adds subsample info to the o_genepopfile GenepopFileManager object,
and so changes it in place, returns no value.  The o_genepopfile can then
be accessed to write a new genepop file that contains the subsampled data.
sampler requires a population list (in case we want to sample fewer than
all the pops in the file). If the client passed in "all" parse_args
will have assigned None to both min and max.

2017_05_29.  We add check to see if the min pop range number is &gt;
the total pops int he genepop file, in which case we return None.
</pre> 
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l01603">1603</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01603"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html#aa663cfeded8b8a3710d1a11192f12581"> 1603</a></span>&#160;                i_replicates ):</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;<span class="stringliteral">    do_sample adds subsample info to the o_genepopfile GenepopFileManager object,</span></div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;<span class="stringliteral">    and so changes it in place, returns no value.  The o_genepopfile can then</span></div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;<span class="stringliteral">    be accessed to write a new genepop file that contains the subsampled data.</span></div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;<span class="stringliteral">    sampler requires a population list (in case we want to sample fewer than</span></div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;<span class="stringliteral">    all the pops in the file). If the client passed in &quot;all&quot; parse_args</span></div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;<span class="stringliteral">    will have assigned None to both min and max.</span></div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;<span class="stringliteral">    2017_05_29.  We add check to see if the min pop range number is &gt;</span></div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;<span class="stringliteral">    the total pops int he genepop file, in which case we return None.</span></div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    i_total_pops_in_file=o_genepopfile.pop_total</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    li_population_list=<span class="keywordtype">None</span></div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <span class="keywordflow">if</span> i_min_pop_range <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;        <span class="comment">#make sure both are None, else</span></div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        <span class="comment">#arg-parsing error:</span></div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;        <span class="keywordflow">if</span> i_max_pop_range <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;            li_population_list=list( range( 1, i_total_pops_in_file + 1 ) )</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;            s_msg=<span class="stringliteral">&quot;In pgdriveneestimator.py, def do_sample, &quot;</span> \</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;                        + <span class="stringliteral">&quot; found arg min pop range is None, &quot;</span> \</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;                        + <span class="stringliteral">&quot; but max pop range is not None, &quot;</span> \</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;                        + str( i_max_pop_range ) \</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;                        + <span class="stringliteral">&quot;.  Invalid argument pair.&quot;</span></div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;            <span class="keywordflow">raise</span> Exception( s_msg )</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;        <span class="comment">#end if max is None, then get all pops into list, else error</span></div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <span class="keywordflow">elif</span> i_min_pop_range &lt; 1 <span class="keywordflow">or</span> i_min_pop_range &gt; i_max_pop_range:</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;            s_msg=<span class="stringliteral">&quot;In pgdriveneestimator.py, def do_sample, &quot;</span> \</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;                        + <span class="stringliteral">&quot;min pop number range, &quot;</span> \</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;                        + str( i_min_pop_range ) \</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;                        + <span class="stringliteral">&quot;, is less than one or &quot;</span> \</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;                        + <span class="stringliteral">&quot;greaterh than max pop number, &quot;</span> \</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;                        + str( i_max_pop_range ) + <span class="stringliteral">&quot;.&quot;</span> </div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;            <span class="keywordflow">raise</span> Exception( s_msg )</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;        <span class="comment">#end if min or max out of range</span></div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    <span class="keywordflow">elif</span> i_min_pop_range &gt; i_total_pops_in_file:</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        <span class="keywordflow">return</span> <span class="keywordtype">None</span></div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <span class="keywordflow">else</span>:</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;        i_max_pop_range=min( i_max_pop_range, i_total_pops_in_file )</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;        li_population_list=list(range( i_min_pop_range, i_max_pop_range + 1))</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;    <span class="comment">#end if min pop range is None, else if range invalid, else if out of range, </span></div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;    <span class="comment">#else good range, get corresponding pop number list </span></div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    o_sampler=<span class="keywordtype">None</span>  </div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    s_population_subsample_tag=s_sample_scheme</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="keywordflow">if</span> s_sample_scheme==SAMPLE_BY_NONE:</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;        o_sample_params=gps.GenepopFileSampleParamsNone( li_population_numbers=li_population_list,</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                                                            i_min_pop_size=i_min_pop_size,</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;                                                            i_max_pop_size=i_max_pop_size,</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;                                                            i_replicates=i_replicates,</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                                                            s_population_subsample_name=s_population_subsample_tag )    </div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        o_sampler=gps.GenepopFileSamplerNone( o_genepopfile, o_sample_params )</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    <span class="keywordflow">elif</span> s_sample_scheme==SAMPLE_BY_PERCENTAGES:</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;        <span class="comment">#our &quot;proportion&quot; sampler object needs proportions instead of percentages:</span></div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;        o_sample_params=gps.GenepopFileSampleParamsProportion( li_population_numbers=li_population_list,</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                                                lf_proportions=lv_sample_values,</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;                                                i_replicates=i_replicates,</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;                                                s_population_subsample_name=s_population_subsample_tag )</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;        o_sampler=gps.GenepopFileSamplerIndividualsByProportion( o_genepopfile, o_sample_params )</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    <span class="keywordflow">elif</span> s_sample_scheme==SAMPLE_BY_REMOVAL:</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;        o_sample_params=gps.GenepopFileSampleParamsRemoval( li_population_numbers=li_population_list,</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;                                                li_n_to_remove=lv_sample_values,</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;                                                i_replicates=i_replicates,</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;                                                s_population_subsample_name=s_population_subsample_tag )</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;        o_sampler=gps.GenepopFileSamplerIndividualsByRemoval( o_genepopfile, o_sample_params )</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    <span class="keywordflow">elif</span> s_sample_scheme==SAMPLE_BY_CRITERIA:</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;        o_indiv_fields, o_criteria = get_criteria_sampling_params( lv_sample_values )</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        o_sample_params=gps.GenepopFileSampleParamsCriteria( o_genepop_indiv_id_fields=o_indiv_fields,</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;                                                                    o_genepop_indiv_id_critera=o_criteria,</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;                                                                    li_population_numbers=li_population_list,</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;                                                                    i_min_sampled_pop_size=i_min_pop_size,</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;                                                                    i_max_sampled_pop_size=i_max_pop_size,</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;                                                                    s_population_subsample_name = s_population_subsample_tag,</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;                                                                    i_replicates=i_replicates )</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        o_sampler=gps.GenepopFileSamplerIndividualsByCriteria( o_genepopfile, o_sample_params )</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <span class="keywordflow">elif</span> s_sample_scheme==SAMPLE_BY_COHORT:</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;        ( o_indiv_fields,</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;            i_max_age ) = get_cohorts_sampling_params( lv_sample_values )</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;        o_sample_params=gps.GenepopFileSampleParamsAgeStructureCohorts( \</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;                                        o_genepop_indiv_id_fields = o_indiv_fields,</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;                                        li_population_numbers = li_population_list,</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;                                        i_max_age=i_max_age,</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;                                        i_min_individuals_per_gen=i_min_pop_size,</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;                                        i_max_individuals_per_gen=i_max_pop_size,</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;                                        i_replicates=i_replicates )</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        o_sampler=gps.GenepopFileSamplerIndividualsAgeStructureCohorts( o_genepopfile,</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;                                                                    o_sample_params )</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    <span class="keywordflow">elif</span> s_sample_scheme==SAMPLE_BY_COHORT_PERCENTAGE:</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;        <span class="comment">#this scheme has params identical to the regular &quot;cohorts&quot; scheme,</span></div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;        <span class="comment">#with a hyphenated list percentage values appended to the max-age param, </span></div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;        <span class="comment">#so we extract the last two values of the last param list:  </span></div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;        </div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        COHORT_PARAM_LIST_DELIMITER=<span class="stringliteral">&quot;;&quot;</span></div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        COHORT_PERC_DELIM=<span class="stringliteral">&quot;-&quot;</span></div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;        IDX_MAX_AGE=0</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;        IDX_PERC=1</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        s_last_param=lv_sample_values[ -1 ]</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        ls_age_and_percentage=s_last_param.split( \</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;                        COHORT_PARAM_LIST_DELIMITER )</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;        s_max_age=ls_age_and_percentage[ IDX_MAX_AGE ]</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        s_percentages=ls_age_and_percentage[ IDX_PERC ]</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;        </div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        <span class="comment">#we reassemble the list to match the expected</span></div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        <span class="comment">#cohort sampling params (without the percentage):</span></div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;        lv_cohort_param_fields=lv_sample_values[ 0:len( lv_sample_values ) - 1 ] \</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;                                                            + [ s_max_age ]     </div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;        <span class="comment">#Convert the percentages to a list of floats giving proportion:</span></div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        lf_proportions=[ old_div(float( s_percentage ),100.0) <span class="keywordflow">for</span> s_percentage  \</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;                            <span class="keywordflow">in</span> s_percentages.split( COHORT_PERC_DELIM ) ]</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;        ( o_indiv_fields,</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;                i_max_age ) = get_cohorts_sampling_params( lv_cohort_param_fields )</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;        o_sample_params=gps.GenepopFileSampleParamsAgeStructureCohorts( \</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;                                            o_genepop_indiv_id_fields = o_indiv_fields,</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                                            li_population_numbers = li_population_list,</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;                                            i_max_age=i_max_age,</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;                                            lf_proportions=lf_proportions,</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                                            i_min_individuals_per_gen=i_min_pop_size,</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;                                            i_max_individuals_per_gen=i_max_pop_size,</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                                            i_replicates=i_replicates )</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;        o_sampler=gps.GenepopFileSamplerIndividualsAgeStructureCohortsPercentage( o_genepopfile,</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                                                                                    o_sample_params )</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;                                </div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <span class="keywordflow">elif</span> s_sample_scheme==SAMPLE_BY_RELATEDS:</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;            ( o_indiv_fields,</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;                f_percent_relateds) = get_relateds_sampling_params( lv_sample_values )</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;            o_sample_params=gps.GenepopFileSampleParamsAgeStructureRelateds( \</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;                                        o_genepop_indiv_id_fields = o_indiv_fields,</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;                                        li_population_numbers = li_population_list,</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;                                        f_percent_relateds_per_gen=f_percent_relateds,</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                                        i_min_individuals_per_gen=i_min_pop_size,</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;                                        i_max_individuals_per_gen=i_max_pop_size,</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;                                        i_replicates=i_replicates )</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;            o_sampler=gps.GenepopFileSamplerIndividualsAgeStructureRelateds( o_genepopfile,</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;                                                                    o_sample_params )</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    <span class="keywordflow">else</span>:</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        s_msg=<span class="stringliteral">&quot;In pgdriveneestimator.py, def do_sample, &quot;</span> \</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;                + <span class="stringliteral">&quot;unknown sampling scheme: &quot;</span> \</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;                + s_sample_scheme + <span class="stringliteral">&quot;.&quot;</span></div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;        <span class="keywordflow">raise</span> Exception( s_msg )</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <span class="comment">#end if percent, else removal, else criteria, else cohort, else relateds, else error</span></div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    o_sampler.doSample()</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    <span class="keywordflow">return</span> li_population_list</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;<span class="comment">#end do_sample_individuals</span></div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a408b2c39ad32bd720e35f2eace94509c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgdriveneestimator.do_sample_loci </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o_genepopfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_loci_sampling_scheme</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>v_loci_sampling_scheme_param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_min_loci_position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_max_loci_position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_min_total_loci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_max_total_loci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>li_population_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_loci_replicates</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">As of 2016_10_06, we have no loci sampling scheme
but we still subsample by loci order, start index, stop index
and a max total -- randomly drawn if the start/stop range
results in total loci over the max. 

Further, we currently only permit one loci subsample for
each individual subsampling session -- i.e. for all 
of a given sample replicate.

As of 2016_10_20, we've added new scheme "percent", but
still doing one sample in the genepop file per call
to this def, which now still means one loci sample will
be applied to all replicate indiv samples.

2016_11_06, revising to do multiple loci sampling.  The
scheme is, for each existing individual subsample,
we subsample the loci for each loci-subsampling parameter
value, and for each of these, for the number of loci
replicates given by def param i_loci_replicates.

2017_05_29.  We add a check at the start of this def
to validate the min and max loci position arguments.
if the range is invalid, we throw and error.  If the
min is greater than the total number of loci, we return
a 0, to indicate no pops were sampled.  Otherwise, 
we return the number of items in the li_population_numbers.</pre> 
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l01791">1791</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01791"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html#a408b2c39ad32bd720e35f2eace94509c"> 1791</a></span>&#160;                        i_loci_replicates=1 ):</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;        </div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;<span class="stringliteral">    As of 2016_10_06, we have no loci sampling scheme</span></div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;<span class="stringliteral">    but we still subsample by loci order, start index, stop index</span></div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;<span class="stringliteral">    and a max total -- randomly drawn if the start/stop range</span></div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;<span class="stringliteral">    results in total loci over the max. </span></div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;<span class="stringliteral">    Further, we currently only permit one loci subsample for</span></div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;<span class="stringliteral">    each individual subsampling session -- i.e. for all </span></div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;<span class="stringliteral">    of a given sample replicate.</span></div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;<span class="stringliteral">    As of 2016_10_20, we&#39;ve added new scheme &quot;percent&quot;, but</span></div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;<span class="stringliteral">    still doing one sample in the genepop file per call</span></div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;<span class="stringliteral">    to this def, which now still means one loci sample will</span></div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;<span class="stringliteral">    be applied to all replicate indiv samples.</span></div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;<span class="stringliteral">    2016_11_06, revising to do multiple loci sampling.  The</span></div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;<span class="stringliteral">    scheme is, for each existing individual subsample,</span></div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;<span class="stringliteral">    we subsample the loci for each loci-subsampling parameter</span></div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;<span class="stringliteral">    value, and for each of these, for the number of loci</span></div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;<span class="stringliteral">    replicates given by def param i_loci_replicates.</span></div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;<span class="stringliteral">    2017_05_29.  We add a check at the start of this def</span></div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;<span class="stringliteral">    to validate the min and max loci position arguments.</span></div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;<span class="stringliteral">    if the range is invalid, we throw and error.  If the</span></div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;<span class="stringliteral">    min is greater than the total number of loci, we return</span></div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;<span class="stringliteral">    a 0, to indicate no pops were sampled.  Otherwise, </span></div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;<span class="stringliteral">    we return the number of items in the li_population_numbers.</span></div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    <span class="keywordflow">if</span> i_min_loci_position &lt; 1  \</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;            <span class="keywordflow">or</span> i_min_loci_position &gt; i_max_loci_position:</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        s_msg=<span class="stringliteral">&quot;In pgdriveneestimator.py, def do_sample_loci, &quot;</span> \</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;                        + <span class="stringliteral">&quot;min loci number range, &quot;</span> \</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;                        + str( i_min_loci_position ) \</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;                        + <span class="stringliteral">&quot;, is less than one or &quot;</span> \</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;                        + <span class="stringliteral">&quot;greater than max pop number, &quot;</span> \</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;                        + str( i_max_loci_position ) + <span class="stringliteral">&quot;.&quot;</span> </div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;        <span class="keywordflow">raise</span> Exception( s_msg )</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    <span class="keywordflow">elif</span> i_min_loci_position &gt; o_genepopfile.loci_total:</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;            <span class="keywordflow">return</span> 0</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <span class="comment">#end if invalid range, else no loci in range</span></div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    <span class="keywordflow">for</span> s_indiv_subsample_tag <span class="keywordflow">in</span> o_genepopfile.indiv_subsample_tags:</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;        <span class="keywordflow">if</span> s_loci_sampling_scheme == SAMPLE_LOCI_SCHEME_NONE:</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;            <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;<span class="stringliteral">            Loci subsample tags consist of an individual subsample tag</span></div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;<span class="stringliteral">            followed by &quot;_l_t_v_r&quot; where t gives the scheme type, v gives</span></div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;<span class="stringliteral">            the salient param value for the scheme, and r gives the replicate.</span></div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;<span class="stringliteral">            </span></div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;<span class="stringliteral">            2017_05_24. Bug fix.  The subsampling for this scheme was being</span></div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;<span class="stringliteral">            done in a loop, for idx in range( i_replicates), but the</span></div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;<span class="stringliteral">            i_replicates parameter in the sampler was hard-coded to 1.</span></div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;<span class="stringliteral">            Hence only a single replicate was being done, with one</span></div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;<span class="stringliteral">            loci subsample tag, but overwritten i_loci_replicates</span></div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;<span class="stringliteral">            times.  The tsv file then had only one replicate of the sampling,</span></div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;<span class="stringliteral">            corresponding to the last sampling.  Since the instance of </span></div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;<span class="stringliteral">            GenepopFileSamplerLociByRangeAndTotal, in its doSample()</span></div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;<span class="stringliteral">            def, if passed i_loci_replicates by its GenepopFileSampleParamsLoci</span></div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;<span class="stringliteral">            object, will do each replicate and give it a uniq tag (as with</span></div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;<span class="stringliteral">            other schemes).</span></div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;<span class="stringliteral">            &#39;&#39;&#39;</span></div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;            s_loci_subsample_tag_base=s_indiv_subsample_tag</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;            o_sample_params=gps.GenepopFileSampleParamsLoci( \</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;                                        li_population_numbers=li_population_list,</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;                                        i_min_loci_position=i_min_loci_position,</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;                                        i_max_loci_position=i_max_loci_position,</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;                                        i_min_total_loci=i_min_total_loci,</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;                                        i_max_total_loci=i_max_total_loci,</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;                                        i_replicates=i_loci_replicates,</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;                                        s_sample_tag_base=s_loci_subsample_tag_base )</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;            o_sampler=gps.GenepopFileSamplerLociByRangeAndTotal( o_genepopfile,</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;                                                                    o_sample_params )</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;            o_sampler.doSample()</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;        <span class="keywordflow">elif</span> s_loci_sampling_scheme == SAMPLE_LOCI_SCHEME_PERCENT:</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;            s_loci_subsample_tag_base=s_indiv_subsample_tag</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;            o_sample_params=gps.GenepopFileSampleParamsLoci( \</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;                                                    li_population_numbers=li_population_list,</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;                                                    i_min_loci_position=i_min_loci_position,</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;                                                    i_max_loci_position=i_max_loci_position,</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;                                                    i_min_total_loci=i_min_total_loci,</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;                                                    i_max_total_loci=i_max_total_loci,</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;                                                    lf_proportions=v_loci_sampling_scheme_param,</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                                                    i_replicates=i_loci_replicates,</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;                                                    s_sample_tag_base=s_loci_subsample_tag_base )</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;            o_sampler=gps.GenepopFileSamplerLociByRangeAndPercentage( o_genepopfile,</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;                                                                    o_sample_params )</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;            o_sampler.doSample()</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        <span class="keywordflow">elif</span> s_loci_sampling_scheme == SAMPLE_LOCI_CONSTANT_TOTAL:</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;            s_loci_subsample_tag_base=s_indiv_subsample_tag</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;        </div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;            <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;<span class="stringliteral">            For the constant sampling totals, the sampler ignores </span></div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;<span class="stringliteral">            the passed values #for min and max loci total, and </span></div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;<span class="stringliteral">            substitutes the current total for both min and max. Thus,</span></div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;<span class="stringliteral">            for each N in the list of Ns, (and also for each replicate),  </span></div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;<span class="stringliteral">            a random N will be drawn from the loci (positions). </span></div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;<span class="stringliteral">            &#39;&#39;&#39;</span></div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;            o_sample_params=gps.GenepopFileSampleParamsLoci( \</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;                                        li_population_numbers=li_population_list,</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;                                        i_min_loci_position=i_min_loci_position,</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;                                        i_max_loci_position=i_max_loci_position,</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;                                        i_min_total_loci=i_min_total_loci,</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;                                        i_max_total_loci=i_max_total_loci,</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;                                        li_sample_totals=v_loci_sampling_scheme_param,</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;                                        i_replicates=i_loci_replicates,</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;                                        s_sample_tag_base=s_loci_subsample_tag_base )</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;            o_sampler=gps.GenepopFileSamplerLociByRangeAndSampleTotalList( o_genepopfile,</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;                                                                            o_sample_params )</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;            o_sampler.doSample()</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;            s_msg=<span class="stringliteral">&quot;In pgdriveneestimator.py, def do_sample_loci, &quot;</span> \</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;                        + <span class="stringliteral">&quot;unknown loci sampling scheme: &quot;</span> \</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;                        + s_loci_sampling_scheme + <span class="stringliteral">&quot;.&quot;</span></div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;            <span class="keywordflow">raise</span> Exception( s_msg )</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        <span class="comment">#end if sampling scheme none else unknown</span></div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    <span class="comment">#end for each individual subsample tag</span></div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    <span class="keywordflow">return</span> len( li_population_list )</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;<span class="comment">#end do_sample_loci</span></div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaf461586686c9d7f0bf90188ab241dcc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgdriveneestimator.get_count_estimator_fields </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">2017_06_22.   This def is called by do_estimate 
when the estimator produces no output, so that
an entry can be made in the tsv file (ex. with NA
values for estimator values) with correct field count.
</pre> 
<p>Definition at line <a class="el" href="pgdriveneestimator_8py_source.html#l02822">2822</a> of file <a class="el" href="pgdriveneestimator_8py_source.html">pgdriveneestimator.py</a>.</p>
<div class="fragment"><div class="line"><a name="l02822"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html#aaf461586686c9d7f0bf90188ab241dcc"> 2822</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgdriveneestimator.html#aaf461586686c9d7f0bf90188ab241dcc">get_count_estimator_fields</a>():</div><div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;<span class="stringliteral">    2017_06_22.   This def is called by do_estimate </span></div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;<span class="stringliteral">    when the estimator produces no output, so that</span></div><div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;<span class="stringliteral">    an entry can be made in the tsv file (ex. with NA</span></div><div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;<span class="stringliteral">    values for estimator values) with correct field count.</span></div><div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;    i_count=0</div><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;    <span class="keywordflow">for</span> s_field <span class="keywordflow">in</span> pgout.PGOutputNeEstimator.OUTPUT_FIELDS:</div><div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;        <span class="keywordflow">if</span> s_field <span class="keywordflow">not</span> <span class="keywordflow">in</span> NE_ESTIMATOR_OUTPUT_FIELDS_TO_SKIP:</div><div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;            i_count += 1</div><div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;        <span class="comment">#end if not a skipped field</span></div><div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;    <span class="comment">#end for each output field</span></div><div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;    <span class="keywordflow">return</span> i_count</div><div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;<span class="comment">#end get_count_estimator_fields</span></div><div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_aaf461586686c9d7f0bf90188ab241dcc"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#aaf461586686c9d7f0bf90188ab241dcc">negui.pgdriveneestimator.get_count_estimator_fields</a></div><div class="ttdeci">def get_count_estimator_fields()</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8py_source.html#l02822">pgdriveneestimator.py:2822</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad0c4544bb6ce5bc184615cfade0f8495"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgdriveneestimator.get_genepop_file_list </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_genepop_files_arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">if invoked from the console the arg is a glob expression
if invoked from the gui interface in pgguineestimator.py,
the arg is a list, such that eval will genreate a python
list of strings.

This def assumes that no user will invoke this mod from 
the command line with a glob expression, includeing a file name,
that can be evaluated as a python list (i.e. "[ \"item\", \"item\" ... ]</pre><pre class="fragment">if invoked from the console the arg is a glob expression, but
but if invoked from the gui interface in pgguineestimator.py,
the arg is a list, such that eval will genreate a python
list of strings.

This def assumes that no user will invoke this mod from 
the command line with a glob expression, includeing a file name,
that can be evaluated as a python list (i.e. "[ \"item\", \"item\" ... ]</pre> 
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l00709">709</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00709"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html#ad0c4544bb6ce5bc184615cfade0f8495">  709</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgdriveneestimator.html#ad0c4544bb6ce5bc184615cfade0f8495">get_genepop_file_list</a>( s_genepop_files_arg ):</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="stringliteral">    if invoked from the console the arg is a glob expression</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="stringliteral">    if invoked from the gui interface in pgguineestimator.py,</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="stringliteral">    the arg is a list, such that eval will genreate a python</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="stringliteral">    list of strings.</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="stringliteral">    This def assumes that no user will invoke this mod from </span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="stringliteral">    the command line with a glob expression, includeing a file name,</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="stringliteral">    that can be evaluated as a python list (i.e. &quot;[ \&quot;item\&quot;, \&quot;item\&quot; ... ]</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="stringliteral">    </span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    ls_files=<span class="keywordtype">None</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">try</span>:</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;        ls_files=eval( s_genepop_files_arg )</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <span class="keywordflow">if</span> type( ls_files ) != list:</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            <span class="comment">#still could be a glob expression, for example,</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            <span class="comment">#of a file name that python can eval as an int or float,</span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;            <span class="comment">#so we&#39;ll just glob the orig:</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            ls_files=glob.glob( s_genepop_files_arg )</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            <span class="comment">#make sure it&#39;s a list of strings</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            <span class="keywordflow">if</span> not( file_name_list_is_all_strings( ls_files ) ):</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                s_msg=<span class="stringliteral">&quot;In pgdriveneestimator.py, def get_genepop_file_list, &quot;</span> \</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                        + <span class="stringliteral">&quot;genepop file arg evaluated as a list, but, not composed &quot;</span> \</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                        + <span class="stringliteral">&quot;of strings: &quot;</span> + str( list ) + <span class="stringliteral">&quot;.&quot;</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                <span class="keywordflow">raise</span> Exception( s_msg )</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            <span class="comment">#end if not all strings in list</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">except</span> ( NameError, SyntaxError ) <span class="keyword">as</span> evalfail:</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="stringliteral">        this is caught if the eval fails due to </span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="stringliteral">        the arg being a string.  Further, a syntax</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="stringliteral">        error results if the arg begins/ends in a wildcard</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="stringliteral">        &quot;*&quot; char -- as will happen often with a glob.</span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="stringliteral">        So for these eval failures we assume the arg </span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="stringliteral">        is a glob expression</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        ls_files=glob.glob( s_genepop_files_arg )</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="keywordflow">except</span> Exception <span class="keyword">as</span> unknown_fail:</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        s_errortype=type( unknown_fail ).__name__</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        s_msg=<span class="stringliteral">&quot;In pgdriveneestimator.py, def get_genepop_file_list, &quot;</span> \</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                        + <span class="stringliteral">&quot;gene pop file arg, &quot;</span> \</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                        + str( s_genepop_files_arg ) \</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                        + <span class="stringliteral">&quot;, eval operation produced &quot;</span> \</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                        + <span class="stringliteral">&quot;error of type &quot;</span> + s_errortype \</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                        + <span class="stringliteral">&quot;, with message, &quot;</span> + str( unknown_fail ) + <span class="stringliteral">&quot;.&quot;</span> </div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <span class="keywordflow">raise</span> Exception( s_msg )</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="comment">#end try eval, except name error, except other</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordflow">return</span> ls_files</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment">#end get_genepop_file_list</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_ad0c4544bb6ce5bc184615cfade0f8495"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#ad0c4544bb6ce5bc184615cfade0f8495">negui.pgdriveneestimator.get_genepop_file_list</a></div><div class="ttdeci">def get_genepop_file_list(s_genepop_files_arg)</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8experimental_8py_source.html#l00709">pgdriveneestimator.experimental.py:709</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8972bdaeb431f941619300e9e63a0732"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgdriveneestimator.get_invalid_file_names </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ls_file_names</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Currently only check is for file name
length (see comments above declaration of const 
MAX_GENEPOP_FILE_NAME_LENGTH.
</pre> 
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l00668">668</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00668"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html#a8972bdaeb431f941619300e9e63a0732">  668</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgdriveneestimator.html#a8972bdaeb431f941619300e9e63a0732">get_invalid_file_names</a>( ls_file_names ):</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="stringliteral">    Currently only check is for file name</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="stringliteral">    length (see comments above declaration of const </span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="stringliteral">    MAX_GENEPOP_FILE_NAME_LENGTH.</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    MSG_FILE_TOO_LONG=<span class="stringliteral">&quot;File name longer than &quot;</span> \</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            + str( MAX_GENEPOP_FILE_NAME_LENGTH ) \</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            + <span class="stringliteral">&quot; characters.&quot;</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    ls_invalid_file_names_and_messages=[]</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="keywordflow">for</span> s_file_name <span class="keywordflow">in</span> ls_file_names:</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        s_file_name_no_path=os.path.basename( s_file_name )</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        i_len_file_name=len( s_file_name_no_path )</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="keywordflow">if</span> i_len_file_name &gt; MAX_GENEPOP_FILE_NAME_LENGTH:</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            ls_invalid_file_names_and_messages.append( \</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                    <span class="stringliteral">&quot;, &quot;</span>.join( [ s_file_name, MSG_FILE_TOO_LONG ] ) )</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="comment">#and if file name too long</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="comment">#end for each file name</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keywordflow">return</span> ls_invalid_file_names_and_messages</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="comment">#end get_invalid_file_names</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_a8972bdaeb431f941619300e9e63a0732"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#a8972bdaeb431f941619300e9e63a0732">negui.pgdriveneestimator.get_invalid_file_names</a></div><div class="ttdeci">def get_invalid_file_names(ls_file_names)</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8experimental_8py_source.html#l00668">pgdriveneestimator.experimental.py:668</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac6e046ac333dcd975329026d752ea2d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgdriveneestimator.get_loci_sample_val_and_rep_number_from_loci_sample_tag </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_loci_subsample_tag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The loci info in the tag follows an indiv tag prefix,
and has form "_l_t_v_r", with t giving the scheme,
v giving the scheme salient param value (ex percent val),
and r giving the replicate number.
</pre> 
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l02242">2242</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>
<div class="fragment"><div class="line"><a name="l02242"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html#ac6e046ac333dcd975329026d752ea2d9"> 2242</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgdriveneestimator.html#ac6e046ac333dcd975329026d752ea2d9">get_loci_sample_val_and_rep_number_from_loci_sample_tag</a>( s_loci_subsample_tag ):</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;<span class="stringliteral">    The loci info in the tag follows an indiv tag prefix,</span></div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;<span class="stringliteral">    and has form &quot;_l_t_v_r&quot;, with t giving the scheme,</span></div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;<span class="stringliteral">    v giving the scheme salient param value (ex percent val),</span></div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;<span class="stringliteral">    and r giving the replicate number.</span></div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    <span class="comment">#Sample param val is 2nd to last item</span></div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;    <span class="comment">#in the tag fields, while the replicate</span></div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;    <span class="comment">#number is the last:</span></div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;    IDX_LOCI_SAMPLE_VAL=-2</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;    IDX_LOCI_REP=-1</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;    s_sample_val=<span class="keywordtype">None</span></div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    s_replicate_number=<span class="keywordtype">None</span></div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;</div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;    s_tag_delim=gps.TAG_DELIMITER</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;    </div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;    ls_tag_fields=s_loci_subsample_tag.split( s_tag_delim )</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;    s_sample_val=ls_tag_fields[ IDX_LOCI_SAMPLE_VAL ]</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    s_replicate_number=ls_tag_fields[ IDX_LOCI_REP ]</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    <span class="keywordflow">return</span> s_sample_val, s_replicate_number</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;<span class="comment">#end get_loci_sample_val_and_rep_number_from_loci_sample_tag</span></div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_ac6e046ac333dcd975329026d752ea2d9"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#ac6e046ac333dcd975329026d752ea2d9">negui.pgdriveneestimator.get_loci_sample_val_and_rep_number_from_loci_sample_tag</a></div><div class="ttdeci">def get_loci_sample_val_and_rep_number_from_loci_sample_tag(s_loci_subsample_tag)</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8experimental_8py_source.html#l02242">pgdriveneestimator.experimental.py:2242</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a810fb4b95084358f69aafdc1e048451d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgdriveneestimator.get_mean_het_based_on_allele_freqs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o_genepopfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_pop_subsample_tag</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_individual_subsample_tag</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_loci_subsample_tag</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">2017_06_30.  Adds the mean heterozygosity calculated using allele frequencies of all loci,
for the pop (or pops) given by the pop subsample tag, which, as of this date, will always
be just a single pop, as this is the unit of estimation used in def do_estimate, and all loci
will be called using a subsample of the loci number ranges that the caller provided.
</pre> 
<p>Definition at line <a class="el" href="pgdriveneestimator_8py_source.html#l01201">1201</a> of file <a class="el" href="pgdriveneestimator_8py_source.html">pgdriveneestimator.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01201"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html#a810fb4b95084358f69aafdc1e048451d"> 1201</a></span>&#160;                                                s_loci_subsample_tag=<span class="keywordtype">None</span> ):</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;<span class="stringliteral">    2017_06_30.  Adds the mean heterozygosity calculated using allele frequencies of all loci,</span></div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;<span class="stringliteral">    for the pop (or pops) given by the pop subsample tag, which, as of this date, will always</span></div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;<span class="stringliteral">    be just a single pop, as this is the unit of estimation used in def do_estimate, and all loci</span></div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;<span class="stringliteral">    will be called using a subsample of the loci number ranges that the caller provided.</span></div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    df_mean_hets_by_pop={}</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    o_loci_info=gpl.GenepopFileLociInfo( o_genepopfile, </div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                                            s_population_subsample_tag=s_pop_subsample_tag,</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                                            s_individual_subsample_tag=s_individual_subsample_tag,</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                                            s_loci_subsample_tag=s_loci_subsample_tag )</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    ddf_het_per_pop_per_loci=o_loci_info.getHeterozygosity()</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="keywordflow">for</span> i_pop <span class="keywordflow">in</span> ddf_het_per_pop_per_loci:</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        lf_het_values_this_pop=list( ddf_het_per_pop_per_loci[ i_pop ].values() )</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        f_mean_het_value_this_pop=np.mean( lf_het_values_this_pop )</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        df_mean_hets_by_pop[ i_pop ]=f_mean_het_value_this_pop</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        </div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="comment">#end for this pop</span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordflow">return</span> df_mean_hets_by_pop</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;<span class="comment">#end get_mean_het_based_on_allele_freqs</span></div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a06645f9b380f736368e27585331ec22f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgdriveneestimator.get_pops_in_file_outside_valid_size_range </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o_genepopfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_min_pop_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_max_pop_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">checks size of every pop in the file
in case we need to skip some pops and 
accept others.

Returns a list of pop numbers, 1-based
indexed (as caller expects).
</pre> 
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l01015">1015</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01015"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html#a06645f9b380f736368e27585331ec22f"> 1015</a></span>&#160;                                                i_max_pop_size ):</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;<span class="stringliteral">    checks size of every pop in the file</span></div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="stringliteral">    in case we need to skip some pops and </span></div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="stringliteral">    accept others.</span></div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="stringliteral">    Returns a list of pop numbers, 1-based</span></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="stringliteral">    indexed (as caller expects).</span></div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    li_popsizes=o_genepopfile.getIndividualCounts()</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    li_pops_outside_valid_size_range = []</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="keywordflow">for</span> idx_pop <span class="keywordflow">in</span> range( len ( li_popsizes ) ):</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        i_size_of_pop=li_popsizes[ idx_pop ] </div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        <span class="keywordflow">if</span> i_size_of_pop &lt; i_min_pop_size \</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                <span class="keywordflow">or</span> i_size_of_pop &gt; i_max_pop_size:</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        </div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            li_pops_outside_valid_size_range.append( idx_pop + 1 )</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        <span class="comment">#end if subsample size too small</span></div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="comment">#end for each pop number</span></div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="keywordflow">return</span> li_pops_outside_valid_size_range</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="comment">#end get_pops_in_file_outside_valid_range</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7df54bcca5c33c80e648c440527a85ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgdriveneestimator.get_string_values_ldne_ratio_and_bias_adjustment </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o_ne_estimator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lv_results_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>f_nbne_ratio</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Revised on 2017_04_17, so that the nbne ratio passed here has 
already been vetted in run_estimator, so the we can test it
and, if it is None, we return "None" and the original LDNe
estimate.  Otherwise, we 
</pre> 
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l01043">1043</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01043"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html#a7df54bcca5c33c80e648c440527a85ce"> 1043</a></span>&#160;                                                            f_nbne_ratio ):</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;<span class="stringliteral">    Revised on 2017_04_17, so that the nbne ratio passed here has </span></div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="stringliteral">    already been vetted in run_estimator, so the we can test it</span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<span class="stringliteral">    and, if it is None, we return &quot;None&quot; and the original LDNe</span></div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="stringliteral">    estimate.  Otherwise, we </span></div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    s_bias_adjusted_value=<span class="stringliteral">&quot;None&quot;</span></div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="stringliteral">    We need the original Ne (Nb)  estimate</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="stringliteral">    in order to do the bias adjustment, or,</span></div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="stringliteral">    if we cannot do the bias adjustment, </span></div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;<span class="stringliteral">    (that is, we don&#39;t have an Nb/Ne ratio),</span></div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;<span class="stringliteral">    then to write the original to the ne_est_adj</span></div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="stringliteral">    column.  This allows the Viz plotter to</span></div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="stringliteral">    use just the one column to plot the estimate,</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="stringliteral">    whether or not a bias adjustment was performed.</span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    i_col_ne_est=\</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                o_ne_estimator.getOutputColumnNumberForFieldName( \</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                                            COL_NAME_NEESTIMATOR_NE_ESTIMATE )</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    f_unadjusted_estimate=float( lv_results_list[ i_col_ne_est ] )</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keywordflow">if</span> f_nbne_ratio <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        f_adj_estimate=<a class="code" href="namespacenegui_1_1pgdriveneestimator.html#a99dfc5e3dc217054199cd4f693e26236">do_ldne_bias_adjustment</a>( f_unadjusted_estimate,</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                                                            f_nbne_ratio )</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        s_bias_adjusted_value=str( f_adj_estimate ) </div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <span class="keywordflow">else</span>:</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="stringliteral">        2017_02_15.  Instead of writing &quot;None&quot; as the bias-adjusted estimate, </span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<span class="stringliteral">        when we have no bias adjustment, we&#39;ll enter the original estimate.  </span></div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;<span class="stringliteral">        This allows Brian T to find the Nb (Ne) values to plot in the new </span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<span class="stringliteral">        ne_est_adj column instead of the original est_ne column.  </span></div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="stringliteral">        By using original estimates when no bias adjustment was done,</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="stringliteral">        he does not have to use conditional language to find </span></div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="stringliteral">        his Ne estimate.</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        s_bias_adjusted_value=str( f_unadjusted_estimate )</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="comment">#end if we have a nb/ne ratio, do bias adjustment </span></div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keywordflow">return</span> str( f_nbne_ratio ), s_bias_adjusted_value</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;<span class="comment">#end get_string_values_ldne_ratio_and_bias_adjustment</span></div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_a99dfc5e3dc217054199cd4f693e26236"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#a99dfc5e3dc217054199cd4f693e26236">negui.pgdriveneestimator.do_ldne_bias_adjustment</a></div><div class="ttdeci">def do_ldne_bias_adjustment(f_ldne_estimate, f_nbne_ratio)</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8experimental_8py_source.html#l01095">pgdriveneestimator.experimental.py:1095</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af559a2d83516e3fb3fcebbfcdc96881b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgdriveneestimator.get_subsample_genepop_file_name </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_original_genepop_file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_loci_subsample_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_this_pop_sample_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_temporary_directory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Was originally simply a matter of replacing, in the original genepop file,
dots with underscores, but Windows revealed a case that needed attention 
(see "replace" below).
</pre> 
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l01932">1932</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01932"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html#af559a2d83516e3fb3fcebbfcdc96881b"> 1932</a></span>&#160;                                                    s_temporary_directory ):</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;<span class="stringliteral">    Was originally simply a matter of replacing, in the original genepop file,</span></div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;<span class="stringliteral">    dots with underscores, but Windows revealed a case that needed attention </span></div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;<span class="stringliteral">    (see &quot;replace&quot; below).</span></div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    s_genepop_file_subsample=s_original_genepop_file_name \</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;                                + INPUT_FILE_DOT_CHAR_REPLACEMENT \</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;                                +  s_loci_subsample_tag \</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;                                + INPUT_FILE_DOT_CHAR_REPLACEMENT \</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;                                + <span class="stringliteral">&quot;g&quot;</span> + INPUT_FILE_DOT_CHAR_REPLACEMENT \</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;                                + s_this_pop_sample_name</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    </div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;<span class="stringliteral">    Note: In the original file name, if a period is left to the left of that</span></div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;<span class="stringliteral">    used do delimit the file extension, then NeEstimator, when naming</span></div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;<span class="stringliteral">    &quot;*NoDat.txt&quot; file, will replace the left-most period and all text that</span></div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;<span class="stringliteral">    follows it,  with &quot;NoDat.txt&quot; -- this then removes any percent and replicate</span></div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;<span class="stringliteral">    number text I&#39;m using to make files unique, and so creates a non-uniq</span></div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;<span class="stringliteral">    *NoDat.txt file name, which, when one process removes it, and another goes</span></div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;<span class="stringliteral">    looking for it , throws an exception -- (an exception from the</span></div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;<span class="stringliteral">    multiprocessing.Pools async mapping -- file-not-found, but no trace since it</span></div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;<span class="stringliteral">    occurs in a different process from the main).  This peculiar mangling of a</span></div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;<span class="stringliteral">    users input file -- was preventing me in previous versions, from deleting</span></div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;<span class="stringliteral">    NoDat files, and also I think meant that only the last process in a given</span></div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;<span class="stringliteral">    group of replicates (share same genepop file and proportion sampled) to use</span></div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;<span class="stringliteral">    the NoDAt file got to write it&#39;s NoDat info.  Removing all periods from the</span></div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;<span class="stringliteral">    input file to the NeEstimator program, I belive, completely solves the</span></div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;<span class="stringliteral">    problems.</span></div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;    s_basename=os.path.basename( s_genepop_file_subsample )</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;<span class="stringliteral">    2017_03_27.  We replace the path given by the original</span></div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;<span class="stringliteral">    genepop file with a temporary directory, if available.</span></div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    s_dirs=<span class="keywordtype">None</span></div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    <span class="keywordflow">if</span> s_temporary_directory <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;        s_dirs=os.path.dirname( s_genepop_file_subsample )</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    <span class="keywordflow">else</span>:</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;        s_dirs=s_temporary_directory</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    <span class="comment">#end if we have no temp directory, else use it instead of genepop file dir</span></div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    s_subsample_file_basename=s_basename.replace( <span class="stringliteral">&quot;.&quot;</span>, INPUT_FILE_DOT_CHAR_REPLACEMENT )</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    s_genepop_file_subsample=os.path.join( s_dirs, s_subsample_file_basename )</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    </div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;    <span class="comment">#remmed out -- problems when the orig file has path that includes </span></div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    <span class="comment">#directories with dots in their names, so the wholesale replace</span></div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    <span class="comment">#then includes directories that are renamed and (no doubt) non-existent</span></div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <span class="comment">#s_genepop_file_subsample=s_genepop_file_subsample.replace( &quot;.&quot;, INPUT_FILE_DOT_CHAR_REPLACEMENT )</span></div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    </div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;<span class="stringliteral">    problem seen in Windows, in which when this mod is invoked as __main__ from a shell</span></div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;<span class="stringliteral">    then &quot;.\\&quot; is appended to (at least) one genepop file name.  This then is mangled by</span></div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;<span class="stringliteral">    the above replace, so we restore the leading dot char:</span></div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    <span class="keywordflow">if</span> s_genepop_file_subsample.startswith(  <span class="stringliteral">&quot;_&quot;</span> ):</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;        s_genepop_file_subsample=<span class="stringliteral">&quot;.&quot;</span> + s_genepop_file_subsample[1:] </div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <span class="comment">#end if path was mangled by replace</span></div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    <span class="keywordflow">return</span> s_genepop_file_subsample</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;<span class="comment">#end get_subsample_genepop_file_name</span></div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9c650be4ed8ae5fa5e599523c22273bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgdriveneestimator.make_subsample_genepop_file_name </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_original_genepop_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_temporary_directory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_genepop_file_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_indiv_sample_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_loci_subsample_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">2017_04_03.  This def replaces def get_subsample_genepop_file_name,
in order to shorten the intermediate genepop file names, to address
the path length limitations of Windows.
</pre> 
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l02005">2005</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>
<div class="fragment"><div class="line"><a name="l02005"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html#a9c650be4ed8ae5fa5e599523c22273bd"> 2005</a></span>&#160;                                                        i_loci_subsample_count ):</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;<span class="stringliteral">        2017_04_03.  This def replaces def get_subsample_genepop_file_name,</span></div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;<span class="stringliteral">        in order to shorten the intermediate genepop file names, to address</span></div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;<span class="stringliteral">        the path length limitations of Windows.</span></div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;        s_parent_dir=<span class="keywordtype">None</span></div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;        <span class="keywordflow">if</span> s_temporary_directory <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;            s_parent_dir=os.path.dirname( s_original_genepop_file )</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;            s_parent_dir=s_temporary_directory  </div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;        <span class="comment">#end if no temp dir use orig genepop dir, else use temp</span></div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;        s_file_name=<span class="stringliteral">&quot;f&quot;</span> + str( i_genepop_file_count ) \</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;                    + <span class="stringliteral">&quot;i&quot;</span> + str( i_indiv_sample_count ) \</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;                    + <span class="stringliteral">&quot;l&quot;</span> + str( i_loci_subsample_count )</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;        s_subsample_genepop_file=os.path.join( s_parent_dir, s_file_name )</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;        </div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;        <span class="keywordflow">return</span> s_subsample_genepop_file</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;<span class="comment">#end make_subsample_genepop_file_name</span></div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8344146a59d84da02da349abd68723ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgdriveneestimator.mymain </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>q_args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This code was at mod level under if __name__=="__main__",
but moved inside this def so this mod can be imported
and run inside python with a set of args identical to
those required on the command line.

This was an adaptation to enable PGGuiNeEstimator objects
to import this mod, then call this def after they load 
params (args for this driver) from their interface

2017_05_31. We have added a new final string argument
"True" or "False" to indicate whether to use GUI
messaging. Note that parse_args does not parse this
final arg, but this def evaluates it immediately
in order to propery use error messaging.
</pre><pre class="fragment">The multiprocessing event arg is not yet added to 
the list, so that we'll find the gui messaging flag
at its designated index minus one.
</pre> 
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l03016">3016</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>
<div class="fragment"><div class="line"><a name="l03016"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html#a8344146a59d84da02da349abd68723ad"> 3016</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgdriveneestimator.html#a8344146a59d84da02da349abd68723ad">mymain</a>( *q_args ):</div><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;</div><div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;<span class="stringliteral">    This code was at mod level under if __name__==&quot;__main__&quot;,</span></div><div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;<span class="stringliteral">    but moved inside this def so this mod can be imported</span></div><div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;<span class="stringliteral">    and run inside python with a set of args identical to</span></div><div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;<span class="stringliteral">    those required on the command line.</span></div><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;<span class="stringliteral">    This was an adaptation to enable PGGuiNeEstimator objects</span></div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;<span class="stringliteral">    to import this mod, then call this def after they load </span></div><div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;<span class="stringliteral">    params (args for this driver) from their interface</span></div><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;<span class="stringliteral">    </span></div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;<span class="stringliteral">    2017_05_31. We have added a new final string argument</span></div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;<span class="stringliteral">    &quot;True&quot; or &quot;False&quot; to indicate whether to use GUI</span></div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;<span class="stringliteral">    messaging. Note that parse_args does not parse this</span></div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;<span class="stringliteral">    final arg, but this def evaluates it immediately</span></div><div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;<span class="stringliteral">    in order to propery use error messaging.</span></div><div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;</div><div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;<span class="stringliteral">    The multiprocessing event arg is not yet added to </span></div><div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;<span class="stringliteral">    the list, so that we&#39;ll find the gui messaging flag</span></div><div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;<span class="stringliteral">    at its designated index minus one.</span></div><div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;    s_gui_flag=q_args[ IDX_USE_GUI_MESSAGING - 1 ]</div><div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;</div><div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;    <span class="keywordflow">if</span> s_gui_flag <span class="keywordflow">not</span> <span class="keywordflow">in</span> [ <span class="stringliteral">&quot;True&quot;</span>, <span class="stringliteral">&quot;False&quot;</span> ]:</div><div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;</div><div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;        s_msg=<span class="stringliteral">&quot;In pgdriveneestimator.py, def mymain, &quot;</span> \</div><div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;                        + <span class="stringliteral">&quot;the program did not find the &quot;</span> \</div><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;                        + <span class="stringliteral">&quot;\&quot;True\&quot; or \&quot;False\&quot; value &quot;</span> \</div><div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;                        + <span class="stringliteral">&quot;for the parameter that indicates &quot;</span> \</div><div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;                        + <span class="stringliteral">&quot;whether to activate GUI messaging.  &quot;</span> \</div><div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;                        + <span class="stringliteral">&quot;The value found is: &quot;</span> + s_gui_flag + <span class="stringliteral">&quot;.&quot;</span></div><div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;        <span class="keywordflow">raise</span> Exception( s_msg )</div><div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;    <span class="comment">#end if no flag value</span></div><div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;</div><div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;    <a class="code" href="namespacenegui_1_1pgdriveneestimator.html#a54013fc419eb559e07a5d278baa3fc6d">set_messaging_procedures</a>( s_gui_flag )</div><div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;</div><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;    <span class="keywordflow">try</span>:</div><div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;</div><div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;        <span class="keywordflow">if</span> VERY_VERBOSE:</div><div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;            print( <span class="stringliteral">&quot;In pgdriveneestimator, def mymain&quot;</span> )</div><div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;        <span class="comment">#end if VERY_VERBOSE</span></div><div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;</div><div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;<span class="stringliteral">        To allow the pygenomics genomics.ne2.controller modules</span></div><div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;<span class="stringliteral">        Ne2 estimator class object to loop over the paths in the</span></div><div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;<span class="stringliteral">        PATH environmental variable, and be ensured that each</span></div><div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;<span class="stringliteral">        exists.</span></div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;        pgut.remove_non_existent_paths_from_path_variable()</div><div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;</div><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;<span class="stringliteral">        New code to confirm the selected executable,</span></div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;<span class="stringliteral">        Now that we are using LDNe2 by default,</span></div><div class="line"><a name="l03072"></a><span class="lineno"> 3072</span>&#160;<span class="stringliteral">        with Ne2 as the alternative, as indicated by the</span></div><div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;<span class="stringliteral">        flag constant.</span></div><div class="line"><a name="l03074"></a><span class="lineno"> 3074</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;        b_found_executable=<span class="keyword">False</span></div><div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;</div><div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;        <span class="keywordflow">if</span> ESTIMATOR_TO_USE==LDNE2:</div><div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;            b_found_executable = set_mod_level_var_to_ldne2_executable_path()</div><div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;        <span class="keywordflow">elif</span> ESTIMATOR_TO_USE==NEESTIMATOR:</div><div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;            b_found_executable = did_find_ne_estimator_executable()</div><div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;            s_msg = <span class="stringliteral">&quot;In pgdriveneestimator.py, def mymain(), &quot;</span> \</div><div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;                            + <span class="stringliteral">&quot;checking for selected estimator executable. &quot;</span> \</div><div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;                            + <span class="stringliteral">&quot;The selected estimator program is unknown: &quot;</span> \</div><div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;                            + str( ESTIMATOR_TO_USE ) + <span class="stringliteral">&quot;.&quot;</span></div><div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;            <span class="keywordflow">raise</span> Exception( s_msg )</div><div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;        <span class="comment">#dnd if using ldne, else neestimator else unknown</span></div><div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;        </div><div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> b_found_executable:</div><div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;            s_msg = <span class="stringliteral">&quot;In pgdriveneestimator.py, def mymain(), &quot;</span> \</div><div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;                                + <span class="stringliteral">&quot;did not find NeEstimator executable.&quot;</span> </div><div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;            <span class="keywordflow">raise</span> Exception(s_msg )</div><div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;        <span class="comment">#end if can&#39;t find executable</span></div><div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;        </div><div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;<span class="stringliteral">        We adapted this def to open and close the main and secondary </span></div><div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;<span class="stringliteral">        output files. Originally, it simply passed open file objects to def,</span></div><div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;<span class="stringliteral">        parse args.  Now we we check for string vs file for these</span></div><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;<span class="stringliteral">        args, as the console version will still pass stdout and sterr</span></div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;<span class="stringliteral">        file objects, but the GUI will call with string filenames.  </span></div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;<span class="stringliteral">        We strip off the last 3 items, which now need to be checked </span></div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;<span class="stringliteral">        for type string file names and assume, if not string, then </span></div><div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;<span class="stringliteral">        the objects passed are assumed to be (open-for-writing) </span></div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;<span class="stringliteral">        file objects.  We also pass along the last arg, the multiprocessing</span></div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;<span class="stringliteral">        event.  </span></div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;        seq_unaltered_args=q_args[0:IDX_LAST_CONSOLE_ARG + 1 ]</div><div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;</div><div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;        v_main_outfile_arg= q_args[ IDX_MAIN_OUTFILE ]</div><div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;        v_secondary_outfile_arg=q_args[ IDX_SECONDARY_OUTFILE ]</div><div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;</div><div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;<span class="stringliteral">        New argument, added 2017_03_27, to allow def do_estimate</span></div><div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;<span class="stringliteral">        to write its intermediate files inside a single temp</span></div><div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;<span class="stringliteral">        dir, whose name is known to the caller, so caller can</span></div><div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;<span class="stringliteral">        remove it.  </span></div><div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;<span class="stringliteral">        </span></div><div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;<span class="stringliteral">        Note that we subtract one to get its postiion in the</span></div><div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;<span class="stringliteral">        passed args.  This argument is passed as the last,</span></div><div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;<span class="stringliteral">        but the caller will not have passed the multiprocessing</span></div><div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;<span class="stringliteral">        event argument, so the index for our temp directory is</span></div><div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;<span class="stringliteral">        one less than the final position as passed to </span></div><div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;<span class="stringliteral">        drive_estimator (and subsequenctly to parse_args):</span></div><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;        v_temporary_directory_arg=q_args[ IDX_TEMPORARY_DIRECTORY - 1 ]</div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;</div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;<span class="stringliteral">        Note that we check for string type, and otherwise</span></div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;<span class="stringliteral">        assume open file objects. (In Linux sys.std{out,err} return</span></div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;<span class="stringliteral">        &quot;file&quot; as type, but in Windows they return iostream or</span></div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;<span class="stringliteral">        something similar, but not file object.</span></div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;        <span class="keywordflow">if</span> type( v_main_outfile_arg  ) == str:</div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;            o_main_outfile=open( v_main_outfile_arg, <span class="stringliteral">&#39;w&#39;</span> )</div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;            o_secondary_outfile=open( v_secondary_outfile_arg, <span class="stringliteral">&#39;w&#39;</span> )</div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;            o_main_outfile=v_main_outfile_arg</div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;            o_secondary_outfile=v_secondary_outfile_arg</div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;        <span class="comment">#end if passed non-file object, open file, else pass along file object</span></div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;</div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;<span class="stringliteral">        Reconstruct our arg list after creating the outfile objects.</span></div><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;<span class="stringliteral">        2017_02_12.  Having replaced the use of the python multiprocessing.Process</span></div><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;<span class="stringliteral">        object with a Popen call when calling this def from the pgutilities.py, we</span></div><div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;<span class="stringliteral">        no longer have the multiprocessing event available.  For now, rather than</span></div><div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;<span class="stringliteral">        removing this arg, the former multiprocessing event to allow communication</span></div><div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;<span class="stringliteral">        between pgutilities.py and this code, we simply default this arg to None:</span></div><div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;        o_event=<span class="keywordtype">None</span></div><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;</div><div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;        seq_args_to_parse=seq_unaltered_args + ( o_main_outfile, </div><div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;                                                    o_secondary_outfile, </div><div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;                                                                    o_event, </div><div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;                                                    v_temporary_directory_arg )</div><div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;</div><div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;        drive_estimator( *seq_args_to_parse )</div><div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;</div><div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;        <span class="keywordflow">if</span> o_main_outfile != sys.stdout:</div><div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;            o_main_outfile.close()</div><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;        <span class="comment">#end if not stdout, close</span></div><div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;</div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;        <span class="keywordflow">if</span> o_secondary_outfile != sys.stderr:</div><div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;            o_secondary_outfile.close()</div><div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;        <span class="comment">#end if not stderr, close file</span></div><div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;</div><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;    <span class="keywordflow">except</span> Exception <span class="keyword">as</span> oex:</div><div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;</div><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;        <span class="keywordflow">if</span> ACTIVATE_GUI_MESSAGING:</div><div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;            s_trace=o_traceback=sys.exc_info()[ 2 ]</div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;            s_trace= \</div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;                pgut.get_traceback_info_about_offending_code( o_traceback )</div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;</div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;            s_errormsg=str( oex )</div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;            GUIERR( <span class="keywordtype">None</span> , s_errormsg + <span class="stringliteral">&quot;\n&quot;</span> + s_trace )</div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;        <span class="comment">#end if using gui messaging</span></div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;        </div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;        <span class="keywordflow">raise</span> ( oex )</div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;    <span class="comment">#end try ... except</span></div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;</div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;<span class="comment">#end mymain</span></div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_a8344146a59d84da02da349abd68723ad"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#a8344146a59d84da02da349abd68723ad">negui.pgdriveneestimator.mymain</a></div><div class="ttdeci">def mymain(q_args)</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8experimental_8py_source.html#l03016">pgdriveneestimator.experimental.py:3016</a></div></div>
<div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_a54013fc419eb559e07a5d278baa3fc6d"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#a54013fc419eb559e07a5d278baa3fc6d">negui.pgdriveneestimator.set_messaging_procedures</a></div><div class="ttdeci">def set_messaging_procedures(s_gui_flag)</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8experimental_8py_source.html#l02983">pgdriveneestimator.experimental.py:2983</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4010f65f71a1bce539c5e15317632be2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgdriveneestimator.mymainlongfilelist </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>q_args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">2017_02_21.  This def is added as an alternative call
for pgutilitites run_driveneestimator_in_new_process
and its call to call_driveneestimator_using_subprocess,
to solve a Windows problem.  When calling with a long
list of (many hundreds) of genepop files, we saw a limit
of Windows ability to correctly make the call via pOpen, 
due to a limit on the number of characters it can handle
in a command.  Now the above pgutilities defs will have
tested the command length.  If it exceeds a threshold,
the comma-delimited list of genepop files will be
written to a temporary file.  This def will read in
the list from that file, delete the file, and then
call mymain with the now normalized arg 1.

We assume the list is formatted as it is when mymain
is called directly, and, further, that it is in a single,
first line in the file.
</pre> 
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l02944">2944</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>
<div class="fragment"><div class="line"><a name="l02944"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html#a4010f65f71a1bce539c5e15317632be2"> 2944</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgdriveneestimator.html#a4010f65f71a1bce539c5e15317632be2">mymainlongfilelist</a>( *q_args ):</div><div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;<span class="stringliteral">    2017_02_21.  This def is added as an alternative call</span></div><div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;<span class="stringliteral">    for pgutilitites run_driveneestimator_in_new_process</span></div><div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;<span class="stringliteral">    and its call to call_driveneestimator_using_subprocess,</span></div><div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;<span class="stringliteral">    to solve a Windows problem.  When calling with a long</span></div><div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;<span class="stringliteral">    list of (many hundreds) of genepop files, we saw a limit</span></div><div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;<span class="stringliteral">    of Windows ability to correctly make the call via pOpen, </span></div><div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;<span class="stringliteral">    due to a limit on the number of characters it can handle</span></div><div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;<span class="stringliteral">    in a command.  Now the above pgutilities defs will have</span></div><div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;<span class="stringliteral">    tested the command length.  If it exceeds a threshold,</span></div><div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;<span class="stringliteral">    the comma-delimited list of genepop files will be</span></div><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;<span class="stringliteral">    written to a temporary file.  This def will read in</span></div><div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;<span class="stringliteral">    the list from that file, delete the file, and then</span></div><div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;<span class="stringliteral">    call mymain with the now normalized arg 1.</span></div><div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;<span class="stringliteral">    We assume the list is formatted as it is when mymain</span></div><div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;<span class="stringliteral">    is called directly, and, further, that it is in a single,</span></div><div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;<span class="stringliteral">    first line in the file.</span></div><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;</div><div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;    s_temp_file_with_genepop_file_list=q_args[ IDX_GENEPOP_FILES ]</div><div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;</div><div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;    o_temp_file_with_genepop_file=open( s_temp_file_with_genepop_file_list )</div><div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;</div><div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;    <span class="comment">#Thie file&#39;s single line should give the correct first argument of</span></div><div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;    <span class="comment">#a list of genepop files, so that mymain can pass it to parse_args </span></div><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;    <span class="comment">#so that it is parsed into a list of file names.</span></div><div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;    s_genepop_file_list=o_temp_file_with_genepop_file.readline().strip()</div><div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;    q_corrected_args=( s_genepop_file_list, ) + q_args[ 1 : ]</div><div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;</div><div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;    o_temp_file_with_genepop_file.close()</div><div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;</div><div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;    <a class="code" href="namespacenegui_1_1pgdriveneestimator.html#a8344146a59d84da02da349abd68723ad">mymain</a>( *q_corrected_args )</div><div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;</div><div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;</div><div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;<span class="comment">#end mymainlongfilelist</span></div><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_a4010f65f71a1bce539c5e15317632be2"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#a4010f65f71a1bce539c5e15317632be2">negui.pgdriveneestimator.mymainlongfilelist</a></div><div class="ttdeci">def mymainlongfilelist(q_args)</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8experimental_8py_source.html#l02944">pgdriveneestimator.experimental.py:2944</a></div></div>
<div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_a8344146a59d84da02da349abd68723ad"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#a8344146a59d84da02da349abd68723ad">negui.pgdriveneestimator.mymain</a></div><div class="ttdeci">def mymain(q_args)</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8experimental_8py_source.html#l03016">pgdriveneestimator.experimental.py:3016</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8918df5a619173d4baa530e79dfe2385"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgdriveneestimator.parse_sampling_list_that_uses_indiv_id_fields </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ls_sampling_list_items</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">We require that we have at least 3 items
to set up  sampling using individual id field
criteria:
--list of field names (space delimited)
    ex: "age parent1 parent2"
--list of field types (python types, space delimited)
    ex: "int str str"
--at least one parameter (not validated here
    -&gt; example in criteria expression  "age &gt; 3"
    -&gt;example, in cohort we expect several params like max. age     
2016_11_10
    -&gt;example, in cohorts by percentages, we'll have the max age
      followed by a hyphented list of percentage numerics.  This
      will not be parsed here, but will be passsed as part of the
      list returned as  ls_params</pre> 
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l01401">1401</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01401"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html#a8918df5a619173d4baa530e79dfe2385"> 1401</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgdriveneestimator.html#a8918df5a619173d4baa530e79dfe2385">parse_sampling_list_that_uses_indiv_id_fields</a>( ls_sampling_list_items ):</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;<span class="stringliteral">    We require that we have at least 3 items</span></div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;<span class="stringliteral">    to set up  sampling using individual id field</span></div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;<span class="stringliteral">    criteria:</span></div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;<span class="stringliteral">    --list of field names (space delimited)</span></div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;<span class="stringliteral">        ex: &quot;age parent1 parent2&quot;</span></div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;<span class="stringliteral">    --list of field types (python types, space delimited)</span></div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;<span class="stringliteral">        ex: &quot;int str str&quot;</span></div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="stringliteral">    --at least one parameter (not validated here</span></div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<span class="stringliteral">        -&gt; example in criteria expression  &quot;age &gt; 3&quot;</span></div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;<span class="stringliteral">        -&gt;example, in cohort we expect several params like max. age     </span></div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;<span class="stringliteral">    2016_11_10</span></div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;<span class="stringliteral">        -&gt;example, in cohorts by percentages, we&#39;ll have the max age</span></div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;<span class="stringliteral">          followed by a hyphented list of percentage numerics.  This</span></div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;<span class="stringliteral">          will not be parsed here, but will be passsed as part of the</span></div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;<span class="stringliteral">          list returned as  ls_params</span></div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    MIN_NUM_SAMPLING_ITEMS=3</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    IDX_FIELD_NAMES=0</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    IDX_FIELD_TYPES=1</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    IDX_FIRST_PARAM=2</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    FIELD_DELIMITER=<span class="stringliteral">&quot;;&quot;</span></div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    i_tot_sampling_items=len( ls_sampling_list_items )</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <span class="keywordflow">if</span> i_tot_sampling_items &lt; MIN_NUM_SAMPLING_ITEMS:</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        s_msg = <span class="stringliteral">&quot;In pgdriveneestimator.py, def parse_sampling_list_that_uses_indiv_id_fields, &quot;</span> \</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                    + <span class="stringliteral">&quot;for the sampling criteria list, expecting at 3 items &quot;</span> \</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                    + <span class="stringliteral">&quot;(field names, field types, and one or more &quot;</span> \</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                    + <span class="stringliteral">&quot;parameters.  Found list: &quot;</span> \</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                    + str( ls_sampling_list_items ) + <span class="stringliteral">&quot;.&quot;</span></div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        <span class="keywordflow">raise</span> Exception( s_msg )</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <span class="comment">#end if too few criteria items</span></div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    ls_field_names=ls_sampling_list_items[ IDX_FIELD_NAMES ].split( FIELD_DELIMITER )</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    ls_types=ls_sampling_list_items[ IDX_FIELD_TYPES ].split( FIELD_DELIMITER )</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <span class="keywordflow">try</span>:</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        lo_field_types=[ eval( s_type ) <span class="keywordflow">for</span> s_type <span class="keywordflow">in</span> ls_types ]</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    </div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <span class="keywordflow">except</span> Exception <span class="keyword">as</span> oex:</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        s_msg=<span class="stringliteral">&quot;In pgdriveneestimator.py, def parse_sampling_list_that_uses_indiv_id_fields, &quot;</span> \</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;                    + <span class="stringliteral">&quot;Exception trying to evaluate the field type list. &quot;</span>\</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;                    + <span class="stringliteral">&quot;Type list: &quot;</span> + str( ls_types ) + <span class="stringliteral">&quot;.  Exception raised: &quot;</span> \</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                    + str( oex ) + <span class="stringliteral">&quot;.&quot;</span></div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <span class="keywordflow">raise</span> Exception ( s_msg )</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <span class="comment">#end try ... except</span></div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    ls_params=[]</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <span class="keywordflow">for</span> idx <span class="keywordflow">in</span> range( IDX_FIRST_PARAM, i_tot_sampling_items ):</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        ls_params.append( ls_sampling_list_items[ idx ] )</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="comment">#end for each item with idx&gt;1</span></div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <span class="keywordflow">return</span> ls_field_names, lo_field_types, ls_params</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;<span class="comment">#end parse_sampling_list_that_uses_indiv_id_fields</span></div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_a8918df5a619173d4baa530e79dfe2385"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#a8918df5a619173d4baa530e79dfe2385">negui.pgdriveneestimator.parse_sampling_list_that_uses_indiv_id_fields</a></div><div class="ttdeci">def parse_sampling_list_that_uses_indiv_id_fields(ls_sampling_list_items)</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8experimental_8py_source.html#l01401">pgdriveneestimator.experimental.py:1401</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4551e387ca20ed229183818ac8ce733c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgdriveneestimator.raise_exception_if_non_single_pop_file </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o_genepopfile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Not currently in use ( 2016_08_10 ) -- was used when
genepop files with &gt;1 population were not accepted.
</pre> 
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l00991">991</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00991"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html#a4551e387ca20ed229183818ac8ce733c">  991</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgdriveneestimator.html#a4551e387ca20ed229183818ac8ce733c">raise_exception_if_non_single_pop_file</a>( o_genepopfile ):</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="stringliteral">    Not currently in use ( 2016_08_10 ) -- was used when</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="stringliteral">    genepop files with &gt;1 population were not accepted.</span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    i_total_pops=o_genepopfile.pop_total</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">if</span> ( i_total_pops != 1 ):</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        s_msg=<span class="stringliteral">&quot;In pgdriveneestimator.py:&quot;</span> + OUTPUT_ENDLINE</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <span class="keywordflow">if</span> i_total_pops &lt; 1:</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;            s_msg+=<span class="stringliteral">&quot;No \&quot;pop\&quot; entry found in file, &quot;</span> \</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                    + o_genepopfile.original_file_name</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            s_msg+=<span class="stringliteral">&quot;Current implementation of drive accepts genepop &quot;</span> \</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                + <span class="stringliteral">&quot;files with only a single pop.&quot;</span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;        <span class="comment">#end if lt 1 else more</span></div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;        <span class="keywordflow">raise</span> Exception( s_msg )</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="comment">#end if non-single pop file</span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="comment">#end raise_exception_non_single_pop_file</span></div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_a4551e387ca20ed229183818ac8ce733c"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#a4551e387ca20ed229183818ac8ce733c">negui.pgdriveneestimator.raise_exception_if_non_single_pop_file</a></div><div class="ttdeci">def raise_exception_if_non_single_pop_file(o_genepopfile)</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8experimental_8py_source.html#l00991">pgdriveneestimator.experimental.py:991</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a54013fc419eb559e07a5d278baa3fc6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgdriveneestimator.set_messaging_procedures </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_gui_flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">2017_05_31. This def was added in order to
control the GUI messaging, and limit it to
the processes that call def mymain from
the GUI-based program.  Console based calls
will have the flag set to "False."
</pre> 
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l02983">2983</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>
<div class="fragment"><div class="line"><a name="l02983"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html#a54013fc419eb559e07a5d278baa3fc6d"> 2983</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgdriveneestimator.html#a54013fc419eb559e07a5d278baa3fc6d">set_messaging_procedures</a>( s_gui_flag ):</div><div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;<span class="stringliteral">    2017_05_31. This def was added in order to</span></div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;<span class="stringliteral">    control the GUI messaging, and limit it to</span></div><div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;<span class="stringliteral">    the processes that call def mymain from</span></div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;<span class="stringliteral">    the GUI-based program.  Console based calls</span></div><div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;<span class="stringliteral">    will have the flag set to &quot;False.&quot;</span></div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;</div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;    <span class="keyword">global</span> ACTIVATE_GUI_MESSAGING</div><div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;</div><div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;    <span class="keywordflow">if</span> s_gui_flag == <span class="stringliteral">&quot;True&quot;</span>:</div><div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;</div><div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;        <span class="keyword">global</span> GUIERR</div><div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;        <span class="keyword">global</span> GUIINFO</div><div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;</div><div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;        ACTIVATE_GUI_MESSAGING=<span class="keyword">True</span></div><div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;        <span class="keyword">from</span> pgguiutilities <span class="keyword">import</span> PGGUIErrorMessage</div><div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;        <span class="keyword">from</span> pgguiutilities <span class="keyword">import</span> PGGUIInfoMessage</div><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;        GUIERR=PGGUIErrorMessage</div><div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;        GUIINFO=PGGUIInfoMessage</div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;    <span class="keywordflow">elif</span> s_gui_flag == <span class="stringliteral">&quot;False&quot;</span>:</div><div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;        ACTIVATE_GUI_MESSAGING=<span class="keyword">False</span></div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;    <span class="keywordflow">else</span>:</div><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;        s_msg=<span class="stringliteral">&quot;In pgdriveneestimator, def set_messaging_procedures, &quot;</span> \</div><div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;                    + <span class="stringliteral">&quot;the program found an unknown value for the &quot;</span> \</div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;                    + <span class="stringliteral">&quot;flag that indicates whether to use GUI &quot;</span> \</div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;                    + <span class="stringliteral">&quot;messaging: &quot;</span> + s_gui_flag + <span class="stringliteral">&quot;.&quot;</span></div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;        <span class="keywordflow">raise</span> Exception( s_msg )</div><div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;    <span class="comment">#end if we are using gui messaging</span></div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;<span class="comment">#end set_messaging_procedures</span></div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgdriveneestimator_html_a54013fc419eb559e07a5d278baa3fc6d"><div class="ttname"><a href="namespacenegui_1_1pgdriveneestimator.html#a54013fc419eb559e07a5d278baa3fc6d">negui.pgdriveneestimator.set_messaging_procedures</a></div><div class="ttdeci">def set_messaging_procedures(s_gui_flag)</div><div class="ttdef"><b>Definition:</b> <a href="pgdriveneestimator_8experimental_8py_source.html#l02983">pgdriveneestimator.experimental.py:2983</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a45abba7d5f3257469b6cbfd7392eba09"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list negui.pgdriveneestimator.HIDDEN_ARGS</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html">    1</a></span>&#160;= [ <span class="stringliteral">&quot;file_object_main&quot;</span>, <span class="stringliteral">&quot;file_object_secondary&quot;</span>, </div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;                    <span class="stringliteral">&quot;multiprocessing_event&quot;</span>, <span class="stringliteral">&quot;temporary_directory&quot;</span>  ]</div></div><!-- fragment -->
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l00303">303</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>

</div>
</div>
<a class="anchor" id="ad14f2792e801804d0cd77aa3f72631e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list negui.pgdriveneestimator.LS_ARGS_HELP_OPTIONAL</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html">    1</a></span>&#160;= [  <span class="stringliteral">&quot;total processes to use (single integer) Default is 1 process.&quot;</span>,</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;                <span class="stringliteral">&quot;\&quot;no_debug\&quot;, \&quot;debug1\&quot;, \&quot;debug2\&quot;, \&quot;debug3\&quot;, \&quot;testserial\&quot;, \&quot;testmulti\&quot;&quot;</span> \</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;                + <span class="stringliteral">&quot;.  Indicates a run mode. The default is \&quot;no_debug\&quot;, which runs multiplexed &quot;</span> \</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;                + <span class="stringliteral">&quot;with standard output.  &quot;</span> \</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;                + <span class="stringliteral">&quot;Other modes except \&quot;testmulti\&quot;, run non-parallelized, with increasing output.  &quot;</span> \</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;                + <span class="stringliteral">&quot;Debug 3, for example, adds to the output a table listing, for each indiv. &quot;</span> \</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;                + <span class="stringliteral">&quot;in each file, which replicate Ne estimates include the individual.  It also preserves &quot;</span> \</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;                + <span class="stringliteral">&quot;the intermediate genepop and NeEstimator output files&quot;</span>,</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;                <span class="stringliteral">&quot;An Nb/Ne ratio, if supplied, will be used in a bias adjustment to the LDNE &quot;</span> \</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;                + <span class="stringliteral">&quot;estimates (after Waples, 2014).  Ignored if --donbbiasadjust is \&quot;False.\&quot;  &quot;</span> \</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;                    + <span class="stringliteral">&quot;If you use 0.0 here, the program will look in the genepop file &quot;</span> \</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;                    + <span class="stringliteral">&quot;header for an entry giving the Nb/Ne ratio as \&quot;nbne=&lt;value&gt;\&quot;.&quot;</span>, </div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;                <span class="stringliteral">&quot;True|False, whether to do the Nb bias adjustment. &quot;</span> \</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;                + <span class="stringliteral">&quot;If False, the Nb/Ne ratio parameter is ignored.&quot;</span> ]</div></div><!-- fragment -->
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l00229">229</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>

</div>
</div>
<a class="anchor" id="a8b1f5775794f7d387dedf1887a26c4ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list negui.pgdriveneestimator.LS_FLAGS_LONG_REQUIRED</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html">    1</a></span>&#160;= [ <span class="stringliteral">&quot;--gpfiles&quot;</span>, <span class="stringliteral">&quot;--scheme&quot;</span>, <span class="stringliteral">&quot;--params&quot;</span>, <span class="stringliteral">&quot;--minpopsize&quot;</span>, <span class="stringliteral">&quot;--maxpopsize&quot;</span>, <span class="stringliteral">&quot;--poprange&quot;</span>, </div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;                        <span class="stringliteral">&quot;--minallelefreq&quot;</span>, <span class="stringliteral">&quot;--replicates&quot;</span>, <span class="stringliteral">&quot;--locischeme&quot;</span>, <span class="stringliteral">&quot;--locischemeparams&quot;</span>,  </div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;                        <span class="stringliteral">&quot;--mintotalloci&quot;</span>, <span class="stringliteral">&quot;--maxtotalloci&quot;</span>, <span class="stringliteral">&quot;--locirange&quot;</span>, <span class="stringliteral">&quot;--locireplicates&quot;</span> ]</div></div><!-- fragment -->
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l00168">168</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>

</div>
</div>
<a class="anchor" id="a7d21ac3784419638647683e99b085cc0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list negui.pgdriveneestimator.MAIN_TABLE_RUN_INFO_COLS</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html">    1</a></span>&#160;= [ <span class="stringliteral">&quot;original_file&quot;</span>, <span class="stringliteral">&quot;pop&quot;</span>, <span class="stringliteral">&quot;census&quot;</span>,   <span class="stringliteral">&quot;indiv_count&quot;</span>, </div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;                            <span class="stringliteral">&quot;sample_value&quot;</span>, <span class="stringliteral">&quot;replicate_number&quot;</span>, <span class="stringliteral">&quot;loci_sample_value&quot;</span>, </div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;                            <span class="stringliteral">&quot;loci_replicate_number&quot;</span>,<span class="stringliteral">&quot;min_allele_freq&quot;</span> ]</div></div><!-- fragment -->
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l00433">433</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>

</div>
</div>
<a class="anchor" id="adb33149c6f4e36493056d012e2029270"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list negui.pgdriveneestimator.SAMPLE_SCHEMES_NON_CRITERIA</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgdriveneestimator.html">    1</a></span>&#160;= [ SAMPLE_BY_PERCENTAGES, </div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;                                    SAMPLE_BY_REMOVAL ]</div></div><!-- fragment -->
<p>Definition at line <a class="el" href="pgdriveneestimator_8experimental_8py_source.html#l00374">374</a> of file <a class="el" href="pgdriveneestimator_8experimental_8py_source.html">pgdriveneestimator.experimental.py</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
