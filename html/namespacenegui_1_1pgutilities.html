<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Popgen GUI: negui.pgutilities Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Popgen GUI
   </div>
   <div id="projectbrief">GUI Front end with refactoring of population genetics programming provided by Tiago Antao&#39;s AgeStructureNe code, with some outside dependancies (chiefly simuPop and NeEstimator)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>negui</b></li><li class="navelem"><a class="el" href="namespacenegui_1_1pgutilities.html">pgutilities</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">negui.pgutilities Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a20a66168135d35b6713e38b2503f6289"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#a20a66168135d35b6713e38b2503f6289">do_usage_check</a> (ls_this_argv, ls_required_arg_descriptions, ls_optional_arg_descriptions=[], b_multi_line_msg=False, b_unlimited_final_args=False, s_note=None)</td></tr>
<tr class="separator:a20a66168135d35b6713e38b2503f6289"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6c0521426420d127727244adf340234"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad6c0521426420d127727244adf340234"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_temp_file_name</b> (s_parent_dir=None)</td></tr>
<tr class="separator:ad6c0521426420d127727244adf340234"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f2bfe94577cbe04bca1afdf3c27eb64"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4f2bfe94577cbe04bca1afdf3c27eb64"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_temporary_directory</b> (s_parent_dir=None, s_prefix='tmp')</td></tr>
<tr class="separator:a4f2bfe94577cbe04bca1afdf3c27eb64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a181f06e4657dd5c32806cca223f0eb4e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#a181f06e4657dd5c32806cca223f0eb4e">do_shutil_copy</a> (s_source, s_destination)</td></tr>
<tr class="separator:a181f06e4657dd5c32806cca223f0eb4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a954873cfc5c675dc2e94e17931965ced"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#a954873cfc5c675dc2e94e17931965ced">do_shutil_move</a> (s_source, s_destination)</td></tr>
<tr class="separator:a954873cfc5c675dc2e94e17931965ced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75466ab2a233a7cb270ca769a37e5c66"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#a75466ab2a233a7cb270ca769a37e5c66">do_shutil_rmtree</a> (s_path)</td></tr>
<tr class="separator:a75466ab2a233a7cb270ca769a37e5c66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a926d8ee0bffed0d961dcfc3d169e05a4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a926d8ee0bffed0d961dcfc3d169e05a4"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_date_time_string_dotted</b> ()</td></tr>
<tr class="separator:a926d8ee0bffed0d961dcfc3d169e05a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a347fe70cfaae23658adb58cd312e93"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8a347fe70cfaae23658adb58cd312e93"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>is_file_and_executable</b> (s_path)</td></tr>
<tr class="separator:a8a347fe70cfaae23658adb58cd312e93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fe3f14ed21663af6196c0c53349c536"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8fe3f14ed21663af6196c0c53349c536"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>confirm_executable_is_in_path</b> (s_exectuable_file_name)</td></tr>
<tr class="separator:a8fe3f14ed21663af6196c0c53349c536"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2096f66a8484e74902fb97c787c79345"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2096f66a8484e74902fb97c787c79345"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>manage_process_queue</b> (o_queue_with_target_calls, o_queue_to_hold_results=None)</td></tr>
<tr class="separator:a2096f66a8484e74902fb97c787c79345"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec3b74a55914681d88a8b938b3220ff0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#aec3b74a55914681d88a8b938b3220ff0">prep_and_call_do_pgopsimupop_replicate</a> (s_config_file, s_life_table_files, s_param_file, s_output_base_name, s_replicate_number, s_use_gui_messaging=&quot;True&quot;, s_output_mode=str(pgsim.PGOpSimuPop.OUTPUT_GENEPOP_ONLY))</td></tr>
<tr class="memdesc:aec3b74a55914681d88a8b938b3220ff0"><td class="mdescLeft">&#160;</td><td class="mdescRight">end do_sim_replicate_on_separate_os_process  <a href="#aec3b74a55914681d88a8b938b3220ff0">More...</a><br /></td></tr>
<tr class="separator:aec3b74a55914681d88a8b938b3220ff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa80fcb5144db7e03186d7496ab1de393"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#aa80fcb5144db7e03186d7496ab1de393">do_pgopsimupop_replicate_from_files</a> (s_configuration_file, ls_life_table_files, s_param_name_file, s_outfile_basename, i_replicate_number, b_use_gui_messaging=True, i_output_mode=pgsim.PGOpSimuPop.OUTPUT_GENEPOP_ONLY)</td></tr>
<tr class="separator:aa80fcb5144db7e03186d7496ab1de393"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa37c7d125e4eaec2eeea639f53fa140d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#aa37c7d125e4eaec2eeea639f53fa140d">remove_simulation_replicate_output_files</a> (s_basename)</td></tr>
<tr class="separator:aa37c7d125e4eaec2eeea639f53fa140d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ab2e254a7954f6a3ad216cbbb18436c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6ab2e254a7954f6a3ad216cbbb18436c"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_class_names_immediate_parent</b> (o_object)</td></tr>
<tr class="separator:a6ab2e254a7954f6a3ad216cbbb18436c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada6bbd0893b0b9ecea89245329058e30"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ada6bbd0893b0b9ecea89245329058e30"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_current_working_directory</b> ()</td></tr>
<tr class="separator:ada6bbd0893b0b9ecea89245329058e30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46ba7adf1f3b80ee22ab635fa22ec8fa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a46ba7adf1f3b80ee22ab635fa22ec8fa"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_listdir</b> (s_parent_dir)</td></tr>
<tr class="separator:a46ba7adf1f3b80ee22ab635fa22ec8fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1be11f0c22a8f0b3cd2574ba02c2e04a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1be11f0c22a8f0b3cd2574ba02c2e04a"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>does_exist_and_is_file</b> (s_file)</td></tr>
<tr class="separator:a1be11f0c22a8f0b3cd2574ba02c2e04a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa598e123d913111c3f191c0a725b57fd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa598e123d913111c3f191c0a725b57fd"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_list_subdirectories</b> (s_parent_dir)</td></tr>
<tr class="separator:aa598e123d913111c3f191c0a725b57fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad045331ad9e74cc1d8fdc2a8c2b050af"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad045331ad9e74cc1d8fdc2a8c2b050af"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_list_file_objects</b> (s_parent_dir)</td></tr>
<tr class="separator:ad045331ad9e74cc1d8fdc2a8c2b050af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5d355d2c26bf4992ce682449dfb93fc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa5d355d2c26bf4992ce682449dfb93fc"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_list_files_and_dirs_from_glob</b> (s_glob)</td></tr>
<tr class="separator:aa5d355d2c26bf4992ce682449dfb93fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbecfce3431917f0ed764bc056b04fdc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abbecfce3431917f0ed764bc056b04fdc"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_basename_from_path</b> (s_path)</td></tr>
<tr class="separator:abbecfce3431917f0ed764bc056b04fdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae147f21f478f594d3e696d9198fa999b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae147f21f478f594d3e696d9198fa999b"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_dirname_from_path</b> (s_path)</td></tr>
<tr class="separator:ae147f21f478f594d3e696d9198fa999b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab276fa71e3e15636a51644dcb4f395ba"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab276fa71e3e15636a51644dcb4f395ba"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>remove_files</b> (ls_files)</td></tr>
<tr class="separator:ab276fa71e3e15636a51644dcb4f395ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a875eb2ebf5dfc37b07e37f7c0b288afb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a875eb2ebf5dfc37b07e37f7c0b288afb"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>remove_directory_and_all_contents</b> (s_directory)</td></tr>
<tr class="separator:a875eb2ebf5dfc37b07e37f7c0b288afb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58912c5a49fed034b7899bae2763ea42"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a58912c5a49fed034b7899bae2763ea42"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_separator_character_for_current_os</b> ()</td></tr>
<tr class="separator:a58912c5a49fed034b7899bae2763ea42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2086b2e2c5a53778e69925e7c9cb4ce5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2086b2e2c5a53778e69925e7c9cb4ce5"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_platform</b> ()</td></tr>
<tr class="separator:a2086b2e2c5a53778e69925e7c9cb4ce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc489aeb6d08669a944cea475609c3ab"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afc489aeb6d08669a944cea475609c3ab"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>is_windows_platform</b> ()</td></tr>
<tr class="separator:afc489aeb6d08669a944cea475609c3ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84406a87eec039d98e307a1e716b033d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a84406a87eec039d98e307a1e716b033d"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>fix_windows_path</b> (s_path)</td></tr>
<tr class="separator:a84406a87eec039d98e307a1e716b033d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f7afce1e7d58813a0f61aa406a87206"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#a4f7afce1e7d58813a0f61aa406a87206">do_simulation_reps_in_subprocesses</a> (o_multiprocessing_event, i_input_reps, i_total_processes_for_sims, s_temp_config_file_for_running_replicates, ls_life_table_files, s_param_names_file, s_output_basename, b_use_gui_messaging=True, i_output_mode=pgsim.PGOpSimuPop.OUTPUT_GENEPOP_ONLY)</td></tr>
<tr class="separator:a4f7afce1e7d58813a0f61aa406a87206"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a651d0e76f36897c5ca20e6d40d1a46a7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a651d0e76f36897c5ca20e6d40d1a46a7"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_cpu_count</b> ()</td></tr>
<tr class="separator:a651d0e76f36897c5ca20e6d40d1a46a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa839d4997d2bd2c15016c33cc7fce3b0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#aa839d4997d2bd2c15016c33cc7fce3b0">dialog_returns_nothing</a> (v_return_value)</td></tr>
<tr class="separator:aa839d4997d2bd2c15016c33cc7fce3b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed0f15b22462914445ffe1ec2a77cbc8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#aed0f15b22462914445ffe1ec2a77cbc8">convert_genepop_files_string_to_list_format</a> (s_genepop_files)</td></tr>
<tr class="separator:aed0f15b22462914445ffe1ec2a77cbc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7487f2b883dbb694f1d34379bca0d7c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#af7487f2b883dbb694f1d34379bca0d7c">run_driveneestimator_in_new_process</a> (o_multiprocessing_event, s_genepop_files, qs_sample_scheme_args, f_min_allele_freq, i_replicates, qs_loci_sampling_scheme_args, i_loci_replicates, i_num_processes, s_runmode, s_nbne_ratio, s_do_nb_bias_adjustment, s_outfile_basename, s_temporary_directory_for_estimator, s_file_delimiter=&quot;)</td></tr>
<tr class="separator:af7487f2b883dbb694f1d34379bca0d7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0416d36a2f9a99c1658b47c5d35ac6c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#af0416d36a2f9a99c1658b47c5d35ac6c">replace_genepop_file_list_arg_with_file_name_if_list_too_long</a> (seq_arg_set, s_main_output_filename)</td></tr>
<tr class="separator:af0416d36a2f9a99c1658b47c5d35ac6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a606a7615fe2e94332376016ce8abe372"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#a606a7615fe2e94332376016ce8abe372">get_add_path_statment_for_popen</a> ()</td></tr>
<tr class="separator:a606a7615fe2e94332376016ce8abe372"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad33c328d8fe2b8fe9489c512c18d1765"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#ad33c328d8fe2b8fe9489c512c18d1765">call_driveneestimator_using_subprocess</a> (seq_arg_set, s_main_def_to_call=&quot;mymain&quot;)</td></tr>
<tr class="separator:ad33c328d8fe2b8fe9489c512c18d1765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa62ddf0928a977844669e59f5b4e3329"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#aa62ddf0928a977844669e59f5b4e3329">manage_driveneestimator_subprocess</a> (o_subprocess, o_multiprocessing_event)</td></tr>
<tr class="separator:aa62ddf0928a977844669e59f5b4e3329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd3d11b0299c87d3e2e92383de028857"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#afd3d11b0299c87d3e2e92383de028857">get_subsample_value_filtered_ne_estimates_table_file</a> (s_estimates_table_file, s_pop_subsample_value, s_loci_subsample_value)</td></tr>
<tr class="separator:afd3d11b0299c87d3e2e92383de028857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2573590bc123ce4113500de393291824"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2573590bc123ce4113500de393291824"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>call_plotting_program_in_new_subprocess</b> (s_type, s_estimates_table_file, s_plotting_config_file, s_pop_subsample_value, s_loci_subsample_value, o_multiprocessing_event)</td></tr>
<tr class="separator:a2573590bc123ce4113500de393291824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27835f7b8bcbb2b3969f5bd2dfd08072"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#a27835f7b8bcbb2b3969f5bd2dfd08072">manage_plotting_program_subprocess</a> (o_subprocess, o_multiprocessing_event)</td></tr>
<tr class="separator:a27835f7b8bcbb2b3969f5bd2dfd08072"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e7a7774f29fea829d3b29563c8dd643"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e7a7774f29fea829d3b29563c8dd643"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>run_plotting_program</b> (s_type, s_estimates_table_file, s_plotting_config_file)</td></tr>
<tr class="separator:a1e7a7774f29fea829d3b29563c8dd643"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f2675bc8eb3aae305ba8cc0c7df8d33"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3f2675bc8eb3aae305ba8cc0c7df8d33"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>show_error_in_messagebox_in_new_process</b> (o_exception, s_msg_prefix=None)</td></tr>
<tr class="separator:a3f2675bc8eb3aae305ba8cc0c7df8d33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0f5d52072818d4abaa5f92f5250ef26"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af0f5d52072818d4abaa5f92f5250ef26"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>show_warning_in_messagebox_in_new_process</b> (s_warning_msg)</td></tr>
<tr class="separator:af0f5d52072818d4abaa5f92f5250ef26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af67695b6ecd6a9c2958780ec78c4ee30"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#af67695b6ecd6a9c2958780ec78c4ee30">remove_non_existent_paths_from_path_variable</a> ()</td></tr>
<tr class="separator:af67695b6ecd6a9c2958780ec78c4ee30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac95b31d10fd9e225c4295f04274bf28"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#aac95b31d10fd9e225c4295f04274bf28">get_subsample_values_lists_from_tsv_file</a> (s_tsv_file)</td></tr>
<tr class="separator:aac95b31d10fd9e225c4295f04274bf28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a741453431df5aa517c9e2237ad2e6f27"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#a741453431df5aa517c9e2237ad2e6f27">return_when_def_is_true</a> (def_with_boolean_return, dv_args=None, f_sleeptime_in_seconds=0.05)</td></tr>
<tr class="separator:a741453431df5aa517c9e2237ad2e6f27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7697cf9c85b30c07d7c6fc56df49501"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#af7697cf9c85b30c07d7c6fc56df49501">get_traceback_info_about_offending_code</a> (o_traceback_object)</td></tr>
<tr class="separator:af7697cf9c85b30c07d7c6fc56df49501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1971ec40e5be1289e22cf28e5da882f9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenegui_1_1pgutilities.html#a1971ec40e5be1289e22cf28e5da882f9">call_with_or_without_args</a> (def_to_call, dv_args)</td></tr>
<tr class="separator:a1971ec40e5be1289e22cf28e5da882f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c5b5b06df6303decd4f0b7b4ffbf411"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5c5b5b06df6303decd4f0b7b4ffbf411"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_current_python_executable</b> ()</td></tr>
<tr class="separator:a5c5b5b06df6303decd4f0b7b4ffbf411"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f7d34c11922d8318b536c56920f736d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4f7d34c11922d8318b536c56920f736d"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_memory_virtual_available</b> ()</td></tr>
<tr class="separator:a4f7d34c11922d8318b536c56920f736d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a39788d2fbbc900829fde21abea8caa81"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a39788d2fbbc900829fde21abea8caa81"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>PYEXE_FOR_POPEN</b> = sys.executable</td></tr>
<tr class="separator:a39788d2fbbc900829fde21abea8caa81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a274572b1b2788c24df3e269bc2a3f1f7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a274572b1b2788c24df3e269bc2a3f1f7"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>VERBOSE</b> = False</td></tr>
<tr class="separator:a274572b1b2788c24df3e269bc2a3f1f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed436e1fc2eb29963ea30b17e614fd04"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aed436e1fc2eb29963ea30b17e614fd04"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>PROCESS_QUEUE_STOP_SIGN</b> = 'STOP'</td></tr>
<tr class="separator:aed436e1fc2eb29963ea30b17e614fd04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeca2401751f6dc9cd4acbe9765271e20"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeca2401751f6dc9cd4acbe9765271e20"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>SIMULATION_OUTPUT_FILE_REPLICATE_TAG</b> = &quot;.r&quot;</td></tr>
<tr class="separator:aeca2401751f6dc9cd4acbe9765271e20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2dc8f53cd27db093fc7f1227367d833"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad2dc8f53cd27db093fc7f1227367d833"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>DELIMITER_LIFE_TABLE_FILES</b> = &quot;,&quot;</td></tr>
<tr class="separator:ad2dc8f53cd27db093fc7f1227367d833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa78d8e8004985b127644b8c985a2b551"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa78d8e8004985b127644b8c985a2b551"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>NE_ESTIMATION_MAIN_TABLE_FILE_EXT</b> = &quot;ldne.tsv&quot;</td></tr>
<tr class="separator:aa78d8e8004985b127644b8c985a2b551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfda5d480a10cf273a287871a5aba972"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adfda5d480a10cf273a287871a5aba972"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>NE_ESTIMATION_SECONDARY_OUTPUT_FILE_EXT</b> = &quot;ldne.msgs&quot;</td></tr>
<tr class="separator:adfda5d480a10cf273a287871a5aba972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeccb8b0b17c7d891838cba42245af21f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeccb8b0b17c7d891838cba42245af21f"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>SYS_LINUX</b> = &quot;linux&quot;</td></tr>
<tr class="separator:aeccb8b0b17c7d891838cba42245af21f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b63e58ac56fd9c130d038961d9d3f99"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1b63e58ac56fd9c130d038961d9d3f99"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>SYS_WINDOWS</b> = &quot;windows&quot;</td></tr>
<tr class="separator:a1b63e58ac56fd9c130d038961d9d3f99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7013b038174112cd25916bc2b4e9736d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7013b038174112cd25916bc2b4e9736d"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>SYS_MAC</b> = &quot;mac&quot;</td></tr>
<tr class="separator:a7013b038174112cd25916bc2b4e9736d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4190f0e10fcd1e2e65a9100ab1f272e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa4190f0e10fcd1e2e65a9100ab1f272e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>WINDOWS_PATH_LENGTH_LIMIT</b> = 254</td></tr>
<tr class="separator:aa4190f0e10fcd1e2e65a9100ab1f272e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a203fe75d04eb61f090b8a13a28633481"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a203fe75d04eb61f090b8a13a28633481"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>WINDOWS_PREFIX_LONG_PATH</b> = &quot;\\\\?\\&quot;</td></tr>
<tr class="separator:a203fe75d04eb61f090b8a13a28633481"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25b185def2c6bb2698b1927b4a20a904"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a25b185def2c6bb2698b1927b4a20a904"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>s_exec_name</b> = sys.argv[ 1 ]</td></tr>
<tr class="separator:a25b185def2c6bb2698b1927b4a20a904"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Description
Support defs for the pop gen interface programs.
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ad33c328d8fe2b8fe9489c512c18d1765"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.call_driveneestimator_using_subprocess </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>seq_arg_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_main_def_to_call</em> = <code>&quot;mymain&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">2017_02_20.  We add param s_main_def_to_call to resolve
a bug in windows, whereby if the genepop file list is too long,
windows can't correctly invoke the command.  In such cases
we write the file list to a temp file, and call mymainlongfilelist instead
of mymain.  We retain the former in case a more graceful handling of
the long command string becomes possible.
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l01307">1307</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01307"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#ad33c328d8fe2b8fe9489c512c18d1765"> 1307</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgutilities.html#ad33c328d8fe2b8fe9489c512c18d1765">call_driveneestimator_using_subprocess</a>( seq_arg_set, s_main_def_to_call=&quot;mymain&quot; ):</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="stringliteral">    2017_02_20.  We add param s_main_def_to_call to resolve</span></div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<span class="stringliteral">    a bug in windows, whereby if the genepop file list is too long,</span></div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;<span class="stringliteral">    windows can&#39;t correctly invoke the command.  In such cases</span></div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;<span class="stringliteral">    we write the file list to a temp file, and call mymainlongfilelist instead</span></div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;<span class="stringliteral">    of mymain.  We retain the former in case a more graceful handling of</span></div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;<span class="stringliteral">    the long command string becomes possible.</span></div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    QUOTE=<span class="stringliteral">&quot;\&quot;&quot;</span></div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    s_path_statement=<a class="code" href="namespacenegui_1_1pgutilities.html#a606a7615fe2e94332376016ce8abe372">get_add_path_statment_for_popen</a>()</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    s_import_statement=<span class="stringliteral">&quot;import pgdriveneestimator as pgd;&quot;</span></div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    s_arg_list=( QUOTE +<span class="stringliteral">&quot;,&quot;</span> + QUOTE ).join( seq_arg_set )</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    s_arg_list=QUOTE + s_arg_list + QUOTE</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    </div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    s_call_statement=<span class="stringliteral">&quot;pgd.&quot;</span> + s_main_def_to_call \</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;                                + <span class="stringliteral">&quot;(&quot;</span> + s_arg_list + <span class="stringliteral">&quot;);&quot;</span> </div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    s_command=s_path_statement + s_import_statement + s_call_statement</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<span class="stringliteral">    We use psutil version of Popen.  Having struggled with NeEstimation hangs and orphan using</span></div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;<span class="stringliteral">    multiprocessing.Process objects, the psutil version seems better able to perform for this </span></div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;<span class="stringliteral">    chore.  This from the docs for psutil module:</span></div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;<span class="stringliteral">            &quot;A more convenient interface to stdlib subprocess.Popen. It starts a sub process </span></div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;<span class="stringliteral">            and you deal with it exactly as when using subprocess.Popen but in addition it also </span></div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;<span class="stringliteral">            provides all the methods of psutil.Process class. For method names common to both </span></div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;<span class="stringliteral">            classes such as send_signal(), terminate() and kill() psutil.Process implementation </span></div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;<span class="stringliteral">            takes precedence. For a complete documentation refer to subprocess module documentation.</span></div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;<span class="stringliteral">            Unlike subprocess.Popen this class preemptively checks whether PID has been reused on </span></div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;<span class="stringliteral">            send_signal(), terminate() and kill() so that you can&#39;t accidentally terminate another</span></div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;<span class="stringliteral">            process, fixing http://bugs.python.org/issue6973.&quot;</span></div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    o_subprocess=psutil.Popen( [ PYEXE_FOR_POPEN, <span class="stringliteral">&quot;-c&quot;</span>, s_command ] )</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="keywordflow">return</span> o_subprocess</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;<span class="comment">#end call_driveneestimator_using_subprocess</span></div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_a606a7615fe2e94332376016ce8abe372"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#a606a7615fe2e94332376016ce8abe372">negui.pgutilities.get_add_path_statment_for_popen</a></div><div class="ttdeci">def get_add_path_statment_for_popen()</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l01272">pgutilities.py:1272</a></div></div>
<div class="ttc" id="namespacenegui_1_1pgutilities_html_ad33c328d8fe2b8fe9489c512c18d1765"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#ad33c328d8fe2b8fe9489c512c18d1765">negui.pgutilities.call_driveneestimator_using_subprocess</a></div><div class="ttdeci">def call_driveneestimator_using_subprocess(seq_arg_set, s_main_def_to_call=&quot;mymain&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l01307">pgutilities.py:1307</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1971ec40e5be1289e22cf28e5da882f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.call_with_or_without_args </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>def_to_call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dv_args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Helper for def return_when_def_is_true.
This def checks dv_args and if its value is None,
it calls param def_to_call without any arguments,
otherside calls with dv_args as param list,
key=paramater name, value=paramater value.
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l01872">1872</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01872"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#a1971ec40e5be1289e22cf28e5da882f9"> 1872</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgutilities.html#a1971ec40e5be1289e22cf28e5da882f9">call_with_or_without_args</a>( def_to_call, dv_args ):</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;<span class="stringliteral">    Helper for def return_when_def_is_true.</span></div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;<span class="stringliteral">    This def checks dv_args and if its value is None,</span></div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;<span class="stringliteral">    it calls param def_to_call without any arguments,</span></div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;<span class="stringliteral">    otherside calls with dv_args as param list,</span></div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;<span class="stringliteral">    key=paramater name, value=paramater value.</span></div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;    <span class="keywordflow">if</span> dv_args <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        <span class="keywordflow">return</span> ( def_to_call() )</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;    <span class="keywordflow">else</span>:</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;        <span class="keywordflow">return</span> ( def_to_call( **dv_args ) )</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <span class="comment">#end if no args, else args present</span></div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;<span class="comment">#end call_with_or_without_args</span></div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_a1971ec40e5be1289e22cf28e5da882f9"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#a1971ec40e5be1289e22cf28e5da882f9">negui.pgutilities.call_with_or_without_args</a></div><div class="ttdeci">def call_with_or_without_args(def_to_call, dv_args)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l01872">pgutilities.py:1872</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aed0f15b22462914445ffe1ec2a77cbc8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.convert_genepop_files_string_to_list_format </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_genepop_files</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">pgguineestimator object stores genepop files as a single string.
Each genepop file is delimited by a comma.  This def will
format the string to s_formatted_list, so that pgdriveneestimator.py can 
execute eval( s_formatted_list) and retrieve a python list of file names.
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l00975">975</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00975"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#aed0f15b22462914445ffe1ec2a77cbc8">  975</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgutilities.html#aed0f15b22462914445ffe1ec2a77cbc8">convert_genepop_files_string_to_list_format</a>( s_genepop_files ): </div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="stringliteral">        pgguineestimator object stores genepop files as a single string.</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="stringliteral">        Each genepop file is delimited by a comma.  This def will</span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="stringliteral">        format the string to s_formatted_list, so that pgdriveneestimator.py can </span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="stringliteral">        execute eval( s_formatted_list) and retrieve a python list of file names.</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        ls_files=s_genepop_files.split( <span class="stringliteral">&quot;,&quot;</span> )</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        ls_quoted_file_names=[ <span class="stringliteral">&quot;&#39;&quot;</span> + s_file + <span class="stringliteral">&quot;&#39;&quot;</span> <span class="keywordflow">for</span> s_file <span class="keywordflow">in</span> ls_files ]</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        s_quoted_files=<span class="stringliteral">&quot;,&quot;</span>.join( ls_quoted_file_names )</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        s_genepop_files_formatted_as_python_list= <span class="stringliteral">&quot;[&quot;</span> + s_quoted_files + <span class="stringliteral">&quot;]&quot;</span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        <span class="keywordflow">return</span> s_genepop_files_formatted_as_python_list</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<span class="comment">#end convert_genepop_files_string_to_list_format</span></div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_aed0f15b22462914445ffe1ec2a77cbc8"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#aed0f15b22462914445ffe1ec2a77cbc8">negui.pgutilities.convert_genepop_files_string_to_list_format</a></div><div class="ttdeci">def convert_genepop_files_string_to_list_format(s_genepop_files)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l00975">pgutilities.py:975</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa839d4997d2bd2c15016c33cc7fce3b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.dialog_returns_nothing </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>v_return_value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">To evaluate return values from askopenfilenames,
askdirectory, askopenfilename, dialog windows.
Note that unlike askopenfile (singular),
an empty tuple is returned by askdirectory when
the diag is cancelled on the first instance it
is invoked, and an empty string thereafter.  
askopenfilenames returns an empty tuple on all cancels.
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l00943">943</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00943"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#aa839d4997d2bd2c15016c33cc7fce3b0">  943</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgutilities.html#aa839d4997d2bd2c15016c33cc7fce3b0">dialog_returns_nothing</a>( v_return_value ):</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="stringliteral">    To evaluate return values from askopenfilenames,</span></div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="stringliteral">    askdirectory, askopenfilename, dialog windows.</span></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="stringliteral">    Note that unlike askopenfile (singular),</span></div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="stringliteral">    an empty tuple is returned by askdirectory when</span></div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="stringliteral">    the diag is cancelled on the first instance it</span></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="stringliteral">    is invoked, and an empty string thereafter.  </span></div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="stringliteral">    askopenfilenames returns an empty tuple on all cancels.</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span> </div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    b_is_nothing=<span class="keyword">False</span></div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    o_return_type=type( v_return_value )</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordflow">if</span> o_return_type == tuple:</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        b_is_nothing = ( len( v_return_value ) == 0 )</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keywordflow">elif</span> o_return_type == str:</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        b_is_nothing = ( v_return_value == <span class="stringliteral">&quot;&quot;</span> )</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keywordflow">elif</span> o_return_type == unicode:</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        b_is_nothing = ( v_return_value == <span class="stringliteral">&quot;&quot;</span> )</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keywordflow">else</span>:</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        s_msg = <span class="stringliteral">&quot;In pgutilities, def dialog_returns_nothing(), &quot;</span> \</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                + <span class="stringliteral">&quot;Unknown return value type: &quot;</span> \</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                + str( o_return_type ) + <span class="stringliteral">&quot;.&quot;</span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <span class="keywordflow">raise</span> Exception( s_msg )</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="comment">#end if return is a tuple, else string, else error</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordflow">return</span> b_is_nothing </div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="comment">#end dialog_returns_nothing</span></div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_aa839d4997d2bd2c15016c33cc7fce3b0"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#aa839d4997d2bd2c15016c33cc7fce3b0">negui.pgutilities.dialog_returns_nothing</a></div><div class="ttdeci">def dialog_returns_nothing(v_return_value)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l00943">pgutilities.py:943</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa80fcb5144db7e03186d7496ab1de393"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.do_pgopsimupop_replicate_from_files </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_configuration_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ls_life_table_files</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_param_name_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_outfile_basename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_replicate_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>b_use_gui_messaging</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_output_mode</em> = <code>pgsim.PGOpSimuPop.OUTPUT_GENEPOP_ONLY</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">necessitated by fact that python2 (and 3?) was not able to pickle 
a class-instance def to be used to run replicates of the pgopsimupop
doOp().  Python also failed to pickle SWIG-based code used in Simupop.
Thus the better design, in which  multiprocessing Pools would stay  encapsulated 
inside a class object seem problematic, though may be implement-able using 
reg_copy -- but I'm not confident in state of regcopy of imported simuPop code,
and so  I think is the safer solution, though it
does create a depandancy of the pgguisimupop object on this outside def.  

Note that this def runs a simupop operation using all the param values as
given in the config file arg, except for the "reps" attribute, with is reset to 1,
whatever the value in the configuration file.

Tue Jul 26 22:01:07 MDT 2016
updated to be called by a driver that creates a new OS process, then calls this def to do the replicate.  No longer
uses the dv_input_parm_values_by_attribute, but instead relies on reading a complete and up-to-date (i.e. all values
as changed or edited on the gui interface) configuration files (that includes the "life table" params).

2017_05_30. Added def param b_use_gui_messaging with default value True, to accomodate new
module pgdrivesimulation.py which needs to call with False, to avoid gui messaging in
a server setting.
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l00424">424</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#aa80fcb5144db7e03186d7496ab1de393">  424</a></span>&#160;                                                i_output_mode=pgsim.PGOpSimuPop.OUTPUT_GENEPOP_ONLY ):</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="stringliteral">    necessitated by fact that python2 (and 3?) was not able to pickle </span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="stringliteral">    a class-instance def to be used to run replicates of the pgopsimupop</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="stringliteral">    doOp().  Python also failed to pickle SWIG-based code used in Simupop.</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="stringliteral">    Thus the better design, in which  multiprocessing Pools would stay  encapsulated </span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="stringliteral">    inside a class object seem problematic, though may be implement-able using </span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="stringliteral">    reg_copy -- but I&#39;m not confident in state of regcopy of imported simuPop code,</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="stringliteral">    and so  I think is the safer solution, though it</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="stringliteral">    does create a depandancy of the pgguisimupop object on this outside def.  </span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="stringliteral">    Note that this def runs a simupop operation using all the param values as</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="stringliteral">    given in the config file arg, except for the &quot;reps&quot; attribute, with is reset to 1,</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="stringliteral">    whatever the value in the configuration file.</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="stringliteral">    Tue Jul 26 22:01:07 MDT 2016</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="stringliteral">    updated to be called by a driver that creates a new OS process, then calls this def to do the replicate.  No longer</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="stringliteral">    uses the dv_input_parm_values_by_attribute, but instead relies on reading a complete and up-to-date (i.e. all values</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="stringliteral">    as changed or edited on the gui interface) configuration files (that includes the &quot;life table&quot; params).</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="stringliteral">    2017_05_30. Added def param b_use_gui_messaging with default value True, to accomodate new</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="stringliteral">    module pgdrivesimulation.py which needs to call with False, to avoid gui messaging in</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="stringliteral">    a server setting.</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    s_tag_out=<span class="stringliteral">&quot;&quot;</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    NUMBER_FIRST_REPLICATE=1</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="stringliteral">    As of 2016_08_23 the *sim, *gen, *db files</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="stringliteral">    are not used, and clutter up the output directories,</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="stringliteral">    per other users comments</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="comment">#whether or not to remove the *sim *gen *db</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="comment">#files (original output from Tiago&#39;s code ), </span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="comment">#which leaves only a *conf and *genepop</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="comment">#files as output</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    REMOVE_NON_GENEPOP_SIM_OUTPUT_FILES=<span class="keyword">True</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">if</span> i_replicate_number <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        s_tag_out=SIMULATION_OUTPUT_FILE_REPLICATE_TAG + str( i_replicate_number )</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="comment">#end if rep number is not none</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="stringliteral">    2017_05_30.  To allow no life table, as implemented  in the new module</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="stringliteral">    pgdrivesimulation.py, we set the resources object to None, then test for </span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="stringliteral">    a life table name not equal to &quot;none.&quot;  If found, then we </span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="stringliteral">    create a resource object.  Otherwise, pass it as None to the input object.</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    o_resources=<span class="keywordtype">None</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">if</span> ls_life_table_files != [ <span class="stringliteral">&quot;none&quot;</span> ]:</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        o_resources=pgrec.PGSimuPopResources( ls_life_table_files )</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="comment">#end if we have life tables</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    o_paramset=pgpar.PGParamSet( s_param_name_file )</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    o_input=pgin.PGInputSimuPop( s_configuration_file, o_resources, o_paramset ) </div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    </div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    o_input.makeInputConfig()</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    </div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    b_write_conf_file=<span class="keyword">False</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    b_write_nb_and_age_tables=<span class="keyword">False</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="comment">#we only write the configuraton file if the replicate number is 1:</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">if</span> i_replicate_number == NUMBER_FIRST_REPLICATE:</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        b_write_conf_file=<span class="keyword">True</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="stringliteral">        2017_04_07.  These are files that, as the sim proceeds,</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="stringliteral">        write two tables, one giving the pwop Nb values, the </span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="stringliteral">        other giving a per-age cound of individuals for each pop.</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="stringliteral">        These were intitially temporoary included files for testing,</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="stringliteral">        but are useful enought to warrant inclusion in the output,</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="stringliteral">        at least for the first replicate.</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        b_write_nb_and_age_tables=<span class="keyword">True</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="comment">#end if first replicate number</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="comment">#reset reps to 1</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="comment">#as we are executing only one</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="comment">#replicate.  We assume this def</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="comment">#is being called as one of a number</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="comment">#of parallel process calls for</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="comment">#a set of replicates, the total </span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="comment">#known to the caller:</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    o_input.reps=1</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    o_output=pgout.PGOutputSimuPop( s_outfile_basename )</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="stringliteral">    2017_03_26. Note the added param in the init of</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="stringliteral">    the PGOpSimuPop object.  Module pgopsimupop now has a mod-level def</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="stringliteral">    to import and the pgguiutilities.PGGUI* classes and </span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="stringliteral">    set a flag so that exeptions and other info during the</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="stringliteral">    simulation will raise a message window.  Note that </span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="stringliteral">    when I tried to make the import of the PGGUI* message</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="stringliteral">    classed the default for pgopsimupop.py, then an import</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="stringliteral">    error was raised when I tried to start the main program</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="stringliteral">    (negui.py).  There must be some recursive import problem.</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="stringliteral">    Note that the import works file in this context, when</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="stringliteral">    the pgopsimupop.py module is imported in this separate</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="stringliteral">    python instance.</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="stringliteral">    2017_06_11. Note we have added a new parameter, b_is_replicate_1,</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="stringliteral">    to tell the pgopsimupop instance that it is the first replicate.</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="stringliteral">    This limits the number of warning gui&#39;s it will produce to one,</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="stringliteral">    about presence of lamba value in conf being unused (see __init__</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="stringliteral">    in pgopsimupop.py).</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    o_new_pgopsimupop_instance=pgsim.PGOpSimuPop( o_input,</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            o_output, </div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            b_remove_db_gen_sim_files=REMOVE_NON_GENEPOP_SIM_OUTPUT_FILES,</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;            b_write_input_as_config_file=b_write_conf_file,</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            b_do_gui_messaging=b_use_gui_messaging,</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            b_write_nb_and_ages_files=b_write_nb_and_age_tables,</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            b_is_replicate_1 = ( i_replicate_number == 1 ),</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            i_output_mode=i_output_mode )</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    o_new_pgopsimupop_instance.prepareOp( s_tag_out  )</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    o_new_pgopsimupop_instance.doOp()</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment">#end do_pgopsimupop_replicate_from_files</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a181f06e4657dd5c32806cca223f0eb4e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.do_shutil_copy </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_destination</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This wrapper around the shutil.copy guards
against the Windows win32 api limit of 255
characters in a path string (see http://
stackoverflow.com/questions/14075465/
copy-a-file-with-a-too-long-path-to-another-
directory-in-python).  

Despite the use 255 i nthe above info, and 260
as the length limit given elsewhere on the web,
My trial found that I needed to set my max path
at 259, as measured by the python len() function.

I also found that the long path prefix, 
"\\\\?\\" -- though it worked fine (i.e. had no
deleterious effect) on short paths (as long as
they were absolute), it did nothing to prevent
the copy failure problem on long paths (tests all
done on windows 10).
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l00180">180</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#a181f06e4657dd5c32806cca223f0eb4e">  180</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgutilities.html#a181f06e4657dd5c32806cca223f0eb4e">do_shutil_copy</a>( s_source, s_destination ):</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="stringliteral">    This wrapper around the shutil.copy guards</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="stringliteral">    against the Windows win32 api limit of 255</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="stringliteral">    characters in a path string (see http://</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="stringliteral">    stackoverflow.com/questions/14075465/</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="stringliteral">    copy-a-file-with-a-too-long-path-to-another-</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="stringliteral">    directory-in-python).  </span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="stringliteral">    </span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="stringliteral">    Despite the use 255 i nthe above info, and 260</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="stringliteral">    as the length limit given elsewhere on the web,</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="stringliteral">    My trial found that I needed to set my max path</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="stringliteral">    at 259, as measured by the python len() function.</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="stringliteral">    I also found that the long path prefix, </span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="stringliteral">    &quot;\\\\?\\&quot; -- though it worked fine (i.e. had no</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="stringliteral">    deleterious effect) on short paths (as long as</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="stringliteral">    they were absolute), it did nothing to prevent</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="stringliteral">    the copy failure problem on long paths (tests all</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="stringliteral">    done on windows 10).</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">if</span> is_windows_platform():</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordflow">if</span> len( s_source ) &gt; WINDOWS_PATH_LENGTH_LIMIT \</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                <span class="keywordflow">or</span> len( s_destination ) &gt; WINDOWS_PATH_LENGTH_LIMIT:</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            s_msg=<span class="stringliteral">&quot;In module pgutilities.py, def do_shutil_copy, &quot;</span> \</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                        + <span class="stringliteral">&quot;The program is unable to copy from, &quot;</span> \</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                        + s_source + <span class="stringliteral">&quot; to &quot;</span> + s_destination + <span class="stringliteral">&quot;.\n&quot;</span> \</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                        + <span class="stringliteral">&quot;The path of the source and/or destination &quot;</span> \</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                        + <span class="stringliteral">&quot;exceed(s) the &quot;</span> \</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                        + str( WINDOWS_PATH_LENGTH_LIMIT )  \</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                        + <span class="stringliteral">&quot; character  limit that causes &quot;</span> \</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                        + <span class="stringliteral">&quot;a copy failure in Windows.&quot;</span>  </div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <span class="keywordflow">raise</span> Exception( s_msg )</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="comment">#end if path length exceeded</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        </div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">#end if windows platform</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    shutil.copy( s_source, s_destination )</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">#end do_shutil_copy</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_a181f06e4657dd5c32806cca223f0eb4e"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#a181f06e4657dd5c32806cca223f0eb4e">negui.pgutilities.do_shutil_copy</a></div><div class="ttdeci">def do_shutil_copy(s_source, s_destination)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l00180">pgutilities.py:180</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a954873cfc5c675dc2e94e17931965ced"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.do_shutil_move </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_destination</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This wrapper around the shutil.move guards
against the Windows win32 api limit of 255
characters in a path string (see http://
stackoverflow.com/questions/14075465/
copy-a-file-with-a-too-long-path-to-another-
directory-in-python).  

See do_shutil_copy above for more details.
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l00228">228</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#a954873cfc5c675dc2e94e17931965ced">  228</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgutilities.html#a954873cfc5c675dc2e94e17931965ced">do_shutil_move</a>( s_source, s_destination ):</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="stringliteral">    This wrapper around the shutil.move guards</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="stringliteral">    against the Windows win32 api limit of 255</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="stringliteral">    characters in a path string (see http://</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="stringliteral">    stackoverflow.com/questions/14075465/</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="stringliteral">    copy-a-file-with-a-too-long-path-to-another-</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="stringliteral">    directory-in-python).  </span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="stringliteral">    See do_shutil_copy above for more details.</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">if</span> is_windows_platform():</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">if</span> len( s_source ) &gt; WINDOWS_PATH_LENGTH_LIMIT \</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                <span class="keywordflow">or</span> len( s_destination ) &gt; WINDOWS_PATH_LENGTH_LIMIT:</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            s_msg=<span class="stringliteral">&quot;In module pgutilities.py, def do_shutil_copy, &quot;</span> \</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                        + <span class="stringliteral">&quot;The program is unable to move the frile from, &quot;</span> \</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                        + s_source + <span class="stringliteral">&quot; to &quot;</span> + s_destination + <span class="stringliteral">&quot;.\n&quot;</span> \</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                        + <span class="stringliteral">&quot;The path of the source and/or destination &quot;</span> \</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                        + <span class="stringliteral">&quot;exceed(s) the &quot;</span> \</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                        + str( WINDOWS_PATH_LENGTH_LIMIT )  \</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                        + <span class="stringliteral">&quot; character  limit that causes &quot;</span> \</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                        + <span class="stringliteral">&quot;a copy failure in Windows.&quot;</span>  </div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            <span class="keywordflow">raise</span> Exception( s_msg )</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="comment">#end if path length exceeded</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        </div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="comment">#end if windows platform</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    shutil.move( s_source, s_destination )</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">#end do_shutil_copy</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_a954873cfc5c675dc2e94e17931965ced"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#a954873cfc5c675dc2e94e17931965ced">negui.pgutilities.do_shutil_move</a></div><div class="ttdeci">def do_shutil_move(s_source, s_destination)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l00228">pgutilities.py:228</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a75466ab2a233a7cb270ca769a37e5c66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.do_shutil_rmtree </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This wrapper around the shutil.rmtree guards
against the Windows win32 api limit of 255
characters in a path string (see http://
stackoverflow.com/questions/14075465/
copy-a-file-with-a-too-long-path-to-another-
directory-in-python).  Not sure it applies
to the rmtree, but we assume it does.
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l00265">265</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#a75466ab2a233a7cb270ca769a37e5c66">  265</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgutilities.html#a75466ab2a233a7cb270ca769a37e5c66">do_shutil_rmtree</a>( s_path ):</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="stringliteral">    This wrapper around the shutil.rmtree guards</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="stringliteral">    against the Windows win32 api limit of 255</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="stringliteral">    characters in a path string (see http://</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="stringliteral">    stackoverflow.com/questions/14075465/</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="stringliteral">    copy-a-file-with-a-too-long-path-to-another-</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="stringliteral">    directory-in-python).  Not sure it applies</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="stringliteral">    to the rmtree, but we assume it does.</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">if</span> is_windows_platform():</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keywordflow">if</span> len( s_path ) &gt; WINDOWS_PATH_LENGTH_LIMIT:</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            s_msg=<span class="stringliteral">&quot;In module pgutilities.py, def do_shutil_copy, &quot;</span> \</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                    + <span class="stringliteral">&quot;The program is unable to remove the directory tree from, &quot;</span> \</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                    + s_source + <span class="stringliteral">&quot; to &quot;</span> + s_destination + <span class="stringliteral">&quot;.\n&quot;</span> \</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                    + <span class="stringliteral">&quot;The path of the source and/or destination &quot;</span> \</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                    + <span class="stringliteral">&quot;exceed(s) the &quot;</span> \</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                    + str( WINDOWS_PATH_LENGTH_LIMIT )  \</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                    + <span class="stringliteral">&quot; character limit that causes &quot;</span> \</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                    + <span class="stringliteral">&quot;a failure in Windows.&quot;</span>  </div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <span class="keywordflow">raise</span> Exception( s_msg )</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="comment">#end if path too long</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="comment">#end if windows platform</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    shutil.rmtree( s_path )</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">#end do_shutil_copy</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_a75466ab2a233a7cb270ca769a37e5c66"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#a75466ab2a233a7cb270ca769a37e5c66">negui.pgutilities.do_shutil_rmtree</a></div><div class="ttdeci">def do_shutil_rmtree(s_path)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l00265">pgutilities.py:265</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4f7afce1e7d58813a0f61aa406a87206"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.do_simulation_reps_in_subprocesses </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o_multiprocessing_event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_input_reps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_total_processes_for_sims</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_temp_config_file_for_running_replicates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ls_life_table_files</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_param_names_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_output_basename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>b_use_gui_messaging</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_output_mode</em> = <code>pgsim.PGOpSimuPop.OUTPUT_GENEPOP_ONLY</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Failed to get independant initialization of population per-replicate
when i used python's multiprocessing.process objects as hosts for 
running replicates in parallel.  Solution as of now, 
Sat Jul 30 22:38:42 MDT 2016, is to use OS processes via python's 
subprocess module, creating them in this def, which gets its
requisite info needed for the sim from the pgguisimupop instance
that calls this def (this def is called by the GUI interface instance
in a new python.multiprocessing.process instance, in order not to block the gui).

Note that this def was originally inside the pgguisimupop instance that calls it,
but on windows there was a pickling error not seen on linux or Mac.  Moving this
target def for the python.multiprocessing.process outside the pgguisimupop instance
seems to have solved the problem on windows (win 10).

This def manages the replices via creating subprocesses, and 
calling pgutilities.prep_and_call_do_pgopsimupop_replicate.

2017_05_30.  We added the def param b_use_gui_messaging=True, to allow
this def to be called from a command line implentation (new module 
pgdrivesimulation.py), and set the flag to false, without having to
revise the call from the GUI pgguisimupop.py.</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l00729">729</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00729"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#a4f7afce1e7d58813a0f61aa406a87206">  729</a></span>&#160;                                        i_output_mode=pgsim.PGOpSimuPop.OUTPUT_GENEPOP_ONLY ):</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="stringliteral">    Failed to get independant initialization of population per-replicate</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="stringliteral">    when i used python&#39;s multiprocessing.process objects as hosts for </span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="stringliteral">    running replicates in parallel.  Solution as of now, </span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="stringliteral">    Sat Jul 30 22:38:42 MDT 2016, is to use OS processes via python&#39;s </span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="stringliteral">    subprocess module, creating them in this def, which gets its</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="stringliteral">    requisite info needed for the sim from the pgguisimupop instance</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="stringliteral">    that calls this def (this def is called by the GUI interface instance</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="stringliteral">    in a new python.multiprocessing.process instance, in order not to block the gui).</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="stringliteral">    Note that this def was originally inside the pgguisimupop instance that calls it,</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="stringliteral">    but on windows there was a pickling error not seen on linux or Mac.  Moving this</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="stringliteral">    target def for the python.multiprocessing.process outside the pgguisimupop instance</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="stringliteral">    seems to have solved the problem on windows (win 10).</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="stringliteral">    This def manages the replices via creating subprocesses, and </span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="stringliteral">    calling pgutilities.prep_and_call_do_pgopsimupop_replicate.</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="stringliteral">    2017_05_30.  We added the def param b_use_gui_messaging=True, to allow</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="stringliteral">    this def to be called from a command line implentation (new module </span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="stringliteral">    pgdrivesimulation.py), and set the flag to false, without having to</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="stringliteral">    revise the call from the GUI pgguisimupop.py.</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span> </div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="stringliteral">&#39;&#39;&#39; </span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="stringliteral">    Running this inside a try block allows us to notify GUI</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="stringliteral">    users of exceptions propogated from anywere inside the </span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="stringliteral">    simulation setup and execution code. When we catch exceptions </span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="stringliteral">    below, we send an error message to a gui message box, then</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="stringliteral">    re-raise the exception. </span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="stringliteral">     </span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="stringliteral">    2017_08_07.  I&#39;ve added the params i_output_mode and s_pop_het_filter_string,</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="stringliteral">    to allow callers to this def to set these new parameters in the PGOpSimuPop</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="stringliteral">    object.</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordflow">try</span>:</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        s_life_tables_stringified=<span class="stringliteral">&quot;,&quot;</span>.join( ls_life_table_files )</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <span class="comment">#if we&#39;re on windows, out strings of file</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <span class="comment">#paths may be a mangled mix of unix and </span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <span class="comment">#windows separators -- with errors resulting</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        <span class="comment">#downstream.  So we standardize:</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="keywordflow">if</span> is_windows_platform():</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            s_life_tables_stringified= \</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                fix_windows_path( s_life_tables_stringified )</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            s_param_names_file= \</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                fix_windows_path( s_param_names_file )              </div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            s_output_basename= \</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                fix_windows_path( s_output_basename )   </div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <span class="comment">#end if windows, fix file path strings</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        i_total_replicates_requested=i_input_reps</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        i_max_processes_to_use=i_total_processes_for_sims</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        <span class="comment">#we use a python command for a -c arg in the Popen command (see below)</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <span class="comment">#and these will be the same args for each replicate (we add the rep-number</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        <span class="comment">#arg below).  We stringify so that they can be Popen command args.  Some</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <span class="comment">#are de-stringified by the pgutilities def before sending to pgop-creator</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        seq_first_four_args_to_sim_call=( s_temp_config_file_for_running_replicates,</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                                        s_life_tables_stringified,</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                                        s_param_names_file,</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                                        s_output_basename )</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        </div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        i_total_replicates_started=0</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        o_subprocess_group=IndependantSubprocessGroup()</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <span class="keywordflow">while</span> i_total_replicates_started &lt; i_total_replicates_requested:</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            <span class="comment">#see if we need to cancel:  </span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            <span class="keywordflow">if</span> o_multiprocessing_event.is_set():</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                <span class="keywordflow">if</span> VERBOSE:</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                    <span class="keywordflow">print</span> ( <span class="stringliteral">&quot;received event in setup loop&quot;</span> )</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                <span class="comment">#end if VERBOSE</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                o_subprocess_group.terminateAllSubprocesses()</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;            </div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                <a class="code" href="namespacenegui_1_1pgutilities.html#aa37c7d125e4eaec2eeea639f53fa140d">remove_simulation_replicate_output_files</a>( s_output_basename )</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                <span class="keywordflow">break</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;                i_number_subprocesses_alive=o_subprocess_group.getTotalAlive()</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                i_number_subprocesses_available= \</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                        i_max_processes_to_use-i_number_subprocesses_alive</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                i_number_replicates_to_go=i_total_replicates_requested - i_total_replicates_started</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                i_number_subprocesses_to_start=i_number_subprocesses_available</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                <span class="comment">#reduce the number to start if we have fewer reps to go than avail procs:</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                <span class="keywordflow">if</span> i_number_subprocesses_available &gt; i_number_replicates_to_go:</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                        i_number_subprocesses_to_start = i_number_replicates_to_go</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                <span class="comment">#end if fewer needed than available</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                <span class="keywordflow">for</span> idx <span class="keywordflow">in</span> range( i_number_subprocesses_to_start ):</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                    i_total_replicates_started += 1</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                    </div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                    <span class="comment">#In the Popen call, rather than rely on a driver python script </span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                    <span class="comment">#that would need to be in PATH, we&#39;ll simply</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                    <span class="comment">#invoke python with a &quot;-c&quot; argument that imports the </span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                    <span class="comment">#pgutilities module and executes the correct def:</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;            </div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                    <span class="comment">#complete the set of args used in the command by adding the</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                    <span class="comment">#replicate number (recall need comma in sequence with single item,</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                    <span class="comment">#to delineate sequence versus simple expression):</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                    seq_complete_arg_set=seq_first_four_args_to_sim_call + ( str( i_total_replicates_started ), )</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="stringliteral">                    2017_05_30.  We added this argument to def prep_and_call_do_pgopsimupop_replicate, to propgate</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="stringliteral">                    to its call to def do_pgopsimupop_replicate_from_files.</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="stringliteral">                    </span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="stringliteral">                    &#39;&#39;&#39;</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                    seq_complete_arg_set=seq_complete_arg_set + ( str( b_use_gui_messaging ), )</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="stringliteral">                    2017_08_07.  We added args to allow caller to use diffeent output modes, </span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="stringliteral">                    and, if using the filter output mode, to pass a string with parameters,</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="stringliteral">                    for filtering pops by mean heterozygosity.  (See new additions to PGOpSimuPop code.)</span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="stringliteral">                    2017_09_04. We remove the s_pop_het_filter_string argument.  It has been removed from</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="stringliteral">                    the arglist for initializing PGOpSimuPop instances, and instead those instances</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="stringliteral">                    will access it directly from the PGInputSimuPop object.</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="stringliteral">                    &#39;&#39;&#39;</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                    seq_complete_arg_set=seq_complete_arg_set + ( str( i_output_mode ), )</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="stringliteral">                    in case the negui mods are not in the default python </span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="stringliteral">                    install dirs, then we need to add them to the sys.paths in</span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="stringliteral">                    any  spawned invocation of python exe -- seems that </span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="stringliteral">                    the PYTHONPATH env var known to this parent process </span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="stringliteral">                    is unknown to the &quot;python&quot; invocation via Popen.  </span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="stringliteral">                    We can get for and then add to our new python invocation</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="stringliteral">                    the path to all negui modules by getting the</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="stringliteral">                    path to this module:</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="stringliteral">                    &#39;&#39;&#39;</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                    s_curr_mod_path = os.path.abspath(__file__)</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                    <span class="comment">#path only (stripped off &quot;/utilities.py&quot; )</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                    <span class="comment">#-- gives path to all negui mods:</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                    s_mod_dir=os.path.dirname( s_curr_mod_path )</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                    <span class="comment">#need to fix the path if we&#39;re on windows:</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                    <span class="keywordflow">if</span> is_windows_platform():</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                        s_mod_dir=fix_windows_path( s_mod_dir )</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                    <span class="comment">#end if windows, fix path</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                    </div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                    s_path_append_statements=<span class="stringliteral">&quot;import sys; sys.path.append( \&quot;&quot;</span> \</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                            + s_mod_dir + <span class="stringliteral">&quot;\&quot; );&quot;</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                    s_python_command=s_path_append_statements + <span class="stringliteral">&quot;import pgutilities;&quot;</span> \</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                                        <span class="stringliteral">&quot;pgutilities.prep_and_call_do_pgopsimupop_replicate&quot;</span> \</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                                        + <span class="stringliteral">&quot;( \&quot;%s\&quot;, \&quot;%s\&quot;, \&quot;%s\&quot;, \&quot;%s\&quot;, \&quot;%s\&quot;, \&quot;%s\&quot;, \&quot;%s\&quot; )&quot;</span> %  seq_complete_arg_set</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                    o_new_subprocess=subprocess.Popen( [ PYEXE_FOR_POPEN, <span class="stringliteral">&quot;-c&quot;</span>, s_python_command ] )</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                    o_subprocess_group.addSubprocess( o_new_subprocess ) </div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                <span class="comment">#end for each idx of new procs</span></div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;            <span class="comment">#end if event is set else not</span></div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="comment">#end while preplicates need to be started</span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <span class="comment">#we don&#39;t want to return until all processes are done.</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <span class="comment">#meantime test for cancel-request</span></div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        i_total_still_alive_after_creating_all=o_subprocess_group.getTotalAlive()</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        <span class="keywordflow">while</span> i_total_still_alive_after_creating_all &gt; 0:</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            <span class="keywordflow">if</span> o_multiprocessing_event.is_set():</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                <span class="keywordflow">if</span> VERBOSE:</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                    print( <span class="stringliteral">&quot;received event in final loop&quot;</span> )</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                <span class="comment">#end if verbose</span></div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                o_subprocess_group.terminateAllSubprocesses()</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                <a class="code" href="namespacenegui_1_1pgutilities.html#aa37c7d125e4eaec2eeea639f53fa140d">remove_simulation_replicate_output_files</a>( s_output_basename )</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;            <span class="comment">#end if we are to cancel</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;            i_total_still_alive_after_creating_all=o_subprocess_group.getTotalAlive()</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <span class="comment">#end while</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="keywordflow">except</span> Exception <span class="keyword">as</span> oex:</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        o_traceback=sys.exc_info()[ 2 ]</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        s_err_info=<a class="code" href="namespacenegui_1_1pgutilities.html#af7697cf9c85b30c07d7c6fc56df49501">get_traceback_info_about_offending_code</a>( o_traceback )</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        s_prefix_msg_with_trace=<span class="stringliteral">&quot;Error caught by pgutilities, &quot;</span> \</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                                + <span class="stringliteral">&quot;def __do_simulation_reps_in_subprocesses.&quot;</span> \</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                                + <span class="stringliteral">&quot;\\nError origin info:\\n&quot;</span> \</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                                + s_err_info </div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;        <span class="keywordflow">if</span> b_use_gui_messaging:</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;            show_error_in_messagebox_in_new_process( oex, </div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                s_msg_prefix = s_prefix_msg_with_trace )</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        <span class="comment">#end if use gui messaging</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        s_msg=s_prefix_msg_with_trace + str( oex )</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        <span class="keywordflow">raise</span> Exception( oex )</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    <span class="comment">#end try...except...</span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="comment">#end __do_simulation_reps_in_subprocesses</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_af7697cf9c85b30c07d7c6fc56df49501"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#af7697cf9c85b30c07d7c6fc56df49501">negui.pgutilities.get_traceback_info_about_offending_code</a></div><div class="ttdeci">def get_traceback_info_about_offending_code(o_traceback_object)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l01823">pgutilities.py:1823</a></div></div>
<div class="ttc" id="namespacenegui_1_1pgutilities_html_aa37c7d125e4eaec2eeea639f53fa140d"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#aa37c7d125e4eaec2eeea639f53fa140d">negui.pgutilities.remove_simulation_replicate_output_files</a></div><div class="ttdeci">def remove_simulation_replicate_output_files(s_basename)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l00555">pgutilities.py:555</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a20a66168135d35b6713e38b2503f6289"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.do_usage_check </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ls_this_argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ls_required_arg_descriptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ls_optional_arg_descriptions</em> = <code>[]</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>b_multi_line_msg</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>b_unlimited_final_args</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_note</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">arg 1 expects sys.argv, or a copy
arg 2 expects a list strings, in order, required args
arg 3 expects a list of strings, in order, any optional args
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l00103">103</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#a20a66168135d35b6713e38b2503f6289">  103</a></span>&#160;            s_note=<span class="keywordtype">None</span>):</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="stringliteral">    arg 1 expects sys.argv, or a copy</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="stringliteral">    arg 2 expects a list strings, in order, required args</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="stringliteral">    arg 3 expects a list of strings, in order, any optional args</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    i_num_args_required = len( ls_required_arg_descriptions )</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    i_num_args_optional = len( ls_optional_arg_descriptions )</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    i_max_poss_num_args = i_num_args_required + i_num_args_optional </div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    i_num_args_passed = len( ls_this_argv ) - 1  </div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    s_usage_string = <span class="stringliteral">&quot;&quot;</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    s_arg_delimit=<span class="stringliteral">&quot;&quot;</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span> b_multi_line_msg == <span class="keyword">True</span>:</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        s_arg_delimit=<span class="stringliteral">&quot;\n&quot;</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">#end if we put each arg descript on a </span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">#separate line of output</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">if</span> i_num_args_passed &lt;  i_num_args_required  \</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <span class="keywordflow">or</span> (i_num_args_passed &gt; i_max_poss_num_args <span class="keywordflow">and</span> b_unlimited_final_args == <span class="keyword">False</span> ): </div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    </div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        s_scriptname = os.path.basename( ls_this_argv[ 0 ] )    </div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        s_usage_string = <span class="stringliteral">&quot;usage: &quot;</span> + s_scriptname </div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">if</span> b_multi_line_msg:</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            s_usage_string=<span class="stringliteral">&quot;usage: &quot;</span> + s_scriptname \</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                    + <span class="stringliteral">&quot;\nargs:\n&quot;</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            s_usage_string = <span class="stringliteral">&quot;usage: &quot;</span> + s_scriptname </div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="comment">#end if multi line else not</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">for</span> s_arg <span class="keywordflow">in</span> ls_required_arg_descriptions:</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            s_usage_string += <span class="stringliteral">&quot; &lt;&quot;</span> \</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                + s_arg + <span class="stringliteral">&quot;&gt;&quot;</span> \</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                + s_arg_delimit</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="comment">#end for each requried arg</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">for</span> s_arg <span class="keywordflow">in</span> ls_optional_arg_descriptions:</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            s_usage_string += <span class="stringliteral">&quot; &lt;(optional) &quot;</span> \</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                + s_arg + <span class="stringliteral">&quot;&gt;&quot;</span> \</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                + s_arg_delimit</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="comment">#end for each required arg</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="comment">#end if number of args is out of range</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">if</span> s_usage_string != <span class="stringliteral">&quot;&quot;</span> <span class="keywordflow">and</span> s_note <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        s_usage_string=s_usage_string + <span class="stringliteral">&quot;\n&quot;</span> + s_note</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">#end if note </span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">return</span>  s_usage_string </div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">#def do_usage_check</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a606a7615fe2e94332376016ce8abe372"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.get_add_path_statment_for_popen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This def creates a string that is a
path path.append statement.  It uses the 
absolute path of the current module.
It is used to add all the project modules
to the path, since we assume this module
is in the same directory as all of the 
project files.
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l01272">1272</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01272"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#a606a7615fe2e94332376016ce8abe372"> 1272</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgutilities.html#a606a7615fe2e94332376016ce8abe372">get_add_path_statment_for_popen</a>():</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;<span class="stringliteral">    This def creates a string that is a</span></div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;<span class="stringliteral">    path path.append statement.  It uses the </span></div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="stringliteral">    absolute path of the current module.</span></div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="stringliteral">    It is used to add all the project modules</span></div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="stringliteral">    to the path, since we assume this module</span></div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;<span class="stringliteral">    is in the same directory as all of the </span></div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="stringliteral">    project files.</span></div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    s_path_append_statement=<span class="keywordtype">None</span></div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    s_curr_mod_path = os.path.abspath(__file__)</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="comment">#path only (stripped off &quot;/utilities.py&quot; )</span></div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="comment">#-- gives path to all negui mods:</span></div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    s_mod_dir=os.path.dirname( s_curr_mod_path )</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="stringliteral">    Found that windows python would claim no such</span></div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="stringliteral">    module found in the import pgguiutilities </span></div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;<span class="stringliteral">    statment, unless I replaced the windows os.sep</span></div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;<span class="stringliteral">    char with linux &quot;/&quot;.</span></div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="keywordflow">if</span> is_windows_platform():</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        s_mod_dir=fix_windows_path( s_mod_dir )</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="comment">#end if windows platform</span></div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    s_path_append_statement=<span class="stringliteral">&quot;import sys; sys.path.append( \&quot;&quot;</span> \</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                    + s_mod_dir + <span class="stringliteral">&quot;\&quot; );&quot;</span></div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="keywordflow">return</span> s_path_append_statement</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;<span class="comment">#end get_add_path_statment_for_popen</span></div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_a606a7615fe2e94332376016ce8abe372"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#a606a7615fe2e94332376016ce8abe372">negui.pgutilities.get_add_path_statment_for_popen</a></div><div class="ttdeci">def get_add_path_statment_for_popen()</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l01272">pgutilities.py:1272</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afd3d11b0299c87d3e2e92383de028857"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.get_subsample_value_filtered_ne_estimates_table_file </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_estimates_table_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_pop_subsample_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_loci_subsample_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">If the value of sither param s_pop_subsample_value or s_loci_subsample_value is not 
None, these are used to filter the estimates table given by param s_estimates_table_file.

This def returns the name of a file that gives the filtered table.

Assumtions: Either s_pop_subsample_value or s_loci_subsample_value are non None,
            otherwise, this def simply rewrites the original table file to the new
            file name
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l01431">1431</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01431"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#afd3d11b0299c87d3e2e92383de028857"> 1431</a></span>&#160;                                                            s_loci_subsample_value ):</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;<span class="stringliteral">    If the value of sither param s_pop_subsample_value or s_loci_subsample_value is not </span></div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;<span class="stringliteral">    None, these are used to filter the estimates table given by param s_estimates_table_file.</span></div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;<span class="stringliteral">    This def returns the name of a file that gives the filtered table.</span></div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;<span class="stringliteral">    Assumtions: Either s_pop_subsample_value or s_loci_subsample_value are non None,</span></div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;<span class="stringliteral">                otherwise, this def simply rewrites the original table file to the new</span></div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;<span class="stringliteral">                file name</span></div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    o_ne_estimates_file_manager=NeEstimationTableFileManager( s_estimates_table_file )</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <span class="keywordflow">if</span> s_pop_subsample_value <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;        o_ne_estimates_file_manager.setFilter( <span class="stringliteral">&#39;sample_value&#39;</span>, <span class="keyword">lambda</span> x : x == s_pop_subsample_value ) </div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <span class="comment">#end if there is a pop subsample value</span></div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <span class="keywordflow">if</span> s_loci_subsample_value <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        o_ne_estimates_file_manager.setFilter( <span class="stringliteral">&#39;loci_sample_value&#39;</span> , <span class="keyword">lambda</span> x : x == s_loci_subsample_value )</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    <span class="comment">#end if we have a loci subsample value</span></div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    s_current_dir=os.path.abspath( os.curdir )</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <span class="comment">#Returns a duple, int file descriptor, and str file name:</span></div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    tup_tempfile=tempfile.mkstemp( dir=s_current_dir )</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    s_temp_file_name=tup_tempfile[ 1 ]</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    o_tempfile=open( s_temp_file_name, <span class="stringliteral">&#39;w&#39;</span> )</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    o_ne_estimates_file_manager.writeFilteredTable( o_tempfile )</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    o_tempfile.close()</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    <span class="keywordflow">return</span> s_temp_file_name</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;<span class="comment">#end get_subsample_value_filtered_ne_estimates_table_file</span></div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aac95b31d10fd9e225c4295f04274bf28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.get_subsample_values_lists_from_tsv_file </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_tsv_file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">For the given tsv file giving an Ne estimate table output by
pgdriveneestimator.py, we return a dictionary with keys, 
"pop" and "loci", giving a list of string versions of the subsample
values for each.
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l01785">1785</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01785"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#aac95b31d10fd9e225c4295f04274bf28"> 1785</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgutilities.html#aac95b31d10fd9e225c4295f04274bf28">get_subsample_values_lists_from_tsv_file</a>( s_tsv_file ):</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;<span class="stringliteral">    For the given tsv file giving an Ne estimate table output by</span></div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;<span class="stringliteral">    pgdriveneestimator.py, we return a dictionary with keys, </span></div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;<span class="stringliteral">    &quot;pop&quot; and &quot;loci&quot;, giving a list of string versions of the subsample</span></div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;<span class="stringliteral">    values for each.</span></div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;    ls_pop_subsample_values=<span class="keywordtype">None</span></div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    ls_loci_subsample_values=<span class="keywordtype">None</span></div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;    o_ne_file=NeEstimationTableFileManager( s_tsv_file )</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    ls_pop_subsample_values=o_ne_file.pop_sample_values</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    ls_loci_subsample_values=o_ne_file.loci_sample_values</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <span class="keywordflow">return</span> { <span class="stringliteral">&quot;pop&quot;</span>:ls_pop_subsample_values,</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;                <span class="stringliteral">&quot;loci&quot;</span>:ls_loci_subsample_values }</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;<span class="comment">#end get_subsample_values_lists_from_tsv_file</span></div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_aac95b31d10fd9e225c4295f04274bf28"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#aac95b31d10fd9e225c4295f04274bf28">negui.pgutilities.get_subsample_values_lists_from_tsv_file</a></div><div class="ttdeci">def get_subsample_values_lists_from_tsv_file(s_tsv_file)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l01785">pgutilities.py:1785</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af7697cf9c85b30c07d7c6fc56df49501"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.get_traceback_info_about_offending_code </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o_traceback_object</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">2017_04_27
This def was created to help trace errors in the
pgdriveneestimator.py module that are caught by
the def do_estimate, which is running on a separate
process a map_async call, and so tracebacks are not spilled to
stdout.
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l01823">1823</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01823"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#af7697cf9c85b30c07d7c6fc56df49501"> 1823</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgutilities.html#af7697cf9c85b30c07d7c6fc56df49501">get_traceback_info_about_offending_code</a>( o_traceback_object ):</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;<span class="stringliteral">    2017_04_27</span></div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;<span class="stringliteral">    This def was created to help trace errors in the</span></div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;<span class="stringliteral">    pgdriveneestimator.py module that are caught by</span></div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;<span class="stringliteral">    the def do_estimate, which is running on a separate</span></div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;<span class="stringliteral">    process a map_async call, and so tracebacks are not spilled to</span></div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;<span class="stringliteral">    stdout.</span></div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;    s_msg=<span class="stringliteral">&quot;&quot;</span></div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;    TOTAL_FIELDS=4</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    IDX_FILE=0</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    IDX_LINE_NUM=1</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    IDX_DEF=2</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    IDX_TXT=3</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    ls_categories=[ <span class="stringliteral">&quot;file&quot;</span>, <span class="stringliteral">&quot;line&quot;</span>, <span class="stringliteral">&quot;function&quot;</span>, <span class="stringliteral">&quot;text&quot;</span> ]</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    l_tup_trace=traceback.extract_tb( o_traceback_object )</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;<span class="stringliteral">    We want the last tuple in the traceback list:</span></div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    ls_fields=[]</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    <span class="keywordflow">if</span> len ( l_tup_trace ) &gt; 0:</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;        i_last_idx=len( l_tup_trace ) - 1</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;        tup_info=l_tup_trace[ i_last_idx ]</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;        ls_fields.append( tup_info[ IDX_FILE ] ) </div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;        ls_fields.append( str( tup_info[ IDX_LINE_NUM ] ) )</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;        ls_fields.append( tup_info[ IDX_DEF ]  )</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;        ls_fields.append( tup_info[ IDX_TXT ] ) </div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    <span class="keywordflow">else</span>:</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;        ls_fields=[ <span class="stringliteral">&quot;no_info&quot;</span> <span class="keywordflow">for</span> idx <span class="keywordflow">in</span> range( TOTAL_FIELDS ) ]</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;    <span class="comment">#end if we have info</span></div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    s_combined_info=[]</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;    <span class="keywordflow">for</span> idx <span class="keywordflow">in</span> range( TOTAL_FIELDS ):</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;        s_combined_info.append( ls_categories[idx] + <span class="stringliteral">&quot;: &quot;</span> + ls_fields[idx] )</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    <span class="comment">#end for each field</span></div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    s_msg=<span class="stringliteral">&quot;, &quot;</span>.join( s_combined_info )</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="keywordflow">return</span> s_msg</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;<span class="comment">#end get_traceback_info_about_offending_code</span></div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_af7697cf9c85b30c07d7c6fc56df49501"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#af7697cf9c85b30c07d7c6fc56df49501">negui.pgutilities.get_traceback_info_about_offending_code</a></div><div class="ttdeci">def get_traceback_info_about_offending_code(o_traceback_object)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l01823">pgutilities.py:1823</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa62ddf0928a977844669e59f5b4e3329"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.manage_driveneestimator_subprocess </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o_subprocess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o_multiprocessing_event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This def uses an absolute time out, and a looping check of the 
passed subprocess poll(). On each iteration it also checks
for a set()==True of the multiprocessing event, indicating a
request from the GUI to kill the process (and its children).
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l01351">1351</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01351"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#aa62ddf0928a977844669e59f5b4e3329"> 1351</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgutilities.html#aa62ddf0928a977844669e59f5b4e3329">manage_driveneestimator_subprocess</a>( o_subprocess, o_multiprocessing_event ):</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;<span class="stringliteral">    This def uses an absolute time out, and a looping check of the </span></div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;<span class="stringliteral">    passed subprocess poll(). On each iteration it also checks</span></div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;<span class="stringliteral">    for a set()==True of the multiprocessing event, indicating a</span></div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;<span class="stringliteral">    request from the GUI to kill the process (and its children).</span></div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    <span class="keywordflow">if</span> VERBOSE:</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        print( <span class="stringliteral">&quot;In pgutilities.py, def manage_driveneestimator_subprocess, &quot;</span> \</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                            + <span class="stringliteral">&quot;entered def with subprocess, &quot;</span> \</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;                            + str( o_subprocess ) + <span class="stringliteral">&quot;, and event, &quot;</span>  \</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;                            + str( o_multiprocessing_event ) + <span class="stringliteral">&quot;.&quot;</span>  )</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="comment">#end if VERBOSE</span></div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    f_start_run=time.time()</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    SLEEPTIMELOOP=3</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;<span class="stringliteral">    Originally, we used a MAX running time</span></div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;<span class="stringliteral">    limit when we were using a multiprocess.Process</span></div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;<span class="stringliteral">    to drive the pgdriveneestimator.py, but</span></div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;<span class="stringliteral">    found that long runs vs hands were very difficult</span></div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;<span class="stringliteral">    to distinguish between.  We&#39;ve seen no hangs</span></div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;<span class="stringliteral">    since switching to a subprocess.  This fact,</span></div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;<span class="stringliteral">    plus the difficult in deciding when a run</span></div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="stringliteral">    has hung vs a very large data set, suggests</span></div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;<span class="stringliteral">    that we should, as of 2016_12_23, for now </span></div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;<span class="stringliteral">    apply what amounts to no time limit.</span></div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    MAX_HOURS_PER_RUN=100000</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    TIMEOUT=60*60*MAX_HOURS_PER_RUN</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <span class="keywordflow">while</span> ( o_subprocess.poll() <span class="keywordflow">is</span> <span class="keywordtype">None</span> ) \</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                        <span class="keywordflow">and</span> ( time.time() - f_start_run ) &lt; TIMEOUT:</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        <span class="keywordflow">if</span> o_multiprocessing_event <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;            <span class="keywordflow">if</span> o_multiprocessing_event.is_set():</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;                i_pid_subproc=o_subprocess.pid</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                <span class="comment">#kill the child processes:</span></div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                <span class="keywordflow">for</span> o_proc <span class="keywordflow">in</span> psutil.process_iter():</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                    <span class="keywordflow">if</span> o_proc.pid == i_pid_subproc:</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                        <span class="keywordflow">for</span> o_child_proc <span class="keywordflow">in</span> o_proc.children():</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                            o_child_proc.kill()</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                        <span class="comment">#end for each child</span></div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                <span class="comment">#end for each process</span></div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                <span class="comment">#With children killed, now we kill the parent:</span></div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                o_subprocess.kill()</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                <span class="keywordflow">if</span> VERBOSE:</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                    print( <span class="stringliteral">&quot;In pgutilities.py, def manage_driveneestimator_subprocess, &quot;</span> \</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                                + <span class="stringliteral">&quot;after main Ne estimator subprocess kill(), &quot;</span> \</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;                                + <span class="stringliteral">&quot;result of calling process.is_running(): &quot;</span> \</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;                                + str( o_subprocess.is_running() )  + <span class="stringliteral">&quot;.&quot;</span> )</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                <span class="comment">#end if VERBOSE</span></div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                o_multiprocessing_event.clear()</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;            <span class="comment">#end if event is set</span></div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        <span class="comment">#end if we have multiproc evennt</span></div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        time.sleep ( SLEEPTIMELOOP )</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;        <span class="keywordflow">if</span> VERBOSE:</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;            print( <span class="stringliteral">&quot;In pgutilities.py, def manage_driveneestimator_subprocess, &quot;</span> \</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                        + <span class="stringliteral">&quot;Popen poll: &quot;</span> + str( o_subprocess.poll() ) ) </div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;            print( <span class="stringliteral">&quot;In pgutilities.py, def manage_driveneestimator_subprocess, &quot;</span> \</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                        + <span class="stringliteral">&quot;in loop waiting for poll() is not None or timeout&quot;</span> )</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        <span class="comment">#end if verbose</span></div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <span class="comment">#end while running</span></div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;<span class="comment">#end manage_driveneestimator_subprocess</span></div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_aa62ddf0928a977844669e59f5b4e3329"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#aa62ddf0928a977844669e59f5b4e3329">negui.pgutilities.manage_driveneestimator_subprocess</a></div><div class="ttdeci">def manage_driveneestimator_subprocess(o_subprocess, o_multiprocessing_event)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l01351">pgutilities.py:1351</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a27835f7b8bcbb2b3969f5bd2dfd08072"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.manage_plotting_program_subprocess </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o_subprocess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o_multiprocessing_event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This def is called by def call_plotting_program_in_new_subprocess,
and loops while waiting for either the death (presumably by completion
of the plotting taskes) of the subprocess that is executing def 
run_plotting_program, or finds a True value for the multiprocessing event 
"is_set()", in which case the plotting subprocess is killed.

The multiprocessing event is presumably set by the GUI, which itself
has called def call_plotting_program_in_new_subprocess, and indicates
a user or GUI-determined decision to cancel the plotting tasks.
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l01546">1546</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01546"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#a27835f7b8bcbb2b3969f5bd2dfd08072"> 1546</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgutilities.html#a27835f7b8bcbb2b3969f5bd2dfd08072">manage_plotting_program_subprocess</a>( o_subprocess, o_multiprocessing_event ):</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;<span class="stringliteral">    This def is called by def call_plotting_program_in_new_subprocess,</span></div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;<span class="stringliteral">    and loops while waiting for either the death (presumably by completion</span></div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;<span class="stringliteral">    of the plotting taskes) of the subprocess that is executing def </span></div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<span class="stringliteral">    run_plotting_program, or finds a True value for the multiprocessing event </span></div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;<span class="stringliteral">    &quot;is_set()&quot;, in which case the plotting subprocess is killed.</span></div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;<span class="stringliteral">    The multiprocessing event is presumably set by the GUI, which itself</span></div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;<span class="stringliteral">    has called def call_plotting_program_in_new_subprocess, and indicates</span></div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;<span class="stringliteral">    a user or GUI-determined decision to cancel the plotting tasks.</span></div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    <span class="keywordflow">if</span> VERBOSE:</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;        print( <span class="stringliteral">&quot;In pgutilities.py, def manage_plotting_program_subprocess, &quot;</span> \</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;                            + <span class="stringliteral">&quot;entered def with subprocess, &quot;</span> \</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                            + str( o_subprocess ) + <span class="stringliteral">&quot;, and event, &quot;</span>  \</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;                            + str( o_multiprocessing_event ) + <span class="stringliteral">&quot;.&quot;</span>  )</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <span class="comment">#end if VERBOSE</span></div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    f_start_run=time.time()</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    SLEEPTIMELOOP=1</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <span class="comment">#For now we apply essentially</span></div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <span class="comment">#no time limit</span></div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    MAX_HOURS_PER_RUN=100000</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    TIMEOUT=60*60*MAX_HOURS_PER_RUN</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;    <span class="keywordflow">while</span> ( o_subprocess.poll() <span class="keywordflow">is</span> <span class="keywordtype">None</span> ) \</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                        <span class="keywordflow">and</span> ( time.time() - f_start_run ) &lt; TIMEOUT:</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;        <span class="keywordflow">if</span> o_multiprocessing_event <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;            <span class="keywordflow">if</span> o_multiprocessing_event.is_set():</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;                i_pid_subproc=o_subprocess.pid</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;                <span class="comment">#kill the child processes:</span></div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;                <span class="keywordflow">for</span> o_proc <span class="keywordflow">in</span> psutil.process_iter():</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;                    <span class="keywordflow">if</span> o_proc.pid == i_pid_subproc:</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;                        <span class="keywordflow">for</span> o_child_proc <span class="keywordflow">in</span> o_proc.children():</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;                            o_child_proc.kill()</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;                        <span class="comment">#end for each child</span></div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;                <span class="comment">#end for each process</span></div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;                <span class="comment">#With children killed, now we kill the parent:</span></div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;                o_subprocess.kill()</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;                <span class="keywordflow">if</span> VERBOSE:</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;                    print( <span class="stringliteral">&quot;In pgutilities.py, def manage_plotting_program_subprocess, &quot;</span> \</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;                                + <span class="stringliteral">&quot;after  subprocess kill(), &quot;</span> \</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;                                + <span class="stringliteral">&quot;result of calling process.is_running(): &quot;</span> \</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;                                + str( o_subprocess.is_running() )  + <span class="stringliteral">&quot;.&quot;</span> )</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;                <span class="comment">#end if VERBOSE</span></div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                o_multiprocessing_event.clear()</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;            <span class="comment">#end if event is set</span></div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        <span class="comment">#end if we have multiproc evennt</span></div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;        time.sleep ( SLEEPTIMELOOP )</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;        <span class="keywordflow">if</span> VERBOSE:</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;            print( <span class="stringliteral">&quot;In pgutilities.py, def manage_plotting_program_subprocess, &quot;</span> \</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                        + <span class="stringliteral">&quot;Popen poll: &quot;</span> + str( o_subprocess.poll() ) ) </div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;            print( <span class="stringliteral">&quot;In pgutilities.py, def manage_plotting_program_subprocess, &quot;</span> \</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;                        + <span class="stringliteral">&quot;in loop waiting for poll() is not None or timeout&quot;</span> )</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;        <span class="comment">#end if verbose</span></div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;    <span class="comment">#end while running</span></div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;<span class="comment">#end manage_driveneestimator_subprocess</span></div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_a27835f7b8bcbb2b3969f5bd2dfd08072"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#a27835f7b8bcbb2b3969f5bd2dfd08072">negui.pgutilities.manage_plotting_program_subprocess</a></div><div class="ttdeci">def manage_plotting_program_subprocess(o_subprocess, o_multiprocessing_event)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l01546">pgutilities.py:1546</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aec3b74a55914681d88a8b938b3220ff0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.prep_and_call_do_pgopsimupop_replicate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_config_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_life_table_files</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_param_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_output_base_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_replicate_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_use_gui_messaging</em> = <code>&quot;True&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_output_mode</em> = <code>str(&#160;pgsim.PGOpSimuPop.OUTPUT_GENEPOP_ONLY&#160;)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>end do_sim_replicate_on_separate_os_process </p>
<pre class="fragment">This def to be invoked in a subprocess.Popen command, as
instantiated in a PGGuiSimuPop instance in do_operation.

This def simply prepares the args for the call to def
do_pgopsimupop_replicate_from_files (below).

2017_05_30.  Added def parameter (string by necessity) s_use_gui_messaging with default
(bool-converted) value True, so that our new module pgdrivesimulation.py can call
this with this (bool-converted) value set to False, to avoid gui processing during
a command line execution.

2017_08_07.  Added def parameters s_output_mode and s_pop_het_filter_string, to
allows caller to use new output mode selections and het pop filter in PGOpSimuPop instances.

2017_09_04. Removed the het filter string from this def's arglist.  It will now
be stored in the input object only.
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l00378">378</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00378"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#aec3b74a55914681d88a8b938b3220ff0">  378</a></span>&#160;                                            s_output_mode=str( pgsim.PGOpSimuPop.OUTPUT_GENEPOP_ONLY ) ):</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="stringliteral">&#39;&#39;&#39; </span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="stringliteral">    This def to be invoked in a subprocess.Popen command, as</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="stringliteral">    instantiated in a PGGuiSimuPop instance in do_operation.</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="stringliteral">    This def simply prepares the args for the call to def</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="stringliteral">    do_pgopsimupop_replicate_from_files (below).</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="stringliteral">    2017_05_30.  Added def parameter (string by necessity) s_use_gui_messaging with default</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="stringliteral">    (bool-converted) value True, so that our new module pgdrivesimulation.py can call</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="stringliteral">    this with this (bool-converted) value set to False, to avoid gui processing during</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="stringliteral">    a command line execution.</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="stringliteral">    2017_08_07.  Added def parameters s_output_mode and s_pop_het_filter_string, to</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="stringliteral">    allows caller to use new output mode selections and het pop filter in PGOpSimuPop instances.</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="stringliteral">    2017_09_04. Removed the het filter string from this def&#39;s arglist.  It will now</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="stringliteral">    be stored in the input object only.</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="comment">#de-stringify args for call to def below:</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    ls_life_table_files = s_life_table_files.split( DELIMITER_LIFE_TABLE_FILES )</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    i_replicate_number=int( s_replicate_number )</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    b_use_gui_messaging=<span class="keyword">True</span> <span class="keywordflow">if</span> s_use_gui_messaging==<span class="stringliteral">&quot;True&quot;</span> <span class="keywordflow">else</span> <span class="keyword">False</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    i_output_mode=int( s_output_mode )</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <a class="code" href="namespacenegui_1_1pgutilities.html#aa80fcb5144db7e03186d7496ab1de393">do_pgopsimupop_replicate_from_files</a>( s_config_file,</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                        ls_life_table_files,</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                        s_param_file,</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                        s_output_base_name,</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                        i_replicate_number,</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                        b_use_gui_messaging =  b_use_gui_messaging,</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                        i_output_mode=i_output_mode )</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">#end prep_and_call_do_pgopsimupop_replicate</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_aa80fcb5144db7e03186d7496ab1de393"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#aa80fcb5144db7e03186d7496ab1de393">negui.pgutilities.do_pgopsimupop_replicate_from_files</a></div><div class="ttdeci">def do_pgopsimupop_replicate_from_files(s_configuration_file, ls_life_table_files, s_param_name_file, s_outfile_basename, i_replicate_number, b_use_gui_messaging=True, i_output_mode=pgsim.PGOpSimuPop.OUTPUT_GENEPOP_ONLY)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l00424">pgutilities.py:424</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af67695b6ecd6a9c2958780ec78c4ee30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.remove_non_existent_paths_from_path_variable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">I needed to make PATH environmental variables
that have no (old paths to discarded locations)
non-existing paths.  The ne2.controller module's
ne estimator controller class in the pygenomics
package iterates over the PATH variable paths, 
and uses each path qua existing path without
checking whether it exists.
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l01740">1740</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01740"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#af67695b6ecd6a9c2958780ec78c4ee30"> 1740</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgutilities.html#af67695b6ecd6a9c2958780ec78c4ee30">remove_non_existent_paths_from_path_variable</a>():</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;<span class="stringliteral">    I needed to make PATH environmental variables</span></div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;<span class="stringliteral">    that have no (old paths to discarded locations)</span></div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;<span class="stringliteral">    non-existing paths.  The ne2.controller module&#39;s</span></div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;<span class="stringliteral">    ne estimator controller class in the pygenomics</span></div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;<span class="stringliteral">    package iterates over the PATH variable paths, </span></div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;<span class="stringliteral">    and uses each path qua existing path without</span></div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;<span class="stringliteral">    checking whether it exists.</span></div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    ls_paths_that_exist=[]</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    IX_NAME=<span class="stringliteral">&quot;posix&quot;</span></div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    WINDOWS_NAME=<span class="stringliteral">&quot;nt&quot;</span></div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    LINUX_PATH_VAR=<span class="stringliteral">&quot;PATH&quot;</span></div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    WINDOWS_PATH_VAR=<span class="stringliteral">&quot;PATH&quot;</span></div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    s_paths=<span class="keywordtype">None</span></div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <span class="keywordflow">if</span> os.name==<span class="stringliteral">&quot;posix&quot;</span>:</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;        s_var_name=LINUX_PATH_VAR</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="keywordflow">elif</span> os.name==<span class="stringliteral">&quot;nt&quot;</span>:</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;        s_var_name=WINDOWS_PATH_VAR</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;    <span class="keywordflow">else</span>:</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;        <span class="keywordflow">raise</span> Exception( <span class="stringliteral">&quot;In def confirm_executable_is_in_path, Unrecognized OS name: &quot;</span> + os.name )</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="comment">#end if posix else if nt, else unknown</span></div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    s_paths=os.environ.get( s_var_name )</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;    ls_paths=s_paths.split( os.pathsep )</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    </div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;    <span class="keywordflow">for</span> s_path <span class="keywordflow">in</span> ls_paths:</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;        <span class="keywordflow">if</span> os.path.exists( s_path ):</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;            ls_paths_that_exist.append( s_path )</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;        <span class="comment">#end if executable</span></div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <span class="comment">#end for each path in PATH</span></div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;    <span class="comment">#Reset the path variable to only those paths in its</span></div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    <span class="comment">#current set, that exist as real OS paths:</span></div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;    os.environ[  s_var_name ]=os.pathsep.join( ls_paths_that_exist )</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;<span class="comment">#end remove_non_existent_paths_from_path_variable</span></div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_af67695b6ecd6a9c2958780ec78c4ee30"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#af67695b6ecd6a9c2958780ec78c4ee30">negui.pgutilities.remove_non_existent_paths_from_path_variable</a></div><div class="ttdeci">def remove_non_existent_paths_from_path_variable()</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l01740">pgutilities.py:1740</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa37c7d125e4eaec2eeea639f53fa140d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.remove_simulation_replicate_output_files </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_basename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">When a sim is cancelled inside a PGGuiSimuPop
object, this def is called
to remove any output files produced by the
do_pgopsimupop_replicate_from_files
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l00555">555</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00555"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#aa37c7d125e4eaec2eeea639f53fa140d">  555</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgutilities.html#aa37c7d125e4eaec2eeea639f53fa140d">remove_simulation_replicate_output_files</a>( s_basename ):</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="stringliteral">    When a sim is cancelled inside a PGGuiSimuPop</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="stringliteral">    object, this def is called</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="stringliteral">    to remove any output files produced by the</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="stringliteral">    do_pgopsimupop_replicate_from_files</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="comment">#type is to coerce python 3, despite fact that any iterable</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="comment">#would probably suffice:</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    ls_output_extentions=list( \</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            pgout.PGOutputSimuPop.DICT_OUTPUT_FILE_EXTENSIONS.values() )</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="stringliteral">    2017_05_16. Added to remove the recently added age counts and </span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="stringliteral">    PWOP Nb estimates files created on rep 1 in the simulations.</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="stringliteral">    These files don&#39;t have replicate tags in their names, </span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="stringliteral">    so our glob should not include one.</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    s_age_counts_ext=pgout.PGOutputSimuPop.DICT_OUTPUT_FILE_EXTENSIONS[ <span class="stringliteral">&quot;age_counts&quot;</span> ]</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    s_sim_nb_vals_ext=pgout.PGOutputSimuPop.DICT_OUTPUT_FILE_EXTENSIONS[ <span class="stringliteral">&quot;sim_nb_estimates&quot;</span> ]</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    ls_non_replicate_extensions=[ s_age_counts_ext, s_sim_nb_vals_ext ]</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">for</span> s_ext <span class="keywordflow">in</span> ls_output_extentions:</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        s_unzipped_file_pattern=<span class="keywordtype">None</span>    </div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="keywordflow">if</span> s_ext <span class="keywordflow">in</span> ls_non_replicate_extensions:</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            s_unzipped_file_pattern=s_basename + s_ext</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            s_unzipped_file_pattern=s_basename + <span class="stringliteral">&quot;*&quot;</span> \</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                    + SIMULATION_OUTPUT_FILE_REPLICATE_TAG \</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                    + <span class="stringliteral">&quot;*&quot;</span> + s_ext</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        <span class="comment">#end if  non-replicate file name, else use replicate tag    </span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        ls_files_unzipped=glob.glob( s_unzipped_file_pattern )</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        ls_files_zipped=glob.glob( s_unzipped_file_pattern \</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                + <span class="stringliteral">&quot;.&quot;</span> + pgout.PGOutputSimuPop.COMPRESSION_FILE_EXTENSION )</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        <span class="keywordflow">for</span> s_file <span class="keywordflow">in</span> ls_files_unzipped + ls_files_zipped:</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            os.remove( s_file )</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="comment">#end for each unzipped and zipped output file with this extension</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="comment">#end for each file ext</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment">#end remove_simulation_replicate_output_files</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_aa37c7d125e4eaec2eeea639f53fa140d"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#aa37c7d125e4eaec2eeea639f53fa140d">negui.pgutilities.remove_simulation_replicate_output_files</a></div><div class="ttdeci">def remove_simulation_replicate_output_files(s_basename)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l00555">pgutilities.py:555</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af0416d36a2f9a99c1658b47c5d35ac6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.replace_genepop_file_list_arg_with_file_name_if_list_too_long </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>seq_arg_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_main_output_filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">2017_02_20.  We found a limitiation in Windows ability to invoke a 
pOpen command if the command exceeds some N number of characters,
N seemingly on the order of 10^4.  Exceeded, the "long" command 
fails and windows throws a WindowsError with the usual non-informative
message, in this case "The parameter is incorrect."

We test our command length.  We assume the first argumane, the list
of genepop files, is the the longest by far, and so we write the
list string to a temp file, and use the file name as the first argument,
in place of the list string.  We signal the change by returning the name
of the (new) def in module pgdriveneestimator.py that will expect the
tempfile name, and process the first arg accordingly.

arg s_main_output_filename is used to get the output file directory path,
so that, if we need to write a temporary file, we can do so in the output
directory, rather than the current.

We assume:
    --the s_main_output_filename argument has an absolute path. 
    --even if we're in a windows environment, that the path in the 
    s_main_output_filename uses unix path separators (see the windows 
    path fix in def fix_windows_path(), which is called in def 
    run_driveneestimator_in_new_process.
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l01174">1174</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01174"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#af0416d36a2f9a99c1658b47c5d35ac6c"> 1174</a></span>&#160;                                                                s_main_output_filename ):</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;<span class="stringliteral">    2017_02_20.  We found a limitiation in Windows ability to invoke a </span></div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;<span class="stringliteral">    pOpen command if the command exceeds some N number of characters,</span></div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;<span class="stringliteral">    N seemingly on the order of 10^4.  Exceeded, the &quot;long&quot; command </span></div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;<span class="stringliteral">    fails and windows throws a WindowsError with the usual non-informative</span></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;<span class="stringliteral">    message, in this case &quot;The parameter is incorrect.&quot;</span></div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="stringliteral">    We test our command length.  We assume the first argumane, the list</span></div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="stringliteral">    of genepop files, is the the longest by far, and so we write the</span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="stringliteral">    list string to a temp file, and use the file name as the first argument,</span></div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="stringliteral">    in place of the list string.  We signal the change by returning the name</span></div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="stringliteral">    of the (new) def in module pgdriveneestimator.py that will expect the</span></div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="stringliteral">    tempfile name, and process the first arg accordingly.</span></div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="stringliteral">    arg s_main_output_filename is used to get the output file directory path,</span></div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;<span class="stringliteral">    so that, if we need to write a temporary file, we can do so in the output</span></div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="stringliteral">    directory, rather than the current.</span></div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="stringliteral">    We assume:</span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<span class="stringliteral">        --the s_main_output_filename argument has an absolute path. </span></div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="stringliteral">        --even if we&#39;re in a windows environment, that the path in the </span></div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="stringliteral">        s_main_output_filename uses unix path separators (see the windows </span></div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;<span class="stringliteral">        path fix in def fix_windows_path(), which is called in def </span></div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;<span class="stringliteral">        run_driveneestimator_in_new_process.</span></div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    GENEPOP_FILE_LIST_ARG_INDEX=0</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    </div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;<span class="stringliteral">    This threshold may need to be adjusted upwards.</span></div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;<span class="stringliteral">    Inexact tests in Windows 10 showed the command </span></div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;<span class="stringliteral">    fails if its length is over N characters, with </span></div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;<span class="stringliteral">    N somethere in the range 29,000 to 32,000.</span></div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    MAX_CHARS_IN_COMMAND_WITHOUT_REDUCING=3e4</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    ALTERNATE_DEF_FOR_LONG_FILELIST=<span class="stringliteral">&quot;mymainlongfilelist&quot;</span></div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    DEFAULT_DEF_TO_CALL=<span class="stringliteral">&quot;mymain&quot;</span></div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    s_def_in_pgdriveneestimator_to_call=<span class="keywordtype">None</span></div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;<span class="stringliteral">    We pass this back to caller,</span></div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;<span class="stringliteral">    so that caller can delete the temp</span></div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;<span class="stringliteral">    file after the call to </span></div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;<span class="stringliteral">    pgdriveneestimator:</span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    s_temp_file_name=<span class="keywordtype">None</span></div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    s_path_separator=<span class="stringliteral">&quot;/&quot;</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    i_tot_chars_in_current_command=sum( [ len( s_arg ) <span class="keywordflow">for</span> s_arg <span class="keywordflow">in</span> seq_arg_set ] )</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    seq_new_arg_set=<span class="keywordtype">None</span></div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="keywordflow">if</span> i_tot_chars_in_current_command &gt; MAX_CHARS_IN_COMMAND_WITHOUT_REDUCING:</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        s_output_directory=os.path.dirname( s_main_output_filename )</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;        <span class="comment">#Returns a duple, int file descriptor, and str file name:</span></div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;        tup_tempfile=tempfile.mkstemp( dir=s_output_directory )</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;        s_temp_file_name=tup_tempfile[ 1 ]</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        <span class="keywordflow">if</span> is_windows_platform():</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;            s_temp_file_name=fix_windows_path( s_temp_file_name )</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        <span class="comment">#end if windows, standardize the path</span></div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        o_temp_file=open( s_temp_file_name, <span class="stringliteral">&#39;w&#39;</span> )</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        o_temp_file.write( seq_arg_set[ GENEPOP_FILE_LIST_ARG_INDEX ] + <span class="stringliteral">&quot;\n&quot;</span> )</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        o_temp_file.close()</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        </div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;        <span class="comment">#Replace the current genepopfile list argument</span></div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        <span class="comment">#with the temp file name.</span></div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        <span class="comment">#We take this step in case the genepop file list</span></div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        <span class="comment">#Is moved from its position as the first argument</span></div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        <span class="comment">#to pgdriveneestimator.mymain().</span></div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        <span class="comment">#As arg[0], this assigns an emtpy tuple:</span></div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;        tup_args_before_genepop_file_list=seq_arg_set[ 0 : GENEPOP_FILE_LIST_ARG_INDEX ]</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;        tup_args_after_genepop_file_list=seq_arg_set[ GENEPOP_FILE_LIST_ARG_INDEX + 1 : ]</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;        seq_new_arg_set=tup_args_before_genepop_file_list \</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;                                    + ( s_temp_file_name, ) \</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;                                    + tup_args_after_genepop_file_list</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;        s_def_in_pgdriveneestimator_to_call=ALTERNATE_DEF_FOR_LONG_FILELIST</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keywordflow">else</span>:</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        seq_new_arg_set=seq_arg_set</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        s_def_in_pgdriveneestimator_to_call=DEFAULT_DEF_TO_CALL </div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <span class="comment">#end if the command arg is too long, else not</span></div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        </div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="keywordflow">return</span> seq_new_arg_set, s_def_in_pgdriveneestimator_to_call, s_temp_file_name</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;<span class="comment">#end def replace_genepop_file_list_arg_with_file_name_if_list_too_long</span></div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a741453431df5aa517c9e2237ad2e6f27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.return_when_def_is_true </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>def_with_boolean_return</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dv_args</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>f_sleeptime_in_seconds</em> = <code>0.05</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This def returns when the call to the def given by the first arg
returns True.

Param def_to_test, ref to ta def that returns True or false.
Param args, a dict of the arguments needed (keys are param
    names, values are the args for each param).  If set to (default)
    None, then no args are passed to the def.
Param i_sleeptime.  Sleep interval, in seconds, between calls to the arg.
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l01803">1803</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01803"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#a741453431df5aa517c9e2237ad2e6f27"> 1803</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespacenegui_1_1pgutilities.html#a741453431df5aa517c9e2237ad2e6f27">return_when_def_is_true</a>( def_with_boolean_return, dv_args=None, f_sleeptime_in_seconds=0.05 ):</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;<span class="stringliteral">    This def returns when the call to the def given by the first arg</span></div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;<span class="stringliteral">    returns True.</span></div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;<span class="stringliteral">    Param def_to_test, ref to ta def that returns True or false.</span></div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;<span class="stringliteral">    Param args, a dict of the arguments needed (keys are param</span></div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;<span class="stringliteral">        names, values are the args for each param).  If set to (default)</span></div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;<span class="stringliteral">        None, then no args are passed to the def.</span></div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;<span class="stringliteral">    Param i_sleeptime.  Sleep interval, in seconds, between calls to the arg.</span></div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    <span class="keywordflow">while</span> <span class="keywordflow">not</span> <a class="code" href="namespacenegui_1_1pgutilities.html#a1971ec40e5be1289e22cf28e5da882f9">call_with_or_without_args</a>( def_with_boolean_return, dv_args ):    </div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;        time.sleep( f_sleeptime_in_seconds )</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;    <span class="comment">#end while return is False</span></div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;<span class="comment">#end return_when_def_is_true</span></div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_a1971ec40e5be1289e22cf28e5da882f9"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#a1971ec40e5be1289e22cf28e5da882f9">negui.pgutilities.call_with_or_without_args</a></div><div class="ttdeci">def call_with_or_without_args(def_to_call, dv_args)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l01872">pgutilities.py:1872</a></div></div>
<div class="ttc" id="namespacenegui_1_1pgutilities_html_a741453431df5aa517c9e2237ad2e6f27"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#a741453431df5aa517c9e2237ad2e6f27">negui.pgutilities.return_when_def_is_true</a></div><div class="ttdeci">def return_when_def_is_true(def_with_boolean_return, dv_args=None, f_sleeptime_in_seconds=0.05)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l01803">pgutilities.py:1803</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af7487f2b883dbb694f1d34379bca0d7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilities.run_driveneestimator_in_new_process </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>o_multiprocessing_event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_genepop_files</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>qs_sample_scheme_args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>f_min_allele_freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_replicates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>qs_loci_sampling_scheme_args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_loci_replicates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_num_processes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_runmode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_nbne_ratio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_do_nb_bias_adjustment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_outfile_basename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_temporary_directory_for_estimator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_file_delimiter</em> = <code>&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Similar to def above, "do_simulation_reps_in_subprocesses," this def is called from a
PGGuiNeEstimator instance, in def runEstimator(), which first spawns
a python multiprocessing.Process, which targest this def, and provides
it with the multiprocessing.Event that will signal it to abort and cleanup
(see above).

This def is simpler than the do_simulation_reps_in_subprocesses def, however, in that it
spawns only a single OS process, that calls python to execute pgdriveneestimator.py,
which itself multiplexes the NeAnlaysis of multiple genepop files and (likely) multiple
pops per file using python.multiprocessing.Process objects.
</pre> 
<p>Definition at line <a class="el" href="pgutilities_8py_source.html#l01006">1006</a> of file <a class="el" href="pgutilities_8py_source.html">pgutilities.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01006"></a><span class="lineno"><a class="line" href="namespacenegui_1_1pgutilities.html#af7487f2b883dbb694f1d34379bca0d7c"> 1006</a></span>&#160;                                        s_file_delimiter=<span class="stringliteral">&quot;,&quot;</span> ):</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="stringliteral">    Similar to def above, &quot;do_simulation_reps_in_subprocesses,&quot; this def is called from a</span></div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="stringliteral">    PGGuiNeEstimator instance, in def runEstimator(), which first spawns</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="stringliteral">    a python multiprocessing.Process, which targest this def, and provides</span></div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="stringliteral">    it with the multiprocessing.Event that will signal it to abort and cleanup</span></div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="stringliteral">    (see above).</span></div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;<span class="stringliteral">    This def is simpler than the do_simulation_reps_in_subprocesses def, however, in that it</span></div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="stringliteral">    spawns only a single OS process, that calls python to execute pgdriveneestimator.py,</span></div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="stringliteral">    which itself multiplexes the NeAnlaysis of multiple genepop files and (likely) multiple</span></div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;<span class="stringliteral">    pops per file using python.multiprocessing.Process objects.</span></div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="stringliteral">    &#39;&#39;&#39;</span></div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keywordflow">try</span>:</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        s_os_plaform_name=platform.system()</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        </div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <span class="comment">#if we&#39;re on windows, file</span></div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <span class="comment">#paths may be a mangled mix of unix and </span></div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        <span class="comment">#windows separators -- with errors resulting</span></div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        <span class="comment">#downstream.  So we standardize:</span></div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <span class="keywordflow">if</span> s_os_plaform_name == <span class="stringliteral">&quot;windows&quot;</span>:</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;            ls_current_file_list=s_genepop_files.split( s_file_delimiter )</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            ls_new_file_list=[]</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            <span class="keywordflow">for</span> s_file <span class="keywordflow">in</span> ls_current_file_list:</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                ls_new_file_list.append( fix_windows_path( s_file ) )</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            <span class="comment">#end for each file</span></div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;            </div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            <span class="comment">#replace orig arg with new &quot;fixed&quot; file paths</span></div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;            s_genepop_files=<span class="stringliteral">&quot;,&quot;</span>.join( ls_new_file_list )</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;            <span class="comment">#also need to fix outile path:</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;            s_outfile_basename = fix_windows_path( s_outfile_basename )</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        <span class="comment">#end if windows, fix file path strings</span></div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;        <span class="comment">#get the correct format for pgdriveneestimator.py&#39;s file name parsing alg:</span></div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        s_genepop_files_formatted_as_python_list= \</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                <a class="code" href="namespacenegui_1_1pgutilities.html#aed0f15b22462914445ffe1ec2a77cbc8">convert_genepop_files_string_to_list_format</a>( s_genepop_files )</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <span class="comment">#caller, assumed to be a pgguineestimator instance,</span></div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        <span class="comment">#will have &quot;default&quot; for the runmode val, </span></div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <span class="comment">#when no extra output is desired, and multiprocessing is also</span></div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        <span class="comment">#desired.  We convert to the proper term used by pgdriveneestimator.py</span></div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        <span class="comment">#to designate this type of run:</span></div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        <span class="comment">#2016_11_26 -- while a bug in the parallel processing of ne estimates</span></div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        <span class="comment">#is being solved, we&#39;re now offering in the gui the two modes &quot;serial&quot;</span></div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <span class="comment">#and &quot;parallel&quot;, and recommending &quot;serial&quot;</span></div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        <span class="keywordflow">if</span> s_runmode==<span class="stringliteral">&quot;default&quot;</span>:</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;            s_runmode=<span class="stringliteral">&quot;no_debug&quot;</span></div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        <span class="keywordflow">elif</span> s_runmode==<span class="stringliteral">&quot;serial&quot;</span>:</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;            s_runmode=<span class="stringliteral">&quot;no_debug_serial&quot;</span></div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        <span class="keywordflow">elif</span> s_runmode ==<span class="stringliteral">&quot;parallel&quot;</span>:</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            s_runmode=<span class="stringliteral">&quot;no_debug&quot;</span></div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        <span class="comment">#end if runmode needs translating for the drive</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        <span class="comment">#Make of a single sequence of strings.</span></div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        qs_files_args=( s_genepop_files_formatted_as_python_list, ) </div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        <span class="comment">#join tuples of arguments in the proper order</span></div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;        <span class="comment">#for the call to pgdriveneestimator.py:</span></div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        seq_arg_set=qs_files_args \</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                        + qs_sample_scheme_args \</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                        + ( str( f_min_allele_freq ), str( i_replicates ) ) \</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                        + qs_loci_sampling_scheme_args \</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                        + ( str( i_loci_replicates ), str( i_num_processes ), s_runmode, s_nbne_ratio, s_do_nb_bias_adjustment ) </div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;        s_main_output_filename=s_outfile_basename + <span class="stringliteral">&quot;.&quot;</span> \</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                + NE_ESTIMATION_MAIN_TABLE_FILE_EXT</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        s_secondary_output_filename=s_outfile_basename + <span class="stringliteral">&quot;.&quot;</span> \</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                + NE_ESTIMATION_SECONDARY_OUTPUT_FILE_EXT</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        <span class="keywordflow">if</span> is_windows_platform():</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;            s_main_output_filename=fix_windows_path( s_main_output_filename )</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;            s_secondary_output_filename=fix_windows_path( s_secondary_output_filename )</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;            s_temporary_directory_for_estimator=fix_windows_path( s_temporary_directory_for_estimator )</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <span class="comment">#end if windows, fix paths</span></div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;<span class="stringliteral">        2017_03_27.  The call now has an appended argument that</span></div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;<span class="stringliteral">        gives the name of a temporary directory inside of which</span></div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;<span class="stringliteral">        the pgdriveneestimator def do_estimate will write intermediate</span></div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;<span class="stringliteral">        genepop files.  This name will be knowsn to the caller to</span></div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;<span class="stringliteral">        run_driveneestimator_in_new_process, and so can delete</span></div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="stringliteral">        its contents after the estimation code is run.</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        seq_arg_set += ( s_main_output_filename,</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                                s_secondary_output_filename, </div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                                s_temporary_directory_for_estimator )</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;<span class="stringliteral">        2017_05_31.  We now add an argument that activates gui messaging.</span></div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        seq_arg_set += ( <span class="stringliteral">&quot;True&quot;</span>, )</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;<span class="stringliteral">        2017_02_20.  We check the set of arguments for total command length.</span></div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="stringliteral">        So that it will not be mis-processed by Windows,</span></div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="stringliteral">        and generate a WindowsError &quot;The parameter is incorrect,&quot;  </span></div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;<span class="stringliteral">        we call a def to correct the command, if it is too long.  In any case</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="stringliteral">        it sends us the name of the correct def to call in in pgdriveneestimator.py </span></div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="stringliteral">        (mymain or mymainlongfilelist), and a (possibly altered), final arg set</span></div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="stringliteral">        tuple.  It also returns the name of the temp file (None if no file written),</span></div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="stringliteral">        so that we can remove it after the subprocess has completed.</span></div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        seq_final_arg_set, s_pgdriveneestimator_main_def_to_call, s_temp_file_for_long_genepop_file_list =\</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                <a class="code" href="namespacenegui_1_1pgutilities.html#af0416d36a2f9a99c1658b47c5d35ac6c">replace_genepop_file_list_arg_with_file_name_if_list_too_long</a>( seq_arg_set,</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                                                                                s_main_output_filename )</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        o_subprocess=<a class="code" href="namespacenegui_1_1pgutilities.html#ad33c328d8fe2b8fe9489c512c18d1765">call_driveneestimator_using_subprocess</a>( seq_final_arg_set, </div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                                            s_main_def_to_call=s_pgdriveneestimator_main_def_to_call )</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="stringliteral">        This def loops while calling poll() and tests timeout value, currently</span></div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;<span class="stringliteral">        (2016_12_02)large enough to be irrelevant.  It also checks for the </span></div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;<span class="stringliteral">        callers multiprocessing.event.set(), and kills the subprocess</span></div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="stringliteral">        and its children in event.set(), then calls even.clear():</span></div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="stringliteral">        self.__temporary_directory_for_estimator=None</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        <a class="code" href="namespacenegui_1_1pgutilities.html#aa62ddf0928a977844669e59f5b4e3329">manage_driveneestimator_subprocess</a>( o_subprocess, o_multiprocessing_event )</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        <span class="keywordflow">if</span> s_temp_file_for_long_genepop_file_list <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;            <span class="keywordflow">try</span>:</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="stringliteral">                02/21/2017 I have not yet been able to figure out why </span></div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;<span class="stringliteral">                Windows claims the file is being used by another process.</span></div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;<span class="stringliteral">                This stop-gap will at least inform the user of the file</span></div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;<span class="stringliteral">                and that it is temporary, but failed to disappear. Note </span></div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="stringliteral">                that we avoid throwing an exception, so that the GUI can</span></div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;<span class="stringliteral">                finish up as though an Nb estimation process completed</span></div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;<span class="stringliteral">                normally.</span></div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;<span class="stringliteral">                &#39;&#39;&#39;</span></div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                os.remove( s_temp_file_for_long_genepop_file_list )</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;            <span class="keywordflow">except</span> Exception <span class="keyword">as</span> oex:</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                s_msg=<span class="stringliteral">&quot;Warning:  a temporary file, &quot;</span> + s_temp_file_for_long_genepop_file_list \</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                                + <span class="stringliteral">&quot;, was created to handle a large list of genepop files.  The program &quot;</span> \</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                                + <span class="stringliteral">&quot;was not able to remove the file, and raised an exception with a message: &quot;</span> \</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                                + str( oex ) + <span class="stringliteral">&quot;.  The file is not needed and can be deleted.&quot;</span> </div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                show_warning_in_messagebox_in_new_process( s_msg )  </div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;            <span class="comment">#end try...except</span></div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        <span class="comment">#end if we&#39;ve made a file to hold a very long list of genepop files</span></div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <span class="keywordflow">except</span> Exception <span class="keyword">as</span> oex:</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;<span class="stringliteral">        The calling GUI tests for this event&#39;s set status.</span></div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="stringliteral">        If it finds set, it will reset the GUI to show</span></div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;<span class="stringliteral">        the estimation has halted.</span></div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;        <span class="keywordflow">if</span> o_multiprocessing_event <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;            o_multiprocessing_event.set()</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        <span class="comment">#end if we have a non-None event object</span></div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        </div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        show_error_in_messagebox_in_new_process( oex, </div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                s_msg_prefix = <span class="stringliteral">&quot;Error caught by pgutilities, &quot;</span></div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;                                + <span class="stringliteral">&quot;def run_driveneestimator_in_new_process.&quot;</span> )</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;        <span class="keywordflow">raise</span> oex</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <span class="comment">#end try...except...</span></div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="keywordflow">return</span></div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;<span class="comment">#end run_driveneestimator_in_new_process</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div><div class="ttc" id="namespacenegui_1_1pgutilities_html_aa62ddf0928a977844669e59f5b4e3329"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#aa62ddf0928a977844669e59f5b4e3329">negui.pgutilities.manage_driveneestimator_subprocess</a></div><div class="ttdeci">def manage_driveneestimator_subprocess(o_subprocess, o_multiprocessing_event)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l01351">pgutilities.py:1351</a></div></div>
<div class="ttc" id="namespacenegui_1_1pgutilities_html_ad33c328d8fe2b8fe9489c512c18d1765"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#ad33c328d8fe2b8fe9489c512c18d1765">negui.pgutilities.call_driveneestimator_using_subprocess</a></div><div class="ttdeci">def call_driveneestimator_using_subprocess(seq_arg_set, s_main_def_to_call=&quot;mymain&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l01307">pgutilities.py:1307</a></div></div>
<div class="ttc" id="namespacenegui_1_1pgutilities_html_af0416d36a2f9a99c1658b47c5d35ac6c"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#af0416d36a2f9a99c1658b47c5d35ac6c">negui.pgutilities.replace_genepop_file_list_arg_with_file_name_if_list_too_long</a></div><div class="ttdeci">def replace_genepop_file_list_arg_with_file_name_if_list_too_long(seq_arg_set, s_main_output_filename)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l01174">pgutilities.py:1174</a></div></div>
<div class="ttc" id="namespacenegui_1_1pgutilities_html_aed0f15b22462914445ffe1ec2a77cbc8"><div class="ttname"><a href="namespacenegui_1_1pgutilities.html#aed0f15b22462914445ffe1ec2a77cbc8">negui.pgutilities.convert_genepop_files_string_to_list_format</a></div><div class="ttdeci">def convert_genepop_files_string_to_list_format(s_genepop_files)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilities_8py_source.html#l00975">pgutilities.py:975</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
