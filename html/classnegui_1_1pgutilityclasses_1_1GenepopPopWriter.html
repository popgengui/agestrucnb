<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Popgen GUI: negui.pgutilityclasses.GenepopPopWriter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Popgen GUI
   </div>
   <div id="projectbrief">GUI Front end with refactoring of population genetics programming provided by Tiago Antao&#39;s AgeStructureNe code, with some outside dependancies (chiefly simuPop and NeEstimator)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>negui</b></li><li class="navelem"><a class="el" href="namespacenegui_1_1pgutilityclasses.html">pgutilityclasses</a></li><li class="navelem"><a class="el" href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html">GenepopPopWriter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">negui.pgutilityclasses.GenepopPopWriter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for negui.pgutilityclasses.GenepopPopWriter:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.png" usemap="#negui.pgutilityclasses.GenepopPopWriter_map" alt=""/>
  <map id="negui.pgutilityclasses.GenepopPopWriter_map" name="negui.pgutilityclasses.GenepopPopWriter_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab959b06f8c41bcbc7615144cd1f25ed7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab959b06f8c41bcbc7615144cd1f25ed7"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>__init__</b> (self, s_genepop_file_name, s_header, s_loci_lines, i_max_entry_capacity=STANDARD_CAPACITY)</td></tr>
<tr class="separator:ab959b06f8c41bcbc7615144cd1f25ed7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c7d53c68d1c3533ed1fd861f9bd60e4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html#a5c7d53c68d1c3533ed1fd861f9bd60e4">addEntryAndWriteFirstIfFull</a> (self, i_pop_number, s_indiv_and_loci_entry)</td></tr>
<tr class="separator:a5c7d53c68d1c3533ed1fd861f9bd60e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed8c87c59012a83d0b8aa02f0c06b8fc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aed8c87c59012a83d0b8aa02f0c06b8fc"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>entry_count</b> (self)</td></tr>
<tr class="separator:aed8c87c59012a83d0b8aa02f0c06b8fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a079997944121d92a315f774cae76ff22"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a079997944121d92a315f774cae76ff22"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>STANDARD_CAPACITY</b> = 1</td></tr>
<tr class="separator:a079997944121d92a315f774cae76ff22"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">This class was created to simplify
and speed up the output performance 
of the simulation.  It is an alternative
to the original 3-file output that I conserved
from the original AgeStructure code.  

This class is meant to be used by PGOpSimuPop instances,
and the PGOutputSimuPop instances,
to store output until a threshold is reached, when it
will then write it to file.  

Assumtions 
  1. The client adds entries using numbering with ints the "pop" sections
    in the order they are intended to be written to file. 
  2.  The client adds entries in the order they are to be written.
  3.  The loci list is either \n endlined, or on a single line.

As of 2017_04_22 it is not yet integrated into the
simulation code.
</pre> 
<p>Definition at line <a class="el" href="pgutilityclasses_8py_source.html#l01487">1487</a> of file <a class="el" href="pgutilityclasses_8py_source.html">pgutilityclasses.py</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a5c7d53c68d1c3533ed1fd861f9bd60e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def negui.pgutilityclasses.GenepopPopWriter.addEntryAndWriteFirstIfFull </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_pop_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s_indiv_and_loci_entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This def checks the current capacity, and if the number of entries 
currently meets it, it will write the current pops to the file
given by the self.__genepop_file string.

Otherwise it will add the entry to the pop indicated by arg i_pop_number.
</pre> 
<p>Definition at line <a class="el" href="pgutilityclasses_8py_source.html#l01578">1578</a> of file <a class="el" href="pgutilityclasses_8py_source.html">pgutilityclasses.py</a>.</p>
<div class="fragment"><div class="line"><a name="l01578"></a><span class="lineno"><a class="line" href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html#a5c7d53c68d1c3533ed1fd861f9bd60e4"> 1578</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html#a5c7d53c68d1c3533ed1fd861f9bd60e4">addEntryAndWriteFirstIfFull</a>( self, i_pop_number, s_indiv_and_loci_entry ):</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;<span class="stringliteral">        This def checks the current capacity, and if the number of entries </span></div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;<span class="stringliteral">        currently meets it, it will write the current pops to the file</span></div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;<span class="stringliteral">        given by the self.__genepop_file string.</span></div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;<span class="stringliteral">        Otherwise it will add the entry to the pop indicated by arg i_pop_number.</span></div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html#a304e157063ad06904e141c994c5b514f">__entry_count</a> &gt; i_max_entry_capacity:</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;            s_msg=<span class="stringliteral">&quot;In GenepopPopWriter instance, the current total &quot;</span> \</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;                        + <span class="stringliteral">&quot;for number of entries, &quot;</span> + str( self.<a class="code" href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html#a304e157063ad06904e141c994c5b514f">__entry_count</a> ) \</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;                        + <span class="stringliteral">&quot;exceeds the value for maximum capacity, &quot;</span> \</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;                        + str( self.<a class="code" href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html#ac04999010b2eda1fbfc0c36cdac4943c">__max_capacity</a> ) + <span class="stringliteral">&quot;.&quot;</span></div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;        <span class="keywordflow">elif</span> self.<a class="code" href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html#a304e157063ad06904e141c994c5b514f">__entry_count</a>==i_max_entry_capacity:</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;            self.<a class="code" href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html#a5cc6479ab88e930a41d03b589397d241">__write_current_pop_entries</a></div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;            b_pop_already_written_and_surpassed = \</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;                i_pop_number <span class="keywordflow">in</span> self.<a class="code" href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html#a9ee4e3161f6698084fcf0d2ab747bd80">__numbers_of_written_pops</a> \</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;                    <span class="keywordflow">and</span> i_pop_number != self.<a class="code" href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html#ae11fb07e14cea411fd205f014cd75474">__num_last_pop_written</a></div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;            b_pop_number_smaller_than_current = \</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;                i_pop_number &lt; self.<a class="code" href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html#ae11fb07e14cea411fd205f014cd75474">__num_last_pop_written</a></div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;            <span class="keywordflow">if</span> b_pop_already_written_and_surpassed \</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;                    <span class="keywordflow">or</span> b_pop_number_smaller_than_current:</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;                s_msg=<span class="stringliteral">&quot;In GenepopPopWriter instance, the current entry, &quot;</span> \</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;                            + <span class="stringliteral">&quot;cannot be added.  It has a pop number, &quot;</span>  \</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;                            + str( i_pop_number ) \</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;                            + <span class="stringliteral">&quot;lower than the last one written,  &quot;</span> \</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;                            + <span class="stringliteral">&quot;with other pops written after it.&quot;</span></div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;                <span class="keywordflow">raise</span> Exception( s_msg )</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;                <span class="keywordflow">if</span> i_pop <span class="keywordflow">not</span> <span class="keywordflow">in</span> self.<a class="code" href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html#afa7ef2e505b37a1dff9bb3479c356df8">__pops</a>:</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;                    self.<a class="code" href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html#afa7ef2e505b37a1dff9bb3479c356df8">__pops</a>[ i ]=[ s_indiv_and_loci_entry ]</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;                <span class="keywordflow">else</span>:</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;                    self.<a class="code" href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html#afa7ef2e505b37a1dff9bb3479c356df8">__pops</a>[ i ].append( s_indiv_and_loci_entry )</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;                <span class="comment">#end</span></div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                <span class="stringliteral">&#39;&#39;&#39;</span></div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;<span class="stringliteral">                This should be the only code that increments the</span></div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;<span class="stringliteral">                entry count. Note that it is decremented only in</span></div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;<span class="stringliteral">                __write_current_pop_entries.</span></div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;<span class="stringliteral">                &#39;&#39;&#39;</span></div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                self.<a class="code" href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html#a304e157063ad06904e141c994c5b514f">__entry_count</a> += 1</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;                    </div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;            <span class="comment">#end if pop has a number showing its either out of order</span></div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;            <span class="comment">#or already written</span></div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;</div><div class="ttc" id="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter_html_ae11fb07e14cea411fd205f014cd75474"><div class="ttname"><a href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html#ae11fb07e14cea411fd205f014cd75474">negui.pgutilityclasses.GenepopPopWriter.__num_last_pop_written</a></div><div class="ttdeci">__num_last_pop_written</div><div class="ttdef"><b>Definition:</b> <a href="pgutilityclasses_8py_source.html#l01524">pgutilityclasses.py:1524</a></div></div>
<div class="ttc" id="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter_html_a304e157063ad06904e141c994c5b514f"><div class="ttname"><a href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html#a304e157063ad06904e141c994c5b514f">negui.pgutilityclasses.GenepopPopWriter.__entry_count</a></div><div class="ttdeci">__entry_count</div><div class="ttdef"><b>Definition:</b> <a href="pgutilityclasses_8py_source.html#l01526">pgutilityclasses.py:1526</a></div></div>
<div class="ttc" id="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter_html_a5cc6479ab88e930a41d03b589397d241"><div class="ttname"><a href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html#a5cc6479ab88e930a41d03b589397d241">negui.pgutilityclasses.GenepopPopWriter.__write_current_pop_entries</a></div><div class="ttdeci">def __write_current_pop_entries(self)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilityclasses_8py_source.html#l01530">pgutilityclasses.py:1530</a></div></div>
<div class="ttc" id="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter_html_a5c7d53c68d1c3533ed1fd861f9bd60e4"><div class="ttname"><a href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html#a5c7d53c68d1c3533ed1fd861f9bd60e4">negui.pgutilityclasses.GenepopPopWriter.addEntryAndWriteFirstIfFull</a></div><div class="ttdeci">def addEntryAndWriteFirstIfFull(self, i_pop_number, s_indiv_and_loci_entry)</div><div class="ttdef"><b>Definition:</b> <a href="pgutilityclasses_8py_source.html#l01578">pgutilityclasses.py:1578</a></div></div>
<div class="ttc" id="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter_html_a9ee4e3161f6698084fcf0d2ab747bd80"><div class="ttname"><a href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html#a9ee4e3161f6698084fcf0d2ab747bd80">negui.pgutilityclasses.GenepopPopWriter.__numbers_of_written_pops</a></div><div class="ttdeci">__numbers_of_written_pops</div><div class="ttdef"><b>Definition:</b> <a href="pgutilityclasses_8py_source.html#l01525">pgutilityclasses.py:1525</a></div></div>
<div class="ttc" id="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter_html_afa7ef2e505b37a1dff9bb3479c356df8"><div class="ttname"><a href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html#afa7ef2e505b37a1dff9bb3479c356df8">negui.pgutilityclasses.GenepopPopWriter.__pops</a></div><div class="ttdeci">__pops</div><div class="ttdef"><b>Definition:</b> <a href="pgutilityclasses_8py_source.html#l01523">pgutilityclasses.py:1523</a></div></div>
<div class="ttc" id="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter_html_ac04999010b2eda1fbfc0c36cdac4943c"><div class="ttname"><a href="classnegui_1_1pgutilityclasses_1_1GenepopPopWriter.html#ac04999010b2eda1fbfc0c36cdac4943c">negui.pgutilityclasses.GenepopPopWriter.__max_capacity</a></div><div class="ttdeci">__max_capacity</div><div class="ttdef"><b>Definition:</b> <a href="pgutilityclasses_8py_source.html#l01521">pgutilityclasses.py:1521</a></div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="pgutilityclasses_8py_source.html">pgutilityclasses.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
